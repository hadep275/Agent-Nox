{"version":3,"file":"extension.js","mappings":"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","sources":["webpack://nox-vscode/./node_modules/asynckit/serialOrdered.js","webpack://nox-vscode/./node_modules/call-bind-apply-helpers/functionCall.js","webpack://nox-vscode/./node_modules/openai/internal/qs/stringify.js","webpack://nox-vscode/./node_modules/openai/resources/fine-tuning/checkpoints/checkpoints.js","webpack://nox-vscode/./node_modules/openai/internal/headers.js","webpack://nox-vscode/./node_modules/openai/resources/conversations/items.js","webpack://nox-vscode/./node_modules/asynckit/lib/defer.js","webpack://nox-vscode/./node_modules/math-intrinsics/round.js","webpack://nox-vscode/./node_modules/openai/internal/shims.js","webpack://nox-vscode/./node_modules/get-intrinsic/index.js","webpack://nox-vscode/./node_modules/openai/lib/EventStream.js","webpack://nox-vscode/./node_modules/openai/resources/responses/responses.js","webpack://nox-vscode/./node_modules/es-define-property/index.js","webpack://nox-vscode/./node_modules/debug/src/common.js","webpack://nox-vscode/./node_modules/form-data/lib/form_data.js","webpack://nox-vscode/./src/commands/analyzeCommand.js","webpack://nox-vscode/./node_modules/openai/internal/utils/bytes.js","webpack://nox-vscode/./node_modules/combined-stream/lib/combined_stream.js","webpack://nox-vscode/external node-commonjs \"os\"","webpack://nox-vscode/./node_modules/openai/internal/errors.js","webpack://nox-vscode/./node_modules/call-bind-apply-helpers/functionApply.js","webpack://nox-vscode/./node_modules/get-proto/Object.getPrototypeOf.js","webpack://nox-vscode/./node_modules/openai/resources/evals/runs/output-items.js","webpack://nox-vscode/./node_modules/openai/lib/AbstractChatCompletionRunner.js","webpack://nox-vscode/./node_modules/es-errors/eval.js","webpack://nox-vscode/./node_modules/openai/resources/embeddings.js","webpack://nox-vscode/./node_modules/openai/resources/audio/audio.js","webpack://nox-vscode/./node_modules/openai/client.js","webpack://nox-vscode/./node_modules/has-symbols/shams.js","webpack://nox-vscode/./node_modules/form-data/lib/populate.js","webpack://nox-vscode/external commonjs \"vscode\"","webpack://nox-vscode/./node_modules/openai/internal/qs/index.js","webpack://nox-vscode/./node_modules/openai/resources/files.js","webpack://nox-vscode/./node_modules/openai/core/api-promise.js","webpack://nox-vscode/./node_modules/math-intrinsics/abs.js","webpack://nox-vscode/./node_modules/openai/resources/fine-tuning/jobs/jobs.js","webpack://nox-vscode/./node_modules/asynckit/index.js","webpack://nox-vscode/./node_modules/openai/resources/beta/threads/runs/runs.js","webpack://nox-vscode/./src/webview/chatSidebar.js","webpack://nox-vscode/./node_modules/openai/index.js","webpack://nox-vscode/external node-commonjs \"tty\"","webpack://nox-vscode/./node_modules/openai/core/resource.js","webpack://nox-vscode/./node_modules/asynckit/serial.js","webpack://nox-vscode/./node_modules/openai/resources/containers/containers.js","webpack://nox-vscode/./node_modules/openai/internal/detect-platform.js","webpack://nox-vscode/external node-commonjs \"stream\"","webpack://nox-vscode/./node_modules/openai/resources/fine-tuning/methods.js","webpack://nox-vscode/./src/commands/explainCommand.js","webpack://nox-vscode/./node_modules/openai/resources/fine-tuning/alpha/graders.js","webpack://nox-vscode/./node_modules/asynckit/lib/async.js","webpack://nox-vscode/./node_modules/openai/resources/batches.js","webpack://nox-vscode/external node-commonjs \"assert\"","webpack://nox-vscode/./node_modules/openai/resources/beta/threads/threads.js","webpack://nox-vscode/./node_modules/openai/resources/beta/realtime/transcription-sessions.js","webpack://nox-vscode/./node_modules/openai/resources/chat/completions/index.js","webpack://nox-vscode/./node_modules/openai/resources/realtime/calls.js","webpack://nox-vscode/./node_modules/openai/resources/beta/assistants.js","webpack://nox-vscode/./node_modules/openai/resources/uploads/uploads.js","webpack://nox-vscode/./node_modules/openai/resources/chat/completions/completions.js","webpack://nox-vscode/./node_modules/openai/resources/uploads/parts.js","webpack://nox-vscode/./node_modules/math-intrinsics/sign.js","webpack://nox-vscode/external node-commonjs \"zlib\"","webpack://nox-vscode/./node_modules/call-bind-apply-helpers/index.js","webpack://nox-vscode/./src/core/indexEngine.js","webpack://nox-vscode/./node_modules/call-bind-apply-helpers/actualApply.js","webpack://nox-vscode/./node_modules/follow-redirects/index.js","webpack://nox-vscode/./node_modules/openai/resources/vector-stores/file-batches.js","webpack://nox-vscode/./node_modules/openai/lib/Util.js","webpack://nox-vscode/./node_modules/openai/lib/parser.js","webpack://nox-vscode/./node_modules/openai/resources/fine-tuning/fine-tuning.js","webpack://nox-vscode/./node_modules/node-record-lpcm16/node_modules/debug/src/node.js","webpack://nox-vscode/./node_modules/get-proto/index.js","webpack://nox-vscode/./node_modules/openai/_vendor/partial-json-parser/parser.js","webpack://nox-vscode/./node_modules/openai/resources/audio/transcriptions.js","webpack://nox-vscode/./node_modules/openai/resources/beta/realtime/realtime.js","webpack://nox-vscode/./node_modules/openai/resources/vector-stores/files.js","webpack://nox-vscode/./node_modules/openai/internal/utils/log.js","webpack://nox-vscode/./node_modules/openai/resources/beta/realtime/sessions.js","webpack://nox-vscode/./node_modules/openai/resources/index.js","webpack://nox-vscode/./node_modules/openai/resources/fine-tuning/jobs/checkpoints.js","webpack://nox-vscode/./node_modules/openai/resources/realtime/client-secrets.js","webpack://nox-vscode/./node_modules/openai/resources/beta/chatkit/sessions.js","webpack://nox-vscode/./extension.js","webpack://nox-vscode/./node_modules/has-symbols/index.js","webpack://nox-vscode/./node_modules/openai/core/error.js","webpack://nox-vscode/./node_modules/openai/resources/fine-tuning/alpha/alpha.js","webpack://nox-vscode/./node_modules/openai/resources/vector-stores/vector-stores.js","webpack://nox-vscode/./node_modules/openai/internal/utils/base64.js","webpack://nox-vscode/./src/storage/cacheManager.js","webpack://nox-vscode/external node-commonjs \"events\"","webpack://nox-vscode/./node_modules/math-intrinsics/isNaN.js","webpack://nox-vscode/./node_modules/asynckit/lib/abort.js","webpack://nox-vscode/./node_modules/openai/lib/ChatCompletionRunner.js","webpack://nox-vscode/./node_modules/openai/lib/RunnableFunction.js","webpack://nox-vscode/./node_modules/openai/internal/utils.js","webpack://nox-vscode/./node_modules/openai/internal/utils/sleep.js","webpack://nox-vscode/./node_modules/openai/resources/evals/evals.js","webpack://nox-vscode/./node_modules/openai/internal/utils/path.js","webpack://nox-vscode/./node_modules/openai/resources/moderations.js","webpack://nox-vscode/./node_modules/openai/resources/containers/files/content.js","webpack://nox-vscode/./node_modules/openai/resources/audio/speech.js","webpack://nox-vscode/./node_modules/openai/lib/ChatCompletionStream.js","webpack://nox-vscode/./node_modules/openai/resources/graders/grader-models.js","webpack://nox-vscode/./src/core/performanceMonitor.js","webpack://nox-vscode/./node_modules/openai/internal/qs/formats.js","webpack://nox-vscode/./src/core/agentController.js","webpack://nox-vscode/external node-commonjs \"child_process\"","webpack://nox-vscode/./node_modules/es-errors/uri.js","webpack://nox-vscode/./node_modules/openai/version.js","webpack://nox-vscode/./node_modules/openai/core/pagination.js","webpack://nox-vscode/./node_modules/openai/resources/fine-tuning/checkpoints/permissions.js","webpack://nox-vscode/./node_modules/openai/resources/shared.js","webpack://nox-vscode/./src/core/aiClient.js","webpack://nox-vscode/external node-commonjs \"https\"","webpack://nox-vscode/./src/commands/apiKeyCommand.js","webpack://nox-vscode/./node_modules/openai/internal/utils/values.js","webpack://nox-vscode/./node_modules/debug/src/index.js","webpack://nox-vscode/./node_modules/gopd/index.js","webpack://nox-vscode/./node_modules/openai/resources/responses/input-items.js","webpack://nox-vscode/./node_modules/math-intrinsics/pow.js","webpack://nox-vscode/./node_modules/has-flag/index.js","webpack://nox-vscode/./node_modules/node-record-lpcm16/recorders/index.js","webpack://nox-vscode/./src/core/contextManager.js","webpack://nox-vscode/./node_modules/openai/resources/evals/runs/runs.js","webpack://nox-vscode/./node_modules/debug/src/node.js","webpack://nox-vscode/./node_modules/mime-types/index.js","webpack://nox-vscode/./node_modules/openai/resources/beta/threads/messages.js","webpack://nox-vscode/./node_modules/openai/resources/chat/chat.js","webpack://nox-vscode/./node_modules/node-record-lpcm16/node_modules/debug/src/browser.js","webpack://nox-vscode/./node_modules/openai/resources/beta/beta.js","webpack://nox-vscode/./node_modules/math-intrinsics/max.js","webpack://nox-vscode/./node_modules/asynckit/lib/terminator.js","webpack://nox-vscode/./node_modules/openai/lib/chatCompletionUtils.js","webpack://nox-vscode/./node_modules/node-record-lpcm16/node_modules/debug/src/index.js","webpack://nox-vscode/./node_modules/node-record-lpcm16/index.js","webpack://nox-vscode/./node_modules/proxy-from-env/index.js","webpack://nox-vscode/./node_modules/gopd/gOPD.js","webpack://nox-vscode/./node_modules/ms/index.js","webpack://nox-vscode/./node_modules/openai/lib/responses/ResponseStream.js","webpack://nox-vscode/./node_modules/openai/internal/to-file.js","webpack://nox-vscode/./node_modules/openai/streaming.js","webpack://nox-vscode/./node_modules/function-bind/index.js","webpack://nox-vscode/./src/core/voiceRecordingService.js","webpack://nox-vscode/external node-commonjs \"path\"","webpack://nox-vscode/external node-commonjs \"crypto\"","webpack://nox-vscode/external node-commonjs \"url\"","webpack://nox-vscode/./node_modules/call-bind-apply-helpers/reflectApply.js","webpack://nox-vscode/./node_modules/dunder-proto/get.js","webpack://nox-vscode/./src/core/fileOps.js","webpack://nox-vscode/./node_modules/openai/internal/utils/env.js","webpack://nox-vscode/./node_modules/openai/resources/images.js","webpack://nox-vscode/./node_modules/openai/internal/request-options.js","webpack://nox-vscode/./src/utils/logger.js","webpack://nox-vscode/./node_modules/follow-redirects/debug.js","webpack://nox-vscode/./node_modules/mime-db/index.js","webpack://nox-vscode/./node_modules/openai/resources/audio/translations.js","webpack://nox-vscode/./node_modules/supports-color/index.js","webpack://nox-vscode/./node_modules/uuid/dist/esm-node/rng.js","webpack://nox-vscode/./node_modules/uuid/dist/esm-node/regex.js","webpack://nox-vscode/./node_modules/uuid/dist/esm-node/validate.js","webpack://nox-vscode/./node_modules/uuid/dist/esm-node/stringify.js","webpack://nox-vscode/./node_modules/uuid/dist/esm-node/v1.js","webpack://nox-vscode/./node_modules/uuid/dist/esm-node/parse.js","webpack://nox-vscode/./node_modules/uuid/dist/esm-node/v35.js","webpack://nox-vscode/./node_modules/uuid/dist/esm-node/md5.js","webpack://nox-vscode/./node_modules/uuid/dist/esm-node/v3.js","webpack://nox-vscode/./node_modules/uuid/dist/esm-node/native.js","webpack://nox-vscode/./node_modules/uuid/dist/esm-node/v4.js","webpack://nox-vscode/./node_modules/uuid/dist/esm-node/v5.js","webpack://nox-vscode/./node_modules/uuid/dist/esm-node/sha1.js","webpack://nox-vscode/./node_modules/uuid/dist/esm-node/nil.js","webpack://nox-vscode/./node_modules/uuid/dist/esm-node/version.js","webpack://nox-vscode/./node_modules/openai/lib/ChatCompletionStreamingRunner.js","webpack://nox-vscode/./node_modules/openai/resources/beta/threads/runs/steps.js","webpack://nox-vscode/./node_modules/openai/lib/ResponsesParser.js","webpack://nox-vscode/./node_modules/debug/src/browser.js","webpack://nox-vscode/./node_modules/node-record-lpcm16/node_modules/debug/src/debug.js","webpack://nox-vscode/./node_modules/openai/resources/containers/files/files.js","webpack://nox-vscode/./src/enterprise/auditLogger.js","webpack://nox-vscode/./node_modules/openai/resources/chat/index.js","webpack://nox-vscode/./node_modules/math-intrinsics/min.js","webpack://nox-vscode/./node_modules/openai/resources/beta/chatkit/threads.js","webpack://nox-vscode/./node_modules/openai/resources/webhooks.js","webpack://nox-vscode/./node_modules/asynckit/lib/iterate.js","webpack://nox-vscode/./node_modules/es-errors/syntax.js","webpack://nox-vscode/./node_modules/delayed-stream/lib/delayed_stream.js","webpack://nox-vscode/./node_modules/openai/internal/parse.js","webpack://nox-vscode/./node_modules/node-record-lpcm16/recorders/ sync","webpack://nox-vscode/./node_modules/openai/resources/beta/chatkit/chatkit.js","webpack://nox-vscode/./node_modules/openai/resources/videos.js","webpack://nox-vscode/./node_modules/openai/internal/qs/utils.js","webpack://nox-vscode/./node_modules/openai/core/streaming.js","webpack://nox-vscode/external node-commonjs \"http\"","webpack://nox-vscode/./node_modules/get-proto/Reflect.getPrototypeOf.js","webpack://nox-vscode/./node_modules/openai/core/uploads.js","webpack://nox-vscode/./node_modules/openai/resources/realtime/realtime.js","webpack://nox-vscode/./node_modules/asynckit/parallel.js","webpack://nox-vscode/./node_modules/openai/lib/AssistantStream.js","webpack://nox-vscode/./node_modules/math-intrinsics/floor.js","webpack://nox-vscode/./node_modules/openai/resources/conversations/conversations.js","webpack://nox-vscode/external node-commonjs \"util\"","webpack://nox-vscode/./node_modules/openai/resources/completions.js","webpack://nox-vscode/./node_modules/has-tostringtag/shams.js","webpack://nox-vscode/./node_modules/openai/azure.js","webpack://nox-vscode/external node-commonjs \"net\"","webpack://nox-vscode/./node_modules/es-errors/range.js","webpack://nox-vscode/./node_modules/axios/dist/node/axios.cjs","webpack://nox-vscode/./src/commands/refactorCommand.js","webpack://nox-vscode/./node_modules/function-bind/implementation.js","webpack://nox-vscode/./node_modules/es-errors/index.js","webpack://nox-vscode/./node_modules/openai/resources/models.js","webpack://nox-vscode/./node_modules/openai/internal/utils/uuid.js","webpack://nox-vscode/./node_modules/asynckit/lib/state.js","webpack://nox-vscode/./node_modules/openai/resources/chat/completions/messages.js","webpack://nox-vscode/./node_modules/node-record-lpcm16/node_modules/ms/index.js","webpack://nox-vscode/./node_modules/openai/error.js","webpack://nox-vscode/./node_modules/es-errors/ref.js","webpack://nox-vscode/./node_modules/es-set-tostringtag/index.js","webpack://nox-vscode/./node_modules/es-object-atoms/index.js","webpack://nox-vscode/./node_modules/openai/internal/tslib.js","webpack://nox-vscode/./node_modules/openai/internal/uploads.js","webpack://nox-vscode/./node_modules/es-errors/type.js","webpack://nox-vscode/./node_modules/openai/internal/decoders/line.js","webpack://nox-vscode/./node_modules/openai/resources/graders/graders.js","webpack://nox-vscode/external node-commonjs \"fs\"","webpack://nox-vscode/./node_modules/hasown/index.js","webpack://nox-vscode/webpack/bootstrap","webpack://nox-vscode/webpack/runtime/compat get default export","webpack://nox-vscode/webpack/runtime/define property getters","webpack://nox-vscode/webpack/runtime/hasOwnProperty shorthand","webpack://nox-vscode/webpack/runtime/make namespace object","webpack://nox-vscode/webpack/startup"],"sourcesContent":["var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = serialOrdered;\n// sorting helpers\nmodule.exports.ascending  = ascending;\nmodule.exports.descending = descending;\n\n/**\n * Runs iterator over provided sorted array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} sortMethod - custom sort function\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serialOrdered(list, iterator, sortMethod, callback)\n{\n  var state = initState(list, sortMethod);\n\n  iterate(list, iterator, state, function iteratorHandler(error, result)\n  {\n    if (error)\n    {\n      callback(error, result);\n      return;\n    }\n\n    state.index++;\n\n    // are we there yet?\n    if (state.index < (state['keyedList'] || list).length)\n    {\n      iterate(list, iterator, state, iteratorHandler);\n      return;\n    }\n\n    // done here\n    callback(null, state.results);\n  });\n\n  return terminator.bind(state, callback);\n}\n\n/*\n * -- Sort methods\n */\n\n/**\n * sort helper to sort array elements in ascending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction ascending(a, b)\n{\n  return a < b ? -1 : a > b ? 1 : 0;\n}\n\n/**\n * sort helper to sort array elements in descending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction descending(a, b)\n{\n  return -1 * ascending(a, b);\n}\n","'use strict';\n\n/** @type {import('./functionCall')} */\nmodule.exports = Function.prototype.call;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringify = stringify;\nconst utils_1 = require(\"./utils.js\");\nconst formats_1 = require(\"./formats.js\");\nconst values_1 = require(\"../utils/values.js\");\nconst array_prefix_generators = {\n    brackets(prefix) {\n        return String(prefix) + '[]';\n    },\n    comma: 'comma',\n    indices(prefix, key) {\n        return String(prefix) + '[' + key + ']';\n    },\n    repeat(prefix) {\n        return String(prefix);\n    },\n};\nconst push_to_array = function (arr, value_or_array) {\n    Array.prototype.push.apply(arr, (0, values_1.isArray)(value_or_array) ? value_or_array : [value_or_array]);\n};\nlet toISOString;\nconst defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    allowEmptyArrays: false,\n    arrayFormat: 'indices',\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encodeDotInKeys: false,\n    encoder: utils_1.encode,\n    encodeValuesOnly: false,\n    format: formats_1.default_format,\n    formatter: formats_1.default_formatter,\n    /** @deprecated */\n    indices: false,\n    serializeDate(date) {\n        return (toISOString ?? (toISOString = Function.prototype.call.bind(Date.prototype.toISOString)))(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false,\n};\nfunction is_non_nullish_primitive(v) {\n    return (typeof v === 'string' ||\n        typeof v === 'number' ||\n        typeof v === 'boolean' ||\n        typeof v === 'symbol' ||\n        typeof v === 'bigint');\n}\nconst sentinel = {};\nfunction inner_stringify(object, prefix, generateArrayPrefix, commaRoundTrip, allowEmptyArrays, strictNullHandling, skipNulls, encodeDotInKeys, encoder, filter, sort, allowDots, serializeDate, format, formatter, encodeValuesOnly, charset, sideChannel) {\n    let obj = object;\n    let tmp_sc = sideChannel;\n    let step = 0;\n    let find_flag = false;\n    while ((tmp_sc = tmp_sc.get(sentinel)) !== void undefined && !find_flag) {\n        // Where object last appeared in the ref tree\n        const pos = tmp_sc.get(object);\n        step += 1;\n        if (typeof pos !== 'undefined') {\n            if (pos === step) {\n                throw new RangeError('Cyclic object value');\n            }\n            else {\n                find_flag = true; // Break while\n            }\n        }\n        if (typeof tmp_sc.get(sentinel) === 'undefined') {\n            step = 0;\n        }\n    }\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    }\n    else if (obj instanceof Date) {\n        obj = serializeDate?.(obj);\n    }\n    else if (generateArrayPrefix === 'comma' && (0, values_1.isArray)(obj)) {\n        obj = (0, utils_1.maybe_map)(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate?.(value);\n            }\n            return value;\n        });\n    }\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ?\n                // @ts-expect-error\n                encoder(prefix, defaults.encoder, charset, 'key', format)\n                : prefix;\n        }\n        obj = '';\n    }\n    if (is_non_nullish_primitive(obj) || (0, utils_1.is_buffer)(obj)) {\n        if (encoder) {\n            const key_value = encodeValuesOnly ? prefix\n                // @ts-expect-error\n                : encoder(prefix, defaults.encoder, charset, 'key', format);\n            return [\n                formatter?.(key_value) +\n                    '=' +\n                    // @ts-expect-error\n                    formatter?.(encoder(obj, defaults.encoder, charset, 'value', format)),\n            ];\n        }\n        return [formatter?.(prefix) + '=' + formatter?.(String(obj))];\n    }\n    const values = [];\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n    let obj_keys;\n    if (generateArrayPrefix === 'comma' && (0, values_1.isArray)(obj)) {\n        // we need to join elements in\n        if (encodeValuesOnly && encoder) {\n            // @ts-expect-error values only\n            obj = (0, utils_1.maybe_map)(obj, encoder);\n        }\n        obj_keys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n    }\n    else if ((0, values_1.isArray)(filter)) {\n        obj_keys = filter;\n    }\n    else {\n        const keys = Object.keys(obj);\n        obj_keys = sort ? keys.sort(sort) : keys;\n    }\n    const encoded_prefix = encodeDotInKeys ? String(prefix).replace(/\\./g, '%2E') : String(prefix);\n    const adjusted_prefix = commaRoundTrip && (0, values_1.isArray)(obj) && obj.length === 1 ? encoded_prefix + '[]' : encoded_prefix;\n    if (allowEmptyArrays && (0, values_1.isArray)(obj) && obj.length === 0) {\n        return adjusted_prefix + '[]';\n    }\n    for (let j = 0; j < obj_keys.length; ++j) {\n        const key = obj_keys[j];\n        const value = \n        // @ts-ignore\n        typeof key === 'object' && typeof key.value !== 'undefined' ? key.value : obj[key];\n        if (skipNulls && value === null) {\n            continue;\n        }\n        // @ts-ignore\n        const encoded_key = allowDots && encodeDotInKeys ? key.replace(/\\./g, '%2E') : key;\n        const key_prefix = (0, values_1.isArray)(obj) ?\n            typeof generateArrayPrefix === 'function' ?\n                generateArrayPrefix(adjusted_prefix, encoded_key)\n                : adjusted_prefix\n            : adjusted_prefix + (allowDots ? '.' + encoded_key : '[' + encoded_key + ']');\n        sideChannel.set(object, step);\n        const valueSideChannel = new WeakMap();\n        valueSideChannel.set(sentinel, sideChannel);\n        push_to_array(values, inner_stringify(value, key_prefix, generateArrayPrefix, commaRoundTrip, allowEmptyArrays, strictNullHandling, skipNulls, encodeDotInKeys, \n        // @ts-ignore\n        generateArrayPrefix === 'comma' && encodeValuesOnly && (0, values_1.isArray)(obj) ? null : encoder, filter, sort, allowDots, serializeDate, format, formatter, encodeValuesOnly, charset, valueSideChannel));\n    }\n    return values;\n}\nfunction normalize_stringify_options(opts = defaults) {\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n    if (typeof opts.encodeDotInKeys !== 'undefined' && typeof opts.encodeDotInKeys !== 'boolean') {\n        throw new TypeError('`encodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n    const charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    let format = formats_1.default_format;\n    if (typeof opts.format !== 'undefined') {\n        if (!(0, utils_1.has)(formats_1.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    const formatter = formats_1.formatters[format];\n    let filter = defaults.filter;\n    if (typeof opts.filter === 'function' || (0, values_1.isArray)(opts.filter)) {\n        filter = opts.filter;\n    }\n    let arrayFormat;\n    if (opts.arrayFormat && opts.arrayFormat in array_prefix_generators) {\n        arrayFormat = opts.arrayFormat;\n    }\n    else if ('indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    }\n    else {\n        arrayFormat = defaults.arrayFormat;\n    }\n    if ('commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n        throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n    }\n    const allowDots = typeof opts.allowDots === 'undefined' ?\n        !!opts.encodeDotInKeys === true ?\n            true\n            : defaults.allowDots\n        : !!opts.allowDots;\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        // @ts-ignore\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        arrayFormat: arrayFormat,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        commaRoundTrip: !!opts.commaRoundTrip,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encodeDotInKeys: typeof opts.encodeDotInKeys === 'boolean' ? opts.encodeDotInKeys : defaults.encodeDotInKeys,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        // @ts-ignore\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling,\n    };\n}\nfunction stringify(object, opts = {}) {\n    let obj = object;\n    const options = normalize_stringify_options(opts);\n    let obj_keys;\n    let filter;\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    }\n    else if ((0, values_1.isArray)(options.filter)) {\n        filter = options.filter;\n        obj_keys = filter;\n    }\n    const keys = [];\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n    const generateArrayPrefix = array_prefix_generators[options.arrayFormat];\n    const commaRoundTrip = generateArrayPrefix === 'comma' && options.commaRoundTrip;\n    if (!obj_keys) {\n        obj_keys = Object.keys(obj);\n    }\n    if (options.sort) {\n        obj_keys.sort(options.sort);\n    }\n    const sideChannel = new WeakMap();\n    for (let i = 0; i < obj_keys.length; ++i) {\n        const key = obj_keys[i];\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        push_to_array(keys, inner_stringify(obj[key], key, \n        // @ts-expect-error\n        generateArrayPrefix, commaRoundTrip, options.allowEmptyArrays, options.strictNullHandling, options.skipNulls, options.encodeDotInKeys, options.encode ? options.encoder : null, options.filter, options.sort, options.allowDots, options.serializeDate, options.format, options.formatter, options.encodeValuesOnly, options.charset, sideChannel));\n    }\n    const joined = keys.join(options.delimiter);\n    let prefix = options.addQueryPrefix === true ? '?' : '';\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        }\n        else {\n            // encodeURIComponent('✓')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n    return joined.length > 0 ? prefix + joined : '';\n}\n//# sourceMappingURL=stringify.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Checkpoints = void 0;\nconst tslib_1 = require(\"../../../internal/tslib.js\");\nconst resource_1 = require(\"../../../core/resource.js\");\nconst PermissionsAPI = tslib_1.__importStar(require(\"./permissions.js\"));\nconst permissions_1 = require(\"./permissions.js\");\nclass Checkpoints extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.permissions = new PermissionsAPI.Permissions(this._client);\n    }\n}\nexports.Checkpoints = Checkpoints;\nCheckpoints.Permissions = permissions_1.Permissions;\n//# sourceMappingURL=checkpoints.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isEmptyHeaders = exports.buildHeaders = void 0;\nconst values_1 = require(\"./utils/values.js\");\nconst brand_privateNullableHeaders = /* @__PURE__ */ Symbol('brand.privateNullableHeaders');\nfunction* iterateHeaders(headers) {\n    if (!headers)\n        return;\n    if (brand_privateNullableHeaders in headers) {\n        const { values, nulls } = headers;\n        yield* values.entries();\n        for (const name of nulls) {\n            yield [name, null];\n        }\n        return;\n    }\n    let shouldClear = false;\n    let iter;\n    if (headers instanceof Headers) {\n        iter = headers.entries();\n    }\n    else if ((0, values_1.isReadonlyArray)(headers)) {\n        iter = headers;\n    }\n    else {\n        shouldClear = true;\n        iter = Object.entries(headers ?? {});\n    }\n    for (let row of iter) {\n        const name = row[0];\n        if (typeof name !== 'string')\n            throw new TypeError('expected header name to be a string');\n        const values = (0, values_1.isReadonlyArray)(row[1]) ? row[1] : [row[1]];\n        let didClear = false;\n        for (const value of values) {\n            if (value === undefined)\n                continue;\n            // Objects keys always overwrite older headers, they never append.\n            // Yield a null to clear the header before adding the new values.\n            if (shouldClear && !didClear) {\n                didClear = true;\n                yield [name, null];\n            }\n            yield [name, value];\n        }\n    }\n}\nconst buildHeaders = (newHeaders) => {\n    const targetHeaders = new Headers();\n    const nullHeaders = new Set();\n    for (const headers of newHeaders) {\n        const seenHeaders = new Set();\n        for (const [name, value] of iterateHeaders(headers)) {\n            const lowerName = name.toLowerCase();\n            if (!seenHeaders.has(lowerName)) {\n                targetHeaders.delete(name);\n                seenHeaders.add(lowerName);\n            }\n            if (value === null) {\n                targetHeaders.delete(name);\n                nullHeaders.add(lowerName);\n            }\n            else {\n                targetHeaders.append(name, value);\n                nullHeaders.delete(lowerName);\n            }\n        }\n    }\n    return { [brand_privateNullableHeaders]: true, values: targetHeaders, nulls: nullHeaders };\n};\nexports.buildHeaders = buildHeaders;\nconst isEmptyHeaders = (headers) => {\n    for (const _ of iterateHeaders(headers))\n        return false;\n    return true;\n};\nexports.isEmptyHeaders = isEmptyHeaders;\n//# sourceMappingURL=headers.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Items = void 0;\nconst resource_1 = require(\"../../core/resource.js\");\nconst pagination_1 = require(\"../../core/pagination.js\");\nconst path_1 = require(\"../../internal/utils/path.js\");\nclass Items extends resource_1.APIResource {\n    /**\n     * Create items in a conversation with the given ID.\n     */\n    create(conversationID, params, options) {\n        const { include, ...body } = params;\n        return this._client.post((0, path_1.path) `/conversations/${conversationID}/items`, {\n            query: { include },\n            body,\n            ...options,\n        });\n    }\n    /**\n     * Get a single item from a conversation with the given IDs.\n     */\n    retrieve(itemID, params, options) {\n        const { conversation_id, ...query } = params;\n        return this._client.get((0, path_1.path) `/conversations/${conversation_id}/items/${itemID}`, { query, ...options });\n    }\n    /**\n     * List all items for a conversation with the given ID.\n     */\n    list(conversationID, query = {}, options) {\n        return this._client.getAPIList((0, path_1.path) `/conversations/${conversationID}/items`, (pagination_1.ConversationCursorPage), { query, ...options });\n    }\n    /**\n     * Delete an item from a conversation with the given IDs.\n     */\n    delete(itemID, params, options) {\n        const { conversation_id } = params;\n        return this._client.delete((0, path_1.path) `/conversations/${conversation_id}/items/${itemID}`, options);\n    }\n}\nexports.Items = Items;\n//# sourceMappingURL=items.js.map","module.exports = defer;\n\n/**\n * Runs provided function on next iteration of the event loop\n *\n * @param {function} fn - function to run\n */\nfunction defer(fn)\n{\n  var nextTick = typeof setImmediate == 'function'\n    ? setImmediate\n    : (\n      typeof process == 'object' && typeof process.nextTick == 'function'\n      ? process.nextTick\n      : null\n    );\n\n  if (nextTick)\n  {\n    nextTick(fn);\n  }\n  else\n  {\n    setTimeout(fn, 0);\n  }\n}\n","'use strict';\n\n/** @type {import('./round')} */\nmodule.exports = Math.round;\n","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getDefaultFetch = getDefaultFetch;\nexports.makeReadableStream = makeReadableStream;\nexports.ReadableStreamFrom = ReadableStreamFrom;\nexports.ReadableStreamToAsyncIterable = ReadableStreamToAsyncIterable;\nexports.CancelReadableStream = CancelReadableStream;\nfunction getDefaultFetch() {\n    if (typeof fetch !== 'undefined') {\n        return fetch;\n    }\n    throw new Error('`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`');\n}\nfunction makeReadableStream(...args) {\n    const ReadableStream = globalThis.ReadableStream;\n    if (typeof ReadableStream === 'undefined') {\n        // Note: All of the platforms / runtimes we officially support already define\n        // `ReadableStream` as a global, so this should only ever be hit on unsupported runtimes.\n        throw new Error('`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`');\n    }\n    return new ReadableStream(...args);\n}\nfunction ReadableStreamFrom(iterable) {\n    let iter = Symbol.asyncIterator in iterable ? iterable[Symbol.asyncIterator]() : iterable[Symbol.iterator]();\n    return makeReadableStream({\n        start() { },\n        async pull(controller) {\n            const { done, value } = await iter.next();\n            if (done) {\n                controller.close();\n            }\n            else {\n                controller.enqueue(value);\n            }\n        },\n        async cancel() {\n            await iter.return?.();\n        },\n    });\n}\n/**\n * Most browsers don't yet have async iterable support for ReadableStream,\n * and Node has a very different way of reading bytes from its \"ReadableStream\".\n *\n * This polyfill was pulled from https://github.com/MattiasBuelens/web-streams-polyfill/pull/122#issuecomment-1627354490\n */\nfunction ReadableStreamToAsyncIterable(stream) {\n    if (stream[Symbol.asyncIterator])\n        return stream;\n    const reader = stream.getReader();\n    return {\n        async next() {\n            try {\n                const result = await reader.read();\n                if (result?.done)\n                    reader.releaseLock(); // release lock when stream becomes closed\n                return result;\n            }\n            catch (e) {\n                reader.releaseLock(); // release lock when stream becomes errored\n                throw e;\n            }\n        },\n        async return() {\n            const cancelPromise = reader.cancel();\n            reader.releaseLock();\n            await cancelPromise;\n            return { done: true, value: undefined };\n        },\n        [Symbol.asyncIterator]() {\n            return this;\n        },\n    };\n}\n/**\n * Cancels a ReadableStream we don't need to consume.\n * See https://undici.nodejs.org/#/?id=garbage-collection\n */\nasync function CancelReadableStream(stream) {\n    if (stream === null || typeof stream !== 'object')\n        return;\n    if (stream[Symbol.asyncIterator]) {\n        await stream[Symbol.asyncIterator]().return?.();\n        return;\n    }\n    const reader = stream.getReader();\n    const cancelPromise = reader.cancel();\n    reader.releaseLock();\n    await cancelPromise;\n}\n//# sourceMappingURL=shims.js.map","'use strict';\n\nvar undefined;\n\nvar $Object = require('es-object-atoms');\n\nvar $Error = require('es-errors');\nvar $EvalError = require('es-errors/eval');\nvar $RangeError = require('es-errors/range');\nvar $ReferenceError = require('es-errors/ref');\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\nvar $URIError = require('es-errors/uri');\n\nvar abs = require('math-intrinsics/abs');\nvar floor = require('math-intrinsics/floor');\nvar max = require('math-intrinsics/max');\nvar min = require('math-intrinsics/min');\nvar pow = require('math-intrinsics/pow');\nvar round = require('math-intrinsics/round');\nvar sign = require('math-intrinsics/sign');\n\nvar $Function = Function;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = require('gopd');\nvar $defineProperty = require('es-define-property');\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = require('get-proto');\nvar $ObjectGPO = require('get-proto/Object.getPrototypeOf');\nvar $ReflectGPO = require('get-proto/Reflect.getPrototypeOf');\n\nvar $apply = require('call-bind-apply-helpers/functionApply');\nvar $call = require('call-bind-apply-helpers/functionCall');\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t__proto__: null,\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': $Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': $EvalError,\n\t'%Float16Array%': typeof Float16Array === 'undefined' ? undefined : Float16Array,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': $Object,\n\t'%Object.getOwnPropertyDescriptor%': $gOPD,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': $RangeError,\n\t'%ReferenceError%': $ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': $URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\n\t'%Function.prototype.call%': $call,\n\t'%Function.prototype.apply%': $apply,\n\t'%Object.defineProperty%': $defineProperty,\n\t'%Object.getPrototypeOf%': $ObjectGPO,\n\t'%Math.abs%': abs,\n\t'%Math.floor%': floor,\n\t'%Math.max%': max,\n\t'%Math.min%': min,\n\t'%Math.pow%': pow,\n\t'%Math.round%': round,\n\t'%Math.sign%': sign,\n\t'%Reflect.getPrototypeOf%': $ReflectGPO\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t__proto__: null,\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('hasown');\nvar $concat = bind.call($call, Array.prototype.concat);\nvar $spliceApply = bind.call($apply, Array.prototype.splice);\nvar $replace = bind.call($call, String.prototype.replace);\nvar $strSlice = bind.call($call, String.prototype.slice);\nvar $exec = bind.call($call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","\"use strict\";\nvar _EventStream_instances, _EventStream_connectedPromise, _EventStream_resolveConnectedPromise, _EventStream_rejectConnectedPromise, _EventStream_endPromise, _EventStream_resolveEndPromise, _EventStream_rejectEndPromise, _EventStream_listeners, _EventStream_ended, _EventStream_errored, _EventStream_aborted, _EventStream_catchingPromiseCreated, _EventStream_handleError;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EventStream = void 0;\nconst tslib_1 = require(\"../internal/tslib.js\");\nconst error_1 = require(\"../error.js\");\nclass EventStream {\n    constructor() {\n        _EventStream_instances.add(this);\n        this.controller = new AbortController();\n        _EventStream_connectedPromise.set(this, void 0);\n        _EventStream_resolveConnectedPromise.set(this, () => { });\n        _EventStream_rejectConnectedPromise.set(this, () => { });\n        _EventStream_endPromise.set(this, void 0);\n        _EventStream_resolveEndPromise.set(this, () => { });\n        _EventStream_rejectEndPromise.set(this, () => { });\n        _EventStream_listeners.set(this, {});\n        _EventStream_ended.set(this, false);\n        _EventStream_errored.set(this, false);\n        _EventStream_aborted.set(this, false);\n        _EventStream_catchingPromiseCreated.set(this, false);\n        tslib_1.__classPrivateFieldSet(this, _EventStream_connectedPromise, new Promise((resolve, reject) => {\n            tslib_1.__classPrivateFieldSet(this, _EventStream_resolveConnectedPromise, resolve, \"f\");\n            tslib_1.__classPrivateFieldSet(this, _EventStream_rejectConnectedPromise, reject, \"f\");\n        }), \"f\");\n        tslib_1.__classPrivateFieldSet(this, _EventStream_endPromise, new Promise((resolve, reject) => {\n            tslib_1.__classPrivateFieldSet(this, _EventStream_resolveEndPromise, resolve, \"f\");\n            tslib_1.__classPrivateFieldSet(this, _EventStream_rejectEndPromise, reject, \"f\");\n        }), \"f\");\n        // Don't let these promises cause unhandled rejection errors.\n        // we will manually cause an unhandled rejection error later\n        // if the user hasn't registered any error listener or called\n        // any promise-returning method.\n        tslib_1.__classPrivateFieldGet(this, _EventStream_connectedPromise, \"f\").catch(() => { });\n        tslib_1.__classPrivateFieldGet(this, _EventStream_endPromise, \"f\").catch(() => { });\n    }\n    _run(executor) {\n        // Unfortunately if we call `executor()` immediately we get runtime errors about\n        // references to `this` before the `super()` constructor call returns.\n        setTimeout(() => {\n            executor().then(() => {\n                this._emitFinal();\n                this._emit('end');\n            }, tslib_1.__classPrivateFieldGet(this, _EventStream_instances, \"m\", _EventStream_handleError).bind(this));\n        }, 0);\n    }\n    _connected() {\n        if (this.ended)\n            return;\n        tslib_1.__classPrivateFieldGet(this, _EventStream_resolveConnectedPromise, \"f\").call(this);\n        this._emit('connect');\n    }\n    get ended() {\n        return tslib_1.__classPrivateFieldGet(this, _EventStream_ended, \"f\");\n    }\n    get errored() {\n        return tslib_1.__classPrivateFieldGet(this, _EventStream_errored, \"f\");\n    }\n    get aborted() {\n        return tslib_1.__classPrivateFieldGet(this, _EventStream_aborted, \"f\");\n    }\n    abort() {\n        this.controller.abort();\n    }\n    /**\n     * Adds the listener function to the end of the listeners array for the event.\n     * No checks are made to see if the listener has already been added. Multiple calls passing\n     * the same combination of event and listener will result in the listener being added, and\n     * called, multiple times.\n     * @returns this ChatCompletionStream, so that calls can be chained\n     */\n    on(event, listener) {\n        const listeners = tslib_1.__classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event] || (tslib_1.__classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event] = []);\n        listeners.push({ listener });\n        return this;\n    }\n    /**\n     * Removes the specified listener from the listener array for the event.\n     * off() will remove, at most, one instance of a listener from the listener array. If any single\n     * listener has been added multiple times to the listener array for the specified event, then\n     * off() must be called multiple times to remove each instance.\n     * @returns this ChatCompletionStream, so that calls can be chained\n     */\n    off(event, listener) {\n        const listeners = tslib_1.__classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event];\n        if (!listeners)\n            return this;\n        const index = listeners.findIndex((l) => l.listener === listener);\n        if (index >= 0)\n            listeners.splice(index, 1);\n        return this;\n    }\n    /**\n     * Adds a one-time listener function for the event. The next time the event is triggered,\n     * this listener is removed and then invoked.\n     * @returns this ChatCompletionStream, so that calls can be chained\n     */\n    once(event, listener) {\n        const listeners = tslib_1.__classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event] || (tslib_1.__classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event] = []);\n        listeners.push({ listener, once: true });\n        return this;\n    }\n    /**\n     * This is similar to `.once()`, but returns a Promise that resolves the next time\n     * the event is triggered, instead of calling a listener callback.\n     * @returns a Promise that resolves the next time given event is triggered,\n     * or rejects if an error is emitted.  (If you request the 'error' event,\n     * returns a promise that resolves with the error).\n     *\n     * Example:\n     *\n     *   const message = await stream.emitted('message') // rejects if the stream errors\n     */\n    emitted(event) {\n        return new Promise((resolve, reject) => {\n            tslib_1.__classPrivateFieldSet(this, _EventStream_catchingPromiseCreated, true, \"f\");\n            if (event !== 'error')\n                this.once('error', reject);\n            this.once(event, resolve);\n        });\n    }\n    async done() {\n        tslib_1.__classPrivateFieldSet(this, _EventStream_catchingPromiseCreated, true, \"f\");\n        await tslib_1.__classPrivateFieldGet(this, _EventStream_endPromise, \"f\");\n    }\n    _emit(event, ...args) {\n        // make sure we don't emit any events after end\n        if (tslib_1.__classPrivateFieldGet(this, _EventStream_ended, \"f\")) {\n            return;\n        }\n        if (event === 'end') {\n            tslib_1.__classPrivateFieldSet(this, _EventStream_ended, true, \"f\");\n            tslib_1.__classPrivateFieldGet(this, _EventStream_resolveEndPromise, \"f\").call(this);\n        }\n        const listeners = tslib_1.__classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event];\n        if (listeners) {\n            tslib_1.__classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event] = listeners.filter((l) => !l.once);\n            listeners.forEach(({ listener }) => listener(...args));\n        }\n        if (event === 'abort') {\n            const error = args[0];\n            if (!tslib_1.__classPrivateFieldGet(this, _EventStream_catchingPromiseCreated, \"f\") && !listeners?.length) {\n                Promise.reject(error);\n            }\n            tslib_1.__classPrivateFieldGet(this, _EventStream_rejectConnectedPromise, \"f\").call(this, error);\n            tslib_1.__classPrivateFieldGet(this, _EventStream_rejectEndPromise, \"f\").call(this, error);\n            this._emit('end');\n            return;\n        }\n        if (event === 'error') {\n            // NOTE: _emit('error', error) should only be called from #handleError().\n            const error = args[0];\n            if (!tslib_1.__classPrivateFieldGet(this, _EventStream_catchingPromiseCreated, \"f\") && !listeners?.length) {\n                // Trigger an unhandled rejection if the user hasn't registered any error handlers.\n                // If you are seeing stack traces here, make sure to handle errors via either:\n                // - runner.on('error', () => ...)\n                // - await runner.done()\n                // - await runner.finalChatCompletion()\n                // - etc.\n                Promise.reject(error);\n            }\n            tslib_1.__classPrivateFieldGet(this, _EventStream_rejectConnectedPromise, \"f\").call(this, error);\n            tslib_1.__classPrivateFieldGet(this, _EventStream_rejectEndPromise, \"f\").call(this, error);\n            this._emit('end');\n        }\n    }\n    _emitFinal() { }\n}\nexports.EventStream = EventStream;\n_EventStream_connectedPromise = new WeakMap(), _EventStream_resolveConnectedPromise = new WeakMap(), _EventStream_rejectConnectedPromise = new WeakMap(), _EventStream_endPromise = new WeakMap(), _EventStream_resolveEndPromise = new WeakMap(), _EventStream_rejectEndPromise = new WeakMap(), _EventStream_listeners = new WeakMap(), _EventStream_ended = new WeakMap(), _EventStream_errored = new WeakMap(), _EventStream_aborted = new WeakMap(), _EventStream_catchingPromiseCreated = new WeakMap(), _EventStream_instances = new WeakSet(), _EventStream_handleError = function _EventStream_handleError(error) {\n    tslib_1.__classPrivateFieldSet(this, _EventStream_errored, true, \"f\");\n    if (error instanceof Error && error.name === 'AbortError') {\n        error = new error_1.APIUserAbortError();\n    }\n    if (error instanceof error_1.APIUserAbortError) {\n        tslib_1.__classPrivateFieldSet(this, _EventStream_aborted, true, \"f\");\n        return this._emit('abort', error);\n    }\n    if (error instanceof error_1.OpenAIError) {\n        return this._emit('error', error);\n    }\n    if (error instanceof Error) {\n        const openAIError = new error_1.OpenAIError(error.message);\n        // @ts-ignore\n        openAIError.cause = error;\n        return this._emit('error', openAIError);\n    }\n    return this._emit('error', new error_1.OpenAIError(String(error)));\n};\n//# sourceMappingURL=EventStream.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Responses = void 0;\nconst tslib_1 = require(\"../../internal/tslib.js\");\nconst ResponsesParser_1 = require(\"../../lib/ResponsesParser.js\");\nconst ResponseStream_1 = require(\"../../lib/responses/ResponseStream.js\");\nconst resource_1 = require(\"../../core/resource.js\");\nconst InputItemsAPI = tslib_1.__importStar(require(\"./input-items.js\"));\nconst input_items_1 = require(\"./input-items.js\");\nconst headers_1 = require(\"../../internal/headers.js\");\nconst path_1 = require(\"../../internal/utils/path.js\");\nclass Responses extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.inputItems = new InputItemsAPI.InputItems(this._client);\n    }\n    create(body, options) {\n        return this._client.post('/responses', { body, ...options, stream: body.stream ?? false })._thenUnwrap((rsp) => {\n            if ('object' in rsp && rsp.object === 'response') {\n                (0, ResponsesParser_1.addOutputText)(rsp);\n            }\n            return rsp;\n        });\n    }\n    retrieve(responseID, query = {}, options) {\n        return this._client.get((0, path_1.path) `/responses/${responseID}`, {\n            query,\n            ...options,\n            stream: query?.stream ?? false,\n        })._thenUnwrap((rsp) => {\n            if ('object' in rsp && rsp.object === 'response') {\n                (0, ResponsesParser_1.addOutputText)(rsp);\n            }\n            return rsp;\n        });\n    }\n    /**\n     * Deletes a model response with the given ID.\n     *\n     * @example\n     * ```ts\n     * await client.responses.delete(\n     *   'resp_677efb5139a88190b512bc3fef8e535d',\n     * );\n     * ```\n     */\n    delete(responseID, options) {\n        return this._client.delete((0, path_1.path) `/responses/${responseID}`, {\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ Accept: '*/*' }, options?.headers]),\n        });\n    }\n    parse(body, options) {\n        return this._client.responses\n            .create(body, options)\n            ._thenUnwrap((response) => (0, ResponsesParser_1.parseResponse)(response, body));\n    }\n    /**\n     * Creates a model response stream\n     */\n    stream(body, options) {\n        return ResponseStream_1.ResponseStream.createResponse(this._client, body, options);\n    }\n    /**\n     * Cancels a model response with the given ID. Only responses created with the\n     * `background` parameter set to `true` can be cancelled.\n     * [Learn more](https://platform.openai.com/docs/guides/background).\n     *\n     * @example\n     * ```ts\n     * const response = await client.responses.cancel(\n     *   'resp_677efb5139a88190b512bc3fef8e535d',\n     * );\n     * ```\n     */\n    cancel(responseID, options) {\n        return this._client.post((0, path_1.path) `/responses/${responseID}/cancel`, options);\n    }\n}\nexports.Responses = Responses;\nResponses.InputItems = input_items_1.InputItems;\n//# sourceMappingURL=responses.js.map","'use strict';\n\n/** @type {import('.')} */\nvar $defineProperty = Object.defineProperty || false;\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = false;\n\t}\n}\n\nmodule.exports = $defineProperty;\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '')\n\t\t\t.trim()\n\t\t\t.replace(/\\s+/g, ',')\n\t\t\t.split(',')\n\t\t\t.filter(Boolean);\n\n\t\tfor (const ns of split) {\n\t\t\tif (ns[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(ns.slice(1));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(ns);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the given string matches a namespace template, honoring\n\t * asterisks as wildcards.\n\t *\n\t * @param {String} search\n\t * @param {String} template\n\t * @return {Boolean}\n\t */\n\tfunction matchesTemplate(search, template) {\n\t\tlet searchIndex = 0;\n\t\tlet templateIndex = 0;\n\t\tlet starIndex = -1;\n\t\tlet matchIndex = 0;\n\n\t\twhile (searchIndex < search.length) {\n\t\t\tif (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === '*')) {\n\t\t\t\t// Match character or proceed with wildcard\n\t\t\t\tif (template[templateIndex] === '*') {\n\t\t\t\t\tstarIndex = templateIndex;\n\t\t\t\t\tmatchIndex = searchIndex;\n\t\t\t\t\ttemplateIndex++; // Skip the '*'\n\t\t\t\t} else {\n\t\t\t\t\tsearchIndex++;\n\t\t\t\t\ttemplateIndex++;\n\t\t\t\t}\n\t\t\t} else if (starIndex !== -1) { // eslint-disable-line no-negated-condition\n\t\t\t\t// Backtrack to the last '*' and try to match more characters\n\t\t\t\ttemplateIndex = starIndex + 1;\n\t\t\t\tmatchIndex++;\n\t\t\t\tsearchIndex = matchIndex;\n\t\t\t} else {\n\t\t\t\treturn false; // No match\n\t\t\t}\n\t\t}\n\n\t\t// Handle trailing '*' in template\n\t\twhile (templateIndex < template.length && template[templateIndex] === '*') {\n\t\t\ttemplateIndex++;\n\t\t}\n\n\t\treturn templateIndex === template.length;\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names,\n\t\t\t...createDebug.skips.map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tfor (const skip of createDebug.skips) {\n\t\t\tif (matchesTemplate(name, skip)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (const ns of createDebug.names) {\n\t\t\tif (matchesTemplate(name, ns)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","'use strict';\n\nvar CombinedStream = require('combined-stream');\nvar util = require('util');\nvar path = require('path');\nvar http = require('http');\nvar https = require('https');\nvar parseUrl = require('url').parse;\nvar fs = require('fs');\nvar Stream = require('stream').Stream;\nvar crypto = require('crypto');\nvar mime = require('mime-types');\nvar asynckit = require('asynckit');\nvar setToStringTag = require('es-set-tostringtag');\nvar hasOwn = require('hasown');\nvar populate = require('./populate.js');\n\n/**\n * Create readable \"multipart/form-data\" streams.\n * Can be used to submit forms\n * and file uploads to other web applications.\n *\n * @constructor\n * @param {object} options - Properties to be added/overriden for FormData and CombinedStream\n */\nfunction FormData(options) {\n  if (!(this instanceof FormData)) {\n    return new FormData(options);\n  }\n\n  this._overheadLength = 0;\n  this._valueLength = 0;\n  this._valuesToMeasure = [];\n\n  CombinedStream.call(this);\n\n  options = options || {}; // eslint-disable-line no-param-reassign\n  for (var option in options) { // eslint-disable-line no-restricted-syntax\n    this[option] = options[option];\n  }\n}\n\n// make it a Stream\nutil.inherits(FormData, CombinedStream);\n\nFormData.LINE_BREAK = '\\r\\n';\nFormData.DEFAULT_CONTENT_TYPE = 'application/octet-stream';\n\nFormData.prototype.append = function (field, value, options) {\n  options = options || {}; // eslint-disable-line no-param-reassign\n\n  // allow filename as single option\n  if (typeof options === 'string') {\n    options = { filename: options }; // eslint-disable-line no-param-reassign\n  }\n\n  var append = CombinedStream.prototype.append.bind(this);\n\n  // all that streamy business can't handle numbers\n  if (typeof value === 'number' || value == null) {\n    value = String(value); // eslint-disable-line no-param-reassign\n  }\n\n  // https://github.com/felixge/node-form-data/issues/38\n  if (Array.isArray(value)) {\n    /*\n     * Please convert your array into string\n     * the way web server expects it\n     */\n    this._error(new Error('Arrays are not supported.'));\n    return;\n  }\n\n  var header = this._multiPartHeader(field, value, options);\n  var footer = this._multiPartFooter();\n\n  append(header);\n  append(value);\n  append(footer);\n\n  // pass along options.knownLength\n  this._trackLength(header, value, options);\n};\n\nFormData.prototype._trackLength = function (header, value, options) {\n  var valueLength = 0;\n\n  /*\n   * used w/ getLengthSync(), when length is known.\n   * e.g. for streaming directly from a remote server,\n   * w/ a known file a size, and not wanting to wait for\n   * incoming file to finish to get its size.\n   */\n  if (options.knownLength != null) {\n    valueLength += Number(options.knownLength);\n  } else if (Buffer.isBuffer(value)) {\n    valueLength = value.length;\n  } else if (typeof value === 'string') {\n    valueLength = Buffer.byteLength(value);\n  }\n\n  this._valueLength += valueLength;\n\n  // @check why add CRLF? does this account for custom/multiple CRLFs?\n  this._overheadLength += Buffer.byteLength(header) + FormData.LINE_BREAK.length;\n\n  // empty or either doesn't have path or not an http response or not a stream\n  if (!value || (!value.path && !(value.readable && hasOwn(value, 'httpVersion')) && !(value instanceof Stream))) {\n    return;\n  }\n\n  // no need to bother with the length\n  if (!options.knownLength) {\n    this._valuesToMeasure.push(value);\n  }\n};\n\nFormData.prototype._lengthRetriever = function (value, callback) {\n  if (hasOwn(value, 'fd')) {\n    // take read range into a account\n    // `end` = Infinity –> read file till the end\n    //\n    // TODO: Looks like there is bug in Node fs.createReadStream\n    // it doesn't respect `end` options without `start` options\n    // Fix it when node fixes it.\n    // https://github.com/joyent/node/issues/7819\n    if (value.end != undefined && value.end != Infinity && value.start != undefined) {\n      // when end specified\n      // no need to calculate range\n      // inclusive, starts with 0\n      callback(null, value.end + 1 - (value.start ? value.start : 0)); // eslint-disable-line callback-return\n\n      // not that fast snoopy\n    } else {\n      // still need to fetch file size from fs\n      fs.stat(value.path, function (err, stat) {\n        if (err) {\n          callback(err);\n          return;\n        }\n\n        // update final size based on the range options\n        var fileSize = stat.size - (value.start ? value.start : 0);\n        callback(null, fileSize);\n      });\n    }\n\n    // or http response\n  } else if (hasOwn(value, 'httpVersion')) {\n    callback(null, Number(value.headers['content-length'])); // eslint-disable-line callback-return\n\n    // or request stream http://github.com/mikeal/request\n  } else if (hasOwn(value, 'httpModule')) {\n    // wait till response come back\n    value.on('response', function (response) {\n      value.pause();\n      callback(null, Number(response.headers['content-length']));\n    });\n    value.resume();\n\n    // something else\n  } else {\n    callback('Unknown stream'); // eslint-disable-line callback-return\n  }\n};\n\nFormData.prototype._multiPartHeader = function (field, value, options) {\n  /*\n   * custom header specified (as string)?\n   * it becomes responsible for boundary\n   * (e.g. to handle extra CRLFs on .NET servers)\n   */\n  if (typeof options.header === 'string') {\n    return options.header;\n  }\n\n  var contentDisposition = this._getContentDisposition(value, options);\n  var contentType = this._getContentType(value, options);\n\n  var contents = '';\n  var headers = {\n    // add custom disposition as third element or keep it two elements if not\n    'Content-Disposition': ['form-data', 'name=\"' + field + '\"'].concat(contentDisposition || []),\n    // if no content type. allow it to be empty array\n    'Content-Type': [].concat(contentType || [])\n  };\n\n  // allow custom headers.\n  if (typeof options.header === 'object') {\n    populate(headers, options.header);\n  }\n\n  var header;\n  for (var prop in headers) { // eslint-disable-line no-restricted-syntax\n    if (hasOwn(headers, prop)) {\n      header = headers[prop];\n\n      // skip nullish headers.\n      if (header == null) {\n        continue; // eslint-disable-line no-restricted-syntax, no-continue\n      }\n\n      // convert all headers to arrays.\n      if (!Array.isArray(header)) {\n        header = [header];\n      }\n\n      // add non-empty headers.\n      if (header.length) {\n        contents += prop + ': ' + header.join('; ') + FormData.LINE_BREAK;\n      }\n    }\n  }\n\n  return '--' + this.getBoundary() + FormData.LINE_BREAK + contents + FormData.LINE_BREAK;\n};\n\nFormData.prototype._getContentDisposition = function (value, options) { // eslint-disable-line consistent-return\n  var filename;\n\n  if (typeof options.filepath === 'string') {\n    // custom filepath for relative paths\n    filename = path.normalize(options.filepath).replace(/\\\\/g, '/');\n  } else if (options.filename || (value && (value.name || value.path))) {\n    /*\n     * custom filename take precedence\n     * formidable and the browser add a name property\n     * fs- and request- streams have path property\n     */\n    filename = path.basename(options.filename || (value && (value.name || value.path)));\n  } else if (value && value.readable && hasOwn(value, 'httpVersion')) {\n    // or try http response\n    filename = path.basename(value.client._httpMessage.path || '');\n  }\n\n  if (filename) {\n    return 'filename=\"' + filename + '\"';\n  }\n};\n\nFormData.prototype._getContentType = function (value, options) {\n  // use custom content-type above all\n  var contentType = options.contentType;\n\n  // or try `name` from formidable, browser\n  if (!contentType && value && value.name) {\n    contentType = mime.lookup(value.name);\n  }\n\n  // or try `path` from fs-, request- streams\n  if (!contentType && value && value.path) {\n    contentType = mime.lookup(value.path);\n  }\n\n  // or if it's http-reponse\n  if (!contentType && value && value.readable && hasOwn(value, 'httpVersion')) {\n    contentType = value.headers['content-type'];\n  }\n\n  // or guess it from the filepath or filename\n  if (!contentType && (options.filepath || options.filename)) {\n    contentType = mime.lookup(options.filepath || options.filename);\n  }\n\n  // fallback to the default content type if `value` is not simple value\n  if (!contentType && value && typeof value === 'object') {\n    contentType = FormData.DEFAULT_CONTENT_TYPE;\n  }\n\n  return contentType;\n};\n\nFormData.prototype._multiPartFooter = function () {\n  return function (next) {\n    var footer = FormData.LINE_BREAK;\n\n    var lastPart = this._streams.length === 0;\n    if (lastPart) {\n      footer += this._lastBoundary();\n    }\n\n    next(footer);\n  }.bind(this);\n};\n\nFormData.prototype._lastBoundary = function () {\n  return '--' + this.getBoundary() + '--' + FormData.LINE_BREAK;\n};\n\nFormData.prototype.getHeaders = function (userHeaders) {\n  var header;\n  var formHeaders = {\n    'content-type': 'multipart/form-data; boundary=' + this.getBoundary()\n  };\n\n  for (header in userHeaders) { // eslint-disable-line no-restricted-syntax\n    if (hasOwn(userHeaders, header)) {\n      formHeaders[header.toLowerCase()] = userHeaders[header];\n    }\n  }\n\n  return formHeaders;\n};\n\nFormData.prototype.setBoundary = function (boundary) {\n  if (typeof boundary !== 'string') {\n    throw new TypeError('FormData boundary must be a string');\n  }\n  this._boundary = boundary;\n};\n\nFormData.prototype.getBoundary = function () {\n  if (!this._boundary) {\n    this._generateBoundary();\n  }\n\n  return this._boundary;\n};\n\nFormData.prototype.getBuffer = function () {\n  var dataBuffer = new Buffer.alloc(0); // eslint-disable-line new-cap\n  var boundary = this.getBoundary();\n\n  // Create the form content. Add Line breaks to the end of data.\n  for (var i = 0, len = this._streams.length; i < len; i++) {\n    if (typeof this._streams[i] !== 'function') {\n      // Add content to the buffer.\n      if (Buffer.isBuffer(this._streams[i])) {\n        dataBuffer = Buffer.concat([dataBuffer, this._streams[i]]);\n      } else {\n        dataBuffer = Buffer.concat([dataBuffer, Buffer.from(this._streams[i])]);\n      }\n\n      // Add break after content.\n      if (typeof this._streams[i] !== 'string' || this._streams[i].substring(2, boundary.length + 2) !== boundary) {\n        dataBuffer = Buffer.concat([dataBuffer, Buffer.from(FormData.LINE_BREAK)]);\n      }\n    }\n  }\n\n  // Add the footer and return the Buffer object.\n  return Buffer.concat([dataBuffer, Buffer.from(this._lastBoundary())]);\n};\n\nFormData.prototype._generateBoundary = function () {\n  // This generates a 50 character boundary similar to those used by Firefox.\n\n  // They are optimized for boyer-moore parsing.\n  this._boundary = '--------------------------' + crypto.randomBytes(12).toString('hex');\n};\n\n// Note: getLengthSync DOESN'T calculate streams length\n// As workaround one can calculate file size manually and add it as knownLength option\nFormData.prototype.getLengthSync = function () {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  // Don't get confused, there are 3 \"internal\" streams for each keyval pair so it basically checks if there is any value added to the form\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  // https://github.com/form-data/form-data/issues/40\n  if (!this.hasKnownLength()) {\n    /*\n     * Some async length retrievers are present\n     * therefore synchronous length calculation is false.\n     * Please use getLength(callback) to get proper length\n     */\n    this._error(new Error('Cannot calculate proper length in synchronous way.'));\n  }\n\n  return knownLength;\n};\n\n// Public API to check if length of added values is known\n// https://github.com/form-data/form-data/issues/196\n// https://github.com/form-data/form-data/issues/262\nFormData.prototype.hasKnownLength = function () {\n  var hasKnownLength = true;\n\n  if (this._valuesToMeasure.length) {\n    hasKnownLength = false;\n  }\n\n  return hasKnownLength;\n};\n\nFormData.prototype.getLength = function (cb) {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  if (!this._valuesToMeasure.length) {\n    process.nextTick(cb.bind(this, null, knownLength));\n    return;\n  }\n\n  asynckit.parallel(this._valuesToMeasure, this._lengthRetriever, function (err, values) {\n    if (err) {\n      cb(err);\n      return;\n    }\n\n    values.forEach(function (length) {\n      knownLength += length;\n    });\n\n    cb(null, knownLength);\n  });\n};\n\nFormData.prototype.submit = function (params, cb) {\n  var request;\n  var options;\n  var defaults = { method: 'post' };\n\n  // parse provided url if it's string or treat it as options object\n  if (typeof params === 'string') {\n    params = parseUrl(params); // eslint-disable-line no-param-reassign\n    /* eslint sort-keys: 0 */\n    options = populate({\n      port: params.port,\n      path: params.pathname,\n      host: params.hostname,\n      protocol: params.protocol\n    }, defaults);\n  } else { // use custom params\n    options = populate(params, defaults);\n    // if no port provided use default one\n    if (!options.port) {\n      options.port = options.protocol === 'https:' ? 443 : 80;\n    }\n  }\n\n  // put that good code in getHeaders to some use\n  options.headers = this.getHeaders(params.headers);\n\n  // https if specified, fallback to http in any other case\n  if (options.protocol === 'https:') {\n    request = https.request(options);\n  } else {\n    request = http.request(options);\n  }\n\n  // get content length and fire away\n  this.getLength(function (err, length) {\n    if (err && err !== 'Unknown stream') {\n      this._error(err);\n      return;\n    }\n\n    // add content length\n    if (length) {\n      request.setHeader('Content-Length', length);\n    }\n\n    this.pipe(request);\n    if (cb) {\n      var onResponse;\n\n      var callback = function (error, responce) {\n        request.removeListener('error', callback);\n        request.removeListener('response', onResponse);\n\n        return cb.call(this, error, responce); // eslint-disable-line no-invalid-this\n      };\n\n      onResponse = callback.bind(this, null);\n\n      request.on('error', callback);\n      request.on('response', onResponse);\n    }\n  }.bind(this));\n\n  return request;\n};\n\nFormData.prototype._error = function (err) {\n  if (!this.error) {\n    this.error = err;\n    this.pause();\n    this.emit('error', err);\n  }\n};\n\nFormData.prototype.toString = function () {\n  return '[object FormData]';\n};\nsetToStringTag(FormData, 'FormData');\n\n// Public API\nmodule.exports = FormData;\n","const vscode = require('vscode');\n\n/**\n * Analyze Command Handler - analyzes codebase or selected files\n */\nclass AnalyzeCommand {\n    constructor(agentController, logger) {\n        this.agentController = agentController;\n        this.logger = logger;\n    }\n\n    /**\n     * Execute the analyze command\n     */\n    async execute() {\n        try {\n            const workspaceFolders = vscode.workspace.workspaceFolders;\n            if (!workspaceFolders || workspaceFolders.length === 0) {\n                await vscode.window.showWarningMessage('No workspace folder found');\n                return;\n            }\n\n            this.logger.info('Analyze command executed', {\n                workspacePath: workspaceFolders[0].uri.fsPath\n            });\n\n            // Execute task through agent controller\n            const result = await this.agentController.executeTask('analyze', {\n                workspacePath: workspaceFolders[0].uri.fsPath,\n                timestamp: Date.now()\n            });\n\n            // Show result\n            await vscode.window.showInformationMessage(\n                `Codebase Analysis: ${result.message}`,\n                'OK'\n            );\n\n            this.logger.info('Analyze interaction completed');\n\n        } catch (error) {\n            this.logger.error('Analyze command failed:', error);\n            await vscode.window.showErrorMessage(`Analyze failed: ${error.message}`);\n        }\n    }\n}\n\nmodule.exports = AnalyzeCommand;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.concatBytes = concatBytes;\nexports.encodeUTF8 = encodeUTF8;\nexports.decodeUTF8 = decodeUTF8;\nfunction concatBytes(buffers) {\n    let length = 0;\n    for (const buffer of buffers) {\n        length += buffer.length;\n    }\n    const output = new Uint8Array(length);\n    let index = 0;\n    for (const buffer of buffers) {\n        output.set(buffer, index);\n        index += buffer.length;\n    }\n    return output;\n}\nlet encodeUTF8_;\nfunction encodeUTF8(str) {\n    let encoder;\n    return (encodeUTF8_ ??\n        ((encoder = new globalThis.TextEncoder()), (encodeUTF8_ = encoder.encode.bind(encoder))))(str);\n}\nlet decodeUTF8_;\nfunction decodeUTF8(bytes) {\n    let decoder;\n    return (decodeUTF8_ ??\n        ((decoder = new globalThis.TextDecoder()), (decodeUTF8_ = decoder.decode.bind(decoder))))(bytes);\n}\n//# sourceMappingURL=bytes.js.map","var util = require('util');\nvar Stream = require('stream').Stream;\nvar DelayedStream = require('delayed-stream');\n\nmodule.exports = CombinedStream;\nfunction CombinedStream() {\n  this.writable = false;\n  this.readable = true;\n  this.dataSize = 0;\n  this.maxDataSize = 2 * 1024 * 1024;\n  this.pauseStreams = true;\n\n  this._released = false;\n  this._streams = [];\n  this._currentStream = null;\n  this._insideLoop = false;\n  this._pendingNext = false;\n}\nutil.inherits(CombinedStream, Stream);\n\nCombinedStream.create = function(options) {\n  var combinedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    combinedStream[option] = options[option];\n  }\n\n  return combinedStream;\n};\n\nCombinedStream.isStreamLike = function(stream) {\n  return (typeof stream !== 'function')\n    && (typeof stream !== 'string')\n    && (typeof stream !== 'boolean')\n    && (typeof stream !== 'number')\n    && (!Buffer.isBuffer(stream));\n};\n\nCombinedStream.prototype.append = function(stream) {\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n\n  if (isStreamLike) {\n    if (!(stream instanceof DelayedStream)) {\n      var newStream = DelayedStream.create(stream, {\n        maxDataSize: Infinity,\n        pauseStream: this.pauseStreams,\n      });\n      stream.on('data', this._checkDataSize.bind(this));\n      stream = newStream;\n    }\n\n    this._handleErrors(stream);\n\n    if (this.pauseStreams) {\n      stream.pause();\n    }\n  }\n\n  this._streams.push(stream);\n  return this;\n};\n\nCombinedStream.prototype.pipe = function(dest, options) {\n  Stream.prototype.pipe.call(this, dest, options);\n  this.resume();\n  return dest;\n};\n\nCombinedStream.prototype._getNext = function() {\n  this._currentStream = null;\n\n  if (this._insideLoop) {\n    this._pendingNext = true;\n    return; // defer call\n  }\n\n  this._insideLoop = true;\n  try {\n    do {\n      this._pendingNext = false;\n      this._realGetNext();\n    } while (this._pendingNext);\n  } finally {\n    this._insideLoop = false;\n  }\n};\n\nCombinedStream.prototype._realGetNext = function() {\n  var stream = this._streams.shift();\n\n\n  if (typeof stream == 'undefined') {\n    this.end();\n    return;\n  }\n\n  if (typeof stream !== 'function') {\n    this._pipeNext(stream);\n    return;\n  }\n\n  var getStream = stream;\n  getStream(function(stream) {\n    var isStreamLike = CombinedStream.isStreamLike(stream);\n    if (isStreamLike) {\n      stream.on('data', this._checkDataSize.bind(this));\n      this._handleErrors(stream);\n    }\n\n    this._pipeNext(stream);\n  }.bind(this));\n};\n\nCombinedStream.prototype._pipeNext = function(stream) {\n  this._currentStream = stream;\n\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n  if (isStreamLike) {\n    stream.on('end', this._getNext.bind(this));\n    stream.pipe(this, {end: false});\n    return;\n  }\n\n  var value = stream;\n  this.write(value);\n  this._getNext();\n};\n\nCombinedStream.prototype._handleErrors = function(stream) {\n  var self = this;\n  stream.on('error', function(err) {\n    self._emitError(err);\n  });\n};\n\nCombinedStream.prototype.write = function(data) {\n  this.emit('data', data);\n};\n\nCombinedStream.prototype.pause = function() {\n  if (!this.pauseStreams) {\n    return;\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.pause) == 'function') this._currentStream.pause();\n  this.emit('pause');\n};\n\nCombinedStream.prototype.resume = function() {\n  if (!this._released) {\n    this._released = true;\n    this.writable = true;\n    this._getNext();\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.resume) == 'function') this._currentStream.resume();\n  this.emit('resume');\n};\n\nCombinedStream.prototype.end = function() {\n  this._reset();\n  this.emit('end');\n};\n\nCombinedStream.prototype.destroy = function() {\n  this._reset();\n  this.emit('close');\n};\n\nCombinedStream.prototype._reset = function() {\n  this.writable = false;\n  this._streams = [];\n  this._currentStream = null;\n};\n\nCombinedStream.prototype._checkDataSize = function() {\n  this._updateDataSize();\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.';\n  this._emitError(new Error(message));\n};\n\nCombinedStream.prototype._updateDataSize = function() {\n  this.dataSize = 0;\n\n  var self = this;\n  this._streams.forEach(function(stream) {\n    if (!stream.dataSize) {\n      return;\n    }\n\n    self.dataSize += stream.dataSize;\n  });\n\n  if (this._currentStream && this._currentStream.dataSize) {\n    this.dataSize += this._currentStream.dataSize;\n  }\n};\n\nCombinedStream.prototype._emitError = function(err) {\n  this._reset();\n  this.emit('error', err);\n};\n","module.exports = require(\"os\");","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.castToError = void 0;\nexports.isAbortError = isAbortError;\nfunction isAbortError(err) {\n    return (typeof err === 'object' &&\n        err !== null &&\n        // Spec-compliant fetch implementations\n        (('name' in err && err.name === 'AbortError') ||\n            // Expo fetch\n            ('message' in err && String(err.message).includes('FetchRequestCanceledException'))));\n}\nconst castToError = (err) => {\n    if (err instanceof Error)\n        return err;\n    if (typeof err === 'object' && err !== null) {\n        try {\n            if (Object.prototype.toString.call(err) === '[object Error]') {\n                // @ts-ignore - not all envs have native support for cause yet\n                const error = new Error(err.message, err.cause ? { cause: err.cause } : {});\n                if (err.stack)\n                    error.stack = err.stack;\n                // @ts-ignore - not all envs have native support for cause yet\n                if (err.cause && !error.cause)\n                    error.cause = err.cause;\n                if (err.name)\n                    error.name = err.name;\n                return error;\n            }\n        }\n        catch { }\n        try {\n            return new Error(JSON.stringify(err));\n        }\n        catch { }\n    }\n    return new Error(err);\n};\nexports.castToError = castToError;\n//# sourceMappingURL=errors.js.map","'use strict';\n\n/** @type {import('./functionApply')} */\nmodule.exports = Function.prototype.apply;\n","'use strict';\n\nvar $Object = require('es-object-atoms');\n\n/** @type {import('./Object.getPrototypeOf')} */\nmodule.exports = $Object.getPrototypeOf || null;\n","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OutputItems = void 0;\nconst resource_1 = require(\"../../../core/resource.js\");\nconst pagination_1 = require(\"../../../core/pagination.js\");\nconst path_1 = require(\"../../../internal/utils/path.js\");\nclass OutputItems extends resource_1.APIResource {\n    /**\n     * Get an evaluation run output item by ID.\n     */\n    retrieve(outputItemID, params, options) {\n        const { eval_id, run_id } = params;\n        return this._client.get((0, path_1.path) `/evals/${eval_id}/runs/${run_id}/output_items/${outputItemID}`, options);\n    }\n    /**\n     * Get a list of output items for an evaluation run.\n     */\n    list(runID, params, options) {\n        const { eval_id, ...query } = params;\n        return this._client.getAPIList((0, path_1.path) `/evals/${eval_id}/runs/${runID}/output_items`, (pagination_1.CursorPage), { query, ...options });\n    }\n}\nexports.OutputItems = OutputItems;\n//# sourceMappingURL=output-items.js.map","\"use strict\";\nvar _AbstractChatCompletionRunner_instances, _AbstractChatCompletionRunner_getFinalContent, _AbstractChatCompletionRunner_getFinalMessage, _AbstractChatCompletionRunner_getFinalFunctionToolCall, _AbstractChatCompletionRunner_getFinalFunctionToolCallResult, _AbstractChatCompletionRunner_calculateTotalUsage, _AbstractChatCompletionRunner_validateParams, _AbstractChatCompletionRunner_stringifyFunctionCallResult;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractChatCompletionRunner = void 0;\nconst tslib_1 = require(\"../internal/tslib.js\");\nconst error_1 = require(\"../error.js\");\nconst parser_1 = require(\"../lib/parser.js\");\nconst chatCompletionUtils_1 = require(\"./chatCompletionUtils.js\");\nconst EventStream_1 = require(\"./EventStream.js\");\nconst RunnableFunction_1 = require(\"./RunnableFunction.js\");\nconst DEFAULT_MAX_CHAT_COMPLETIONS = 10;\nclass AbstractChatCompletionRunner extends EventStream_1.EventStream {\n    constructor() {\n        super(...arguments);\n        _AbstractChatCompletionRunner_instances.add(this);\n        this._chatCompletions = [];\n        this.messages = [];\n    }\n    _addChatCompletion(chatCompletion) {\n        this._chatCompletions.push(chatCompletion);\n        this._emit('chatCompletion', chatCompletion);\n        const message = chatCompletion.choices[0]?.message;\n        if (message)\n            this._addMessage(message);\n        return chatCompletion;\n    }\n    _addMessage(message, emit = true) {\n        if (!('content' in message))\n            message.content = null;\n        this.messages.push(message);\n        if (emit) {\n            this._emit('message', message);\n            if ((0, chatCompletionUtils_1.isToolMessage)(message) && message.content) {\n                // Note, this assumes that {role: 'tool', content: …} is always the result of a call of tool of type=function.\n                this._emit('functionToolCallResult', message.content);\n            }\n            else if ((0, chatCompletionUtils_1.isAssistantMessage)(message) && message.tool_calls) {\n                for (const tool_call of message.tool_calls) {\n                    if (tool_call.type === 'function') {\n                        this._emit('functionToolCall', tool_call.function);\n                    }\n                }\n            }\n        }\n    }\n    /**\n     * @returns a promise that resolves with the final ChatCompletion, or rejects\n     * if an error occurred or the stream ended prematurely without producing a ChatCompletion.\n     */\n    async finalChatCompletion() {\n        await this.done();\n        const completion = this._chatCompletions[this._chatCompletions.length - 1];\n        if (!completion)\n            throw new error_1.OpenAIError('stream ended without producing a ChatCompletion');\n        return completion;\n    }\n    /**\n     * @returns a promise that resolves with the content of the final ChatCompletionMessage, or rejects\n     * if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.\n     */\n    async finalContent() {\n        await this.done();\n        return tslib_1.__classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalContent).call(this);\n    }\n    /**\n     * @returns a promise that resolves with the the final assistant ChatCompletionMessage response,\n     * or rejects if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.\n     */\n    async finalMessage() {\n        await this.done();\n        return tslib_1.__classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalMessage).call(this);\n    }\n    /**\n     * @returns a promise that resolves with the content of the final FunctionCall, or rejects\n     * if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.\n     */\n    async finalFunctionToolCall() {\n        await this.done();\n        return tslib_1.__classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalFunctionToolCall).call(this);\n    }\n    async finalFunctionToolCallResult() {\n        await this.done();\n        return tslib_1.__classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalFunctionToolCallResult).call(this);\n    }\n    async totalUsage() {\n        await this.done();\n        return tslib_1.__classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_calculateTotalUsage).call(this);\n    }\n    allChatCompletions() {\n        return [...this._chatCompletions];\n    }\n    _emitFinal() {\n        const completion = this._chatCompletions[this._chatCompletions.length - 1];\n        if (completion)\n            this._emit('finalChatCompletion', completion);\n        const finalMessage = tslib_1.__classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalMessage).call(this);\n        if (finalMessage)\n            this._emit('finalMessage', finalMessage);\n        const finalContent = tslib_1.__classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalContent).call(this);\n        if (finalContent)\n            this._emit('finalContent', finalContent);\n        const finalFunctionCall = tslib_1.__classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalFunctionToolCall).call(this);\n        if (finalFunctionCall)\n            this._emit('finalFunctionToolCall', finalFunctionCall);\n        const finalFunctionCallResult = tslib_1.__classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalFunctionToolCallResult).call(this);\n        if (finalFunctionCallResult != null)\n            this._emit('finalFunctionToolCallResult', finalFunctionCallResult);\n        if (this._chatCompletions.some((c) => c.usage)) {\n            this._emit('totalUsage', tslib_1.__classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_calculateTotalUsage).call(this));\n        }\n    }\n    async _createChatCompletion(client, params, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted)\n                this.controller.abort();\n            signal.addEventListener('abort', () => this.controller.abort());\n        }\n        tslib_1.__classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_validateParams).call(this, params);\n        const chatCompletion = await client.chat.completions.create({ ...params, stream: false }, { ...options, signal: this.controller.signal });\n        this._connected();\n        return this._addChatCompletion((0, parser_1.parseChatCompletion)(chatCompletion, params));\n    }\n    async _runChatCompletion(client, params, options) {\n        for (const message of params.messages) {\n            this._addMessage(message, false);\n        }\n        return await this._createChatCompletion(client, params, options);\n    }\n    async _runTools(client, params, options) {\n        const role = 'tool';\n        const { tool_choice = 'auto', stream, ...restParams } = params;\n        const singleFunctionToCall = typeof tool_choice !== 'string' && tool_choice.type === 'function' && tool_choice?.function?.name;\n        const { maxChatCompletions = DEFAULT_MAX_CHAT_COMPLETIONS } = options || {};\n        // TODO(someday): clean this logic up\n        const inputTools = params.tools.map((tool) => {\n            if ((0, parser_1.isAutoParsableTool)(tool)) {\n                if (!tool.$callback) {\n                    throw new error_1.OpenAIError('Tool given to `.runTools()` that does not have an associated function');\n                }\n                return {\n                    type: 'function',\n                    function: {\n                        function: tool.$callback,\n                        name: tool.function.name,\n                        description: tool.function.description || '',\n                        parameters: tool.function.parameters,\n                        parse: tool.$parseRaw,\n                        strict: true,\n                    },\n                };\n            }\n            return tool;\n        });\n        const functionsByName = {};\n        for (const f of inputTools) {\n            if (f.type === 'function') {\n                functionsByName[f.function.name || f.function.function.name] = f.function;\n            }\n        }\n        const tools = 'tools' in params ?\n            inputTools.map((t) => t.type === 'function' ?\n                {\n                    type: 'function',\n                    function: {\n                        name: t.function.name || t.function.function.name,\n                        parameters: t.function.parameters,\n                        description: t.function.description,\n                        strict: t.function.strict,\n                    },\n                }\n                : t)\n            : undefined;\n        for (const message of params.messages) {\n            this._addMessage(message, false);\n        }\n        for (let i = 0; i < maxChatCompletions; ++i) {\n            const chatCompletion = await this._createChatCompletion(client, {\n                ...restParams,\n                tool_choice,\n                tools,\n                messages: [...this.messages],\n            }, options);\n            const message = chatCompletion.choices[0]?.message;\n            if (!message) {\n                throw new error_1.OpenAIError(`missing message in ChatCompletion response`);\n            }\n            if (!message.tool_calls?.length) {\n                return;\n            }\n            for (const tool_call of message.tool_calls) {\n                if (tool_call.type !== 'function')\n                    continue;\n                const tool_call_id = tool_call.id;\n                const { name, arguments: args } = tool_call.function;\n                const fn = functionsByName[name];\n                if (!fn) {\n                    const content = `Invalid tool_call: ${JSON.stringify(name)}. Available options are: ${Object.keys(functionsByName)\n                        .map((name) => JSON.stringify(name))\n                        .join(', ')}. Please try again`;\n                    this._addMessage({ role, tool_call_id, content });\n                    continue;\n                }\n                else if (singleFunctionToCall && singleFunctionToCall !== name) {\n                    const content = `Invalid tool_call: ${JSON.stringify(name)}. ${JSON.stringify(singleFunctionToCall)} requested. Please try again`;\n                    this._addMessage({ role, tool_call_id, content });\n                    continue;\n                }\n                let parsed;\n                try {\n                    parsed = (0, RunnableFunction_1.isRunnableFunctionWithParse)(fn) ? await fn.parse(args) : args;\n                }\n                catch (error) {\n                    const content = error instanceof Error ? error.message : String(error);\n                    this._addMessage({ role, tool_call_id, content });\n                    continue;\n                }\n                // @ts-expect-error it can't rule out `never` type.\n                const rawContent = await fn.function(parsed, this);\n                const content = tslib_1.__classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this, rawContent);\n                this._addMessage({ role, tool_call_id, content });\n                if (singleFunctionToCall) {\n                    return;\n                }\n            }\n        }\n        return;\n    }\n}\nexports.AbstractChatCompletionRunner = AbstractChatCompletionRunner;\n_AbstractChatCompletionRunner_instances = new WeakSet(), _AbstractChatCompletionRunner_getFinalContent = function _AbstractChatCompletionRunner_getFinalContent() {\n    return tslib_1.__classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalMessage).call(this).content ?? null;\n}, _AbstractChatCompletionRunner_getFinalMessage = function _AbstractChatCompletionRunner_getFinalMessage() {\n    let i = this.messages.length;\n    while (i-- > 0) {\n        const message = this.messages[i];\n        if ((0, chatCompletionUtils_1.isAssistantMessage)(message)) {\n            // TODO: support audio here\n            const ret = {\n                ...message,\n                content: message.content ?? null,\n                refusal: message.refusal ?? null,\n            };\n            return ret;\n        }\n    }\n    throw new error_1.OpenAIError('stream ended without producing a ChatCompletionMessage with role=assistant');\n}, _AbstractChatCompletionRunner_getFinalFunctionToolCall = function _AbstractChatCompletionRunner_getFinalFunctionToolCall() {\n    for (let i = this.messages.length - 1; i >= 0; i--) {\n        const message = this.messages[i];\n        if ((0, chatCompletionUtils_1.isAssistantMessage)(message) && message?.tool_calls?.length) {\n            return message.tool_calls.filter((x) => x.type === 'function').at(-1)?.function;\n        }\n    }\n    return;\n}, _AbstractChatCompletionRunner_getFinalFunctionToolCallResult = function _AbstractChatCompletionRunner_getFinalFunctionToolCallResult() {\n    for (let i = this.messages.length - 1; i >= 0; i--) {\n        const message = this.messages[i];\n        if ((0, chatCompletionUtils_1.isToolMessage)(message) &&\n            message.content != null &&\n            typeof message.content === 'string' &&\n            this.messages.some((x) => x.role === 'assistant' &&\n                x.tool_calls?.some((y) => y.type === 'function' && y.id === message.tool_call_id))) {\n            return message.content;\n        }\n    }\n    return;\n}, _AbstractChatCompletionRunner_calculateTotalUsage = function _AbstractChatCompletionRunner_calculateTotalUsage() {\n    const total = {\n        completion_tokens: 0,\n        prompt_tokens: 0,\n        total_tokens: 0,\n    };\n    for (const { usage } of this._chatCompletions) {\n        if (usage) {\n            total.completion_tokens += usage.completion_tokens;\n            total.prompt_tokens += usage.prompt_tokens;\n            total.total_tokens += usage.total_tokens;\n        }\n    }\n    return total;\n}, _AbstractChatCompletionRunner_validateParams = function _AbstractChatCompletionRunner_validateParams(params) {\n    if (params.n != null && params.n > 1) {\n        throw new error_1.OpenAIError('ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.');\n    }\n}, _AbstractChatCompletionRunner_stringifyFunctionCallResult = function _AbstractChatCompletionRunner_stringifyFunctionCallResult(rawContent) {\n    return (typeof rawContent === 'string' ? rawContent\n        : rawContent === undefined ? 'undefined'\n            : JSON.stringify(rawContent));\n};\n//# sourceMappingURL=AbstractChatCompletionRunner.js.map","'use strict';\n\n/** @type {import('./eval')} */\nmodule.exports = EvalError;\n","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Embeddings = void 0;\nconst resource_1 = require(\"../core/resource.js\");\nconst utils_1 = require(\"../internal/utils.js\");\nclass Embeddings extends resource_1.APIResource {\n    /**\n     * Creates an embedding vector representing the input text.\n     *\n     * @example\n     * ```ts\n     * const createEmbeddingResponse =\n     *   await client.embeddings.create({\n     *     input: 'The quick brown fox jumped over the lazy dog',\n     *     model: 'text-embedding-3-small',\n     *   });\n     * ```\n     */\n    create(body, options) {\n        const hasUserProvidedEncodingFormat = !!body.encoding_format;\n        // No encoding_format specified, defaulting to base64 for performance reasons\n        // See https://github.com/openai/openai-node/pull/1312\n        let encoding_format = hasUserProvidedEncodingFormat ? body.encoding_format : 'base64';\n        if (hasUserProvidedEncodingFormat) {\n            (0, utils_1.loggerFor)(this._client).debug('embeddings/user defined encoding_format:', body.encoding_format);\n        }\n        const response = this._client.post('/embeddings', {\n            body: {\n                ...body,\n                encoding_format: encoding_format,\n            },\n            ...options,\n        });\n        // if the user specified an encoding_format, return the response as-is\n        if (hasUserProvidedEncodingFormat) {\n            return response;\n        }\n        // in this stage, we are sure the user did not specify an encoding_format\n        // and we defaulted to base64 for performance reasons\n        // we are sure then that the response is base64 encoded, let's decode it\n        // the returned result will be a float32 array since this is OpenAI API's default encoding\n        (0, utils_1.loggerFor)(this._client).debug('embeddings/decoding base64 embeddings from base64');\n        return response._thenUnwrap((response) => {\n            if (response && response.data) {\n                response.data.forEach((embeddingBase64Obj) => {\n                    const embeddingBase64Str = embeddingBase64Obj.embedding;\n                    embeddingBase64Obj.embedding = (0, utils_1.toFloat32Array)(embeddingBase64Str);\n                });\n            }\n            return response;\n        });\n    }\n}\nexports.Embeddings = Embeddings;\n//# sourceMappingURL=embeddings.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Audio = void 0;\nconst tslib_1 = require(\"../../internal/tslib.js\");\nconst resource_1 = require(\"../../core/resource.js\");\nconst SpeechAPI = tslib_1.__importStar(require(\"./speech.js\"));\nconst speech_1 = require(\"./speech.js\");\nconst TranscriptionsAPI = tslib_1.__importStar(require(\"./transcriptions.js\"));\nconst transcriptions_1 = require(\"./transcriptions.js\");\nconst TranslationsAPI = tslib_1.__importStar(require(\"./translations.js\"));\nconst translations_1 = require(\"./translations.js\");\nclass Audio extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.transcriptions = new TranscriptionsAPI.Transcriptions(this._client);\n        this.translations = new TranslationsAPI.Translations(this._client);\n        this.speech = new SpeechAPI.Speech(this._client);\n    }\n}\nexports.Audio = Audio;\nAudio.Transcriptions = transcriptions_1.Transcriptions;\nAudio.Translations = translations_1.Translations;\nAudio.Speech = speech_1.Speech;\n//# sourceMappingURL=audio.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nvar _OpenAI_instances, _a, _OpenAI_encoder, _OpenAI_baseURLOverridden;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OpenAI = void 0;\nconst tslib_1 = require(\"./internal/tslib.js\");\nconst uuid_1 = require(\"./internal/utils/uuid.js\");\nconst values_1 = require(\"./internal/utils/values.js\");\nconst sleep_1 = require(\"./internal/utils/sleep.js\");\nconst errors_1 = require(\"./internal/errors.js\");\nconst detect_platform_1 = require(\"./internal/detect-platform.js\");\nconst Shims = tslib_1.__importStar(require(\"./internal/shims.js\"));\nconst Opts = tslib_1.__importStar(require(\"./internal/request-options.js\"));\nconst qs = tslib_1.__importStar(require(\"./internal/qs/index.js\"));\nconst version_1 = require(\"./version.js\");\nconst Errors = tslib_1.__importStar(require(\"./core/error.js\"));\nconst Pagination = tslib_1.__importStar(require(\"./core/pagination.js\"));\nconst Uploads = tslib_1.__importStar(require(\"./core/uploads.js\"));\nconst API = tslib_1.__importStar(require(\"./resources/index.js\"));\nconst api_promise_1 = require(\"./core/api-promise.js\");\nconst batches_1 = require(\"./resources/batches.js\");\nconst completions_1 = require(\"./resources/completions.js\");\nconst embeddings_1 = require(\"./resources/embeddings.js\");\nconst files_1 = require(\"./resources/files.js\");\nconst images_1 = require(\"./resources/images.js\");\nconst models_1 = require(\"./resources/models.js\");\nconst moderations_1 = require(\"./resources/moderations.js\");\nconst videos_1 = require(\"./resources/videos.js\");\nconst webhooks_1 = require(\"./resources/webhooks.js\");\nconst audio_1 = require(\"./resources/audio/audio.js\");\nconst beta_1 = require(\"./resources/beta/beta.js\");\nconst chat_1 = require(\"./resources/chat/chat.js\");\nconst containers_1 = require(\"./resources/containers/containers.js\");\nconst conversations_1 = require(\"./resources/conversations/conversations.js\");\nconst evals_1 = require(\"./resources/evals/evals.js\");\nconst fine_tuning_1 = require(\"./resources/fine-tuning/fine-tuning.js\");\nconst graders_1 = require(\"./resources/graders/graders.js\");\nconst realtime_1 = require(\"./resources/realtime/realtime.js\");\nconst responses_1 = require(\"./resources/responses/responses.js\");\nconst uploads_1 = require(\"./resources/uploads/uploads.js\");\nconst vector_stores_1 = require(\"./resources/vector-stores/vector-stores.js\");\nconst detect_platform_2 = require(\"./internal/detect-platform.js\");\nconst headers_1 = require(\"./internal/headers.js\");\nconst env_1 = require(\"./internal/utils/env.js\");\nconst log_1 = require(\"./internal/utils/log.js\");\nconst values_2 = require(\"./internal/utils/values.js\");\n/**\n * API Client for interfacing with the OpenAI API.\n */\nclass OpenAI {\n    /**\n     * API Client for interfacing with the OpenAI API.\n     *\n     * @param {string | undefined} [opts.apiKey=process.env['OPENAI_API_KEY'] ?? undefined]\n     * @param {string | null | undefined} [opts.organization=process.env['OPENAI_ORG_ID'] ?? null]\n     * @param {string | null | undefined} [opts.project=process.env['OPENAI_PROJECT_ID'] ?? null]\n     * @param {string | null | undefined} [opts.webhookSecret=process.env['OPENAI_WEBHOOK_SECRET'] ?? null]\n     * @param {string} [opts.baseURL=process.env['OPENAI_BASE_URL'] ?? https://api.openai.com/v1] - Override the default base URL for the API.\n     * @param {number} [opts.timeout=10 minutes] - The maximum amount of time (in milliseconds) the client will wait for a response before timing out.\n     * @param {MergedRequestInit} [opts.fetchOptions] - Additional `RequestInit` options to be passed to `fetch` calls.\n     * @param {Fetch} [opts.fetch] - Specify a custom `fetch` function implementation.\n     * @param {number} [opts.maxRetries=2] - The maximum number of times the client will retry a request.\n     * @param {HeadersLike} opts.defaultHeaders - Default headers to include with every request to the API.\n     * @param {Record<string, string | undefined>} opts.defaultQuery - Default query parameters to include with every request to the API.\n     * @param {boolean} [opts.dangerouslyAllowBrowser=false] - By default, client-side use of this library is not allowed, as it risks exposing your secret API credentials to attackers.\n     */\n    constructor({ baseURL = (0, env_1.readEnv)('OPENAI_BASE_URL'), apiKey = (0, env_1.readEnv)('OPENAI_API_KEY'), organization = (0, env_1.readEnv)('OPENAI_ORG_ID') ?? null, project = (0, env_1.readEnv)('OPENAI_PROJECT_ID') ?? null, webhookSecret = (0, env_1.readEnv)('OPENAI_WEBHOOK_SECRET') ?? null, ...opts } = {}) {\n        _OpenAI_instances.add(this);\n        _OpenAI_encoder.set(this, void 0);\n        this.completions = new API.Completions(this);\n        this.chat = new API.Chat(this);\n        this.embeddings = new API.Embeddings(this);\n        this.files = new API.Files(this);\n        this.images = new API.Images(this);\n        this.audio = new API.Audio(this);\n        this.moderations = new API.Moderations(this);\n        this.models = new API.Models(this);\n        this.fineTuning = new API.FineTuning(this);\n        this.graders = new API.Graders(this);\n        this.vectorStores = new API.VectorStores(this);\n        this.webhooks = new API.Webhooks(this);\n        this.beta = new API.Beta(this);\n        this.batches = new API.Batches(this);\n        this.uploads = new API.Uploads(this);\n        this.responses = new API.Responses(this);\n        this.realtime = new API.Realtime(this);\n        this.conversations = new API.Conversations(this);\n        this.evals = new API.Evals(this);\n        this.containers = new API.Containers(this);\n        this.videos = new API.Videos(this);\n        if (apiKey === undefined) {\n            throw new Errors.OpenAIError('Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.');\n        }\n        const options = {\n            apiKey,\n            organization,\n            project,\n            webhookSecret,\n            ...opts,\n            baseURL: baseURL || `https://api.openai.com/v1`,\n        };\n        if (!options.dangerouslyAllowBrowser && (0, detect_platform_2.isRunningInBrowser)()) {\n            throw new Errors.OpenAIError(\"It looks like you're running in a browser-like environment.\\n\\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\\nIf you understand the risks and have appropriate mitigations in place,\\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\\n\\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\\n\\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\\n\");\n        }\n        this.baseURL = options.baseURL;\n        this.timeout = options.timeout ?? _a.DEFAULT_TIMEOUT /* 10 minutes */;\n        this.logger = options.logger ?? console;\n        const defaultLogLevel = 'warn';\n        // Set default logLevel early so that we can log a warning in parseLogLevel.\n        this.logLevel = defaultLogLevel;\n        this.logLevel =\n            (0, log_1.parseLogLevel)(options.logLevel, 'ClientOptions.logLevel', this) ??\n                (0, log_1.parseLogLevel)((0, env_1.readEnv)('OPENAI_LOG'), \"process.env['OPENAI_LOG']\", this) ??\n                defaultLogLevel;\n        this.fetchOptions = options.fetchOptions;\n        this.maxRetries = options.maxRetries ?? 2;\n        this.fetch = options.fetch ?? Shims.getDefaultFetch();\n        tslib_1.__classPrivateFieldSet(this, _OpenAI_encoder, Opts.FallbackEncoder, \"f\");\n        this._options = options;\n        this.apiKey = typeof apiKey === 'string' ? apiKey : 'Missing Key';\n        this.organization = organization;\n        this.project = project;\n        this.webhookSecret = webhookSecret;\n    }\n    /**\n     * Create a new client instance re-using the same options given to the current client with optional overriding.\n     */\n    withOptions(options) {\n        const client = new this.constructor({\n            ...this._options,\n            baseURL: this.baseURL,\n            maxRetries: this.maxRetries,\n            timeout: this.timeout,\n            logger: this.logger,\n            logLevel: this.logLevel,\n            fetch: this.fetch,\n            fetchOptions: this.fetchOptions,\n            apiKey: this.apiKey,\n            organization: this.organization,\n            project: this.project,\n            webhookSecret: this.webhookSecret,\n            ...options,\n        });\n        return client;\n    }\n    defaultQuery() {\n        return this._options.defaultQuery;\n    }\n    validateHeaders({ values, nulls }) {\n        return;\n    }\n    async authHeaders(opts) {\n        return (0, headers_1.buildHeaders)([{ Authorization: `Bearer ${this.apiKey}` }]);\n    }\n    stringifyQuery(query) {\n        return qs.stringify(query, { arrayFormat: 'brackets' });\n    }\n    getUserAgent() {\n        return `${this.constructor.name}/JS ${version_1.VERSION}`;\n    }\n    defaultIdempotencyKey() {\n        return `stainless-node-retry-${(0, uuid_1.uuid4)()}`;\n    }\n    makeStatusError(status, error, message, headers) {\n        return Errors.APIError.generate(status, error, message, headers);\n    }\n    async _callApiKey() {\n        const apiKey = this._options.apiKey;\n        if (typeof apiKey !== 'function')\n            return false;\n        let token;\n        try {\n            token = await apiKey();\n        }\n        catch (err) {\n            if (err instanceof Errors.OpenAIError)\n                throw err;\n            throw new Errors.OpenAIError(`Failed to get token from 'apiKey' function: ${err.message}`, \n            // @ts-ignore\n            { cause: err });\n        }\n        if (typeof token !== 'string' || !token) {\n            throw new Errors.OpenAIError(`Expected 'apiKey' function argument to return a string but it returned ${token}`);\n        }\n        this.apiKey = token;\n        return true;\n    }\n    buildURL(path, query, defaultBaseURL) {\n        const baseURL = (!tslib_1.__classPrivateFieldGet(this, _OpenAI_instances, \"m\", _OpenAI_baseURLOverridden).call(this) && defaultBaseURL) || this.baseURL;\n        const url = (0, values_1.isAbsoluteURL)(path) ?\n            new URL(path)\n            : new URL(baseURL + (baseURL.endsWith('/') && path.startsWith('/') ? path.slice(1) : path));\n        const defaultQuery = this.defaultQuery();\n        if (!(0, values_2.isEmptyObj)(defaultQuery)) {\n            query = { ...defaultQuery, ...query };\n        }\n        if (typeof query === 'object' && query && !Array.isArray(query)) {\n            url.search = this.stringifyQuery(query);\n        }\n        return url.toString();\n    }\n    /**\n     * Used as a callback for mutating the given `FinalRequestOptions` object.\n     */\n    async prepareOptions(options) {\n        await this._callApiKey();\n    }\n    /**\n     * Used as a callback for mutating the given `RequestInit` object.\n     *\n     * This is useful for cases where you want to add certain headers based off of\n     * the request properties, e.g. `method` or `url`.\n     */\n    async prepareRequest(request, { url, options }) { }\n    get(path, opts) {\n        return this.methodRequest('get', path, opts);\n    }\n    post(path, opts) {\n        return this.methodRequest('post', path, opts);\n    }\n    patch(path, opts) {\n        return this.methodRequest('patch', path, opts);\n    }\n    put(path, opts) {\n        return this.methodRequest('put', path, opts);\n    }\n    delete(path, opts) {\n        return this.methodRequest('delete', path, opts);\n    }\n    methodRequest(method, path, opts) {\n        return this.request(Promise.resolve(opts).then((opts) => {\n            return { method, path, ...opts };\n        }));\n    }\n    request(options, remainingRetries = null) {\n        return new api_promise_1.APIPromise(this, this.makeRequest(options, remainingRetries, undefined));\n    }\n    async makeRequest(optionsInput, retriesRemaining, retryOfRequestLogID) {\n        const options = await optionsInput;\n        const maxRetries = options.maxRetries ?? this.maxRetries;\n        if (retriesRemaining == null) {\n            retriesRemaining = maxRetries;\n        }\n        await this.prepareOptions(options);\n        const { req, url, timeout } = await this.buildRequest(options, {\n            retryCount: maxRetries - retriesRemaining,\n        });\n        await this.prepareRequest(req, { url, options });\n        /** Not an API request ID, just for correlating local log entries. */\n        const requestLogID = 'log_' + ((Math.random() * (1 << 24)) | 0).toString(16).padStart(6, '0');\n        const retryLogStr = retryOfRequestLogID === undefined ? '' : `, retryOf: ${retryOfRequestLogID}`;\n        const startTime = Date.now();\n        (0, log_1.loggerFor)(this).debug(`[${requestLogID}] sending request`, (0, log_1.formatRequestDetails)({\n            retryOfRequestLogID,\n            method: options.method,\n            url,\n            options,\n            headers: req.headers,\n        }));\n        if (options.signal?.aborted) {\n            throw new Errors.APIUserAbortError();\n        }\n        const controller = new AbortController();\n        const response = await this.fetchWithTimeout(url, req, timeout, controller).catch(errors_1.castToError);\n        const headersTime = Date.now();\n        if (response instanceof globalThis.Error) {\n            const retryMessage = `retrying, ${retriesRemaining} attempts remaining`;\n            if (options.signal?.aborted) {\n                throw new Errors.APIUserAbortError();\n            }\n            // detect native connection timeout errors\n            // deno throws \"TypeError: error sending request for url (https://example/): client error (Connect): tcp connect error: Operation timed out (os error 60): Operation timed out (os error 60)\"\n            // undici throws \"TypeError: fetch failed\" with cause \"ConnectTimeoutError: Connect Timeout Error (attempted address: example:443, timeout: 1ms)\"\n            // others do not provide enough information to distinguish timeouts from other connection errors\n            const isTimeout = (0, errors_1.isAbortError)(response) ||\n                /timed? ?out/i.test(String(response) + ('cause' in response ? String(response.cause) : ''));\n            if (retriesRemaining) {\n                (0, log_1.loggerFor)(this).info(`[${requestLogID}] connection ${isTimeout ? 'timed out' : 'failed'} - ${retryMessage}`);\n                (0, log_1.loggerFor)(this).debug(`[${requestLogID}] connection ${isTimeout ? 'timed out' : 'failed'} (${retryMessage})`, (0, log_1.formatRequestDetails)({\n                    retryOfRequestLogID,\n                    url,\n                    durationMs: headersTime - startTime,\n                    message: response.message,\n                }));\n                return this.retryRequest(options, retriesRemaining, retryOfRequestLogID ?? requestLogID);\n            }\n            (0, log_1.loggerFor)(this).info(`[${requestLogID}] connection ${isTimeout ? 'timed out' : 'failed'} - error; no more retries left`);\n            (0, log_1.loggerFor)(this).debug(`[${requestLogID}] connection ${isTimeout ? 'timed out' : 'failed'} (error; no more retries left)`, (0, log_1.formatRequestDetails)({\n                retryOfRequestLogID,\n                url,\n                durationMs: headersTime - startTime,\n                message: response.message,\n            }));\n            if (isTimeout) {\n                throw new Errors.APIConnectionTimeoutError();\n            }\n            throw new Errors.APIConnectionError({ cause: response });\n        }\n        const specialHeaders = [...response.headers.entries()]\n            .filter(([name]) => name === 'x-request-id')\n            .map(([name, value]) => ', ' + name + ': ' + JSON.stringify(value))\n            .join('');\n        const responseInfo = `[${requestLogID}${retryLogStr}${specialHeaders}] ${req.method} ${url} ${response.ok ? 'succeeded' : 'failed'} with status ${response.status} in ${headersTime - startTime}ms`;\n        if (!response.ok) {\n            const shouldRetry = await this.shouldRetry(response);\n            if (retriesRemaining && shouldRetry) {\n                const retryMessage = `retrying, ${retriesRemaining} attempts remaining`;\n                // We don't need the body of this response.\n                await Shims.CancelReadableStream(response.body);\n                (0, log_1.loggerFor)(this).info(`${responseInfo} - ${retryMessage}`);\n                (0, log_1.loggerFor)(this).debug(`[${requestLogID}] response error (${retryMessage})`, (0, log_1.formatRequestDetails)({\n                    retryOfRequestLogID,\n                    url: response.url,\n                    status: response.status,\n                    headers: response.headers,\n                    durationMs: headersTime - startTime,\n                }));\n                return this.retryRequest(options, retriesRemaining, retryOfRequestLogID ?? requestLogID, response.headers);\n            }\n            const retryMessage = shouldRetry ? `error; no more retries left` : `error; not retryable`;\n            (0, log_1.loggerFor)(this).info(`${responseInfo} - ${retryMessage}`);\n            const errText = await response.text().catch((err) => (0, errors_1.castToError)(err).message);\n            const errJSON = (0, values_1.safeJSON)(errText);\n            const errMessage = errJSON ? undefined : errText;\n            (0, log_1.loggerFor)(this).debug(`[${requestLogID}] response error (${retryMessage})`, (0, log_1.formatRequestDetails)({\n                retryOfRequestLogID,\n                url: response.url,\n                status: response.status,\n                headers: response.headers,\n                message: errMessage,\n                durationMs: Date.now() - startTime,\n            }));\n            const err = this.makeStatusError(response.status, errJSON, errMessage, response.headers);\n            throw err;\n        }\n        (0, log_1.loggerFor)(this).info(responseInfo);\n        (0, log_1.loggerFor)(this).debug(`[${requestLogID}] response start`, (0, log_1.formatRequestDetails)({\n            retryOfRequestLogID,\n            url: response.url,\n            status: response.status,\n            headers: response.headers,\n            durationMs: headersTime - startTime,\n        }));\n        return { response, options, controller, requestLogID, retryOfRequestLogID, startTime };\n    }\n    getAPIList(path, Page, opts) {\n        return this.requestAPIList(Page, { method: 'get', path, ...opts });\n    }\n    requestAPIList(Page, options) {\n        const request = this.makeRequest(options, null, undefined);\n        return new Pagination.PagePromise(this, request, Page);\n    }\n    async fetchWithTimeout(url, init, ms, controller) {\n        const { signal, method, ...options } = init || {};\n        if (signal)\n            signal.addEventListener('abort', () => controller.abort());\n        const timeout = setTimeout(() => controller.abort(), ms);\n        const isReadableBody = (globalThis.ReadableStream && options.body instanceof globalThis.ReadableStream) ||\n            (typeof options.body === 'object' && options.body !== null && Symbol.asyncIterator in options.body);\n        const fetchOptions = {\n            signal: controller.signal,\n            ...(isReadableBody ? { duplex: 'half' } : {}),\n            method: 'GET',\n            ...options,\n        };\n        if (method) {\n            // Custom methods like 'patch' need to be uppercased\n            // See https://github.com/nodejs/undici/issues/2294\n            fetchOptions.method = method.toUpperCase();\n        }\n        try {\n            // use undefined this binding; fetch errors if bound to something else in browser/cloudflare\n            return await this.fetch.call(undefined, url, fetchOptions);\n        }\n        finally {\n            clearTimeout(timeout);\n        }\n    }\n    async shouldRetry(response) {\n        // Note this is not a standard header.\n        const shouldRetryHeader = response.headers.get('x-should-retry');\n        // If the server explicitly says whether or not to retry, obey.\n        if (shouldRetryHeader === 'true')\n            return true;\n        if (shouldRetryHeader === 'false')\n            return false;\n        // Retry on request timeouts.\n        if (response.status === 408)\n            return true;\n        // Retry on lock timeouts.\n        if (response.status === 409)\n            return true;\n        // Retry on rate limits.\n        if (response.status === 429)\n            return true;\n        // Retry internal errors.\n        if (response.status >= 500)\n            return true;\n        return false;\n    }\n    async retryRequest(options, retriesRemaining, requestLogID, responseHeaders) {\n        let timeoutMillis;\n        // Note the `retry-after-ms` header may not be standard, but is a good idea and we'd like proactive support for it.\n        const retryAfterMillisHeader = responseHeaders?.get('retry-after-ms');\n        if (retryAfterMillisHeader) {\n            const timeoutMs = parseFloat(retryAfterMillisHeader);\n            if (!Number.isNaN(timeoutMs)) {\n                timeoutMillis = timeoutMs;\n            }\n        }\n        // About the Retry-After header: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After\n        const retryAfterHeader = responseHeaders?.get('retry-after');\n        if (retryAfterHeader && !timeoutMillis) {\n            const timeoutSeconds = parseFloat(retryAfterHeader);\n            if (!Number.isNaN(timeoutSeconds)) {\n                timeoutMillis = timeoutSeconds * 1000;\n            }\n            else {\n                timeoutMillis = Date.parse(retryAfterHeader) - Date.now();\n            }\n        }\n        // If the API asks us to wait a certain amount of time (and it's a reasonable amount),\n        // just do what it says, but otherwise calculate a default\n        if (!(timeoutMillis && 0 <= timeoutMillis && timeoutMillis < 60 * 1000)) {\n            const maxRetries = options.maxRetries ?? this.maxRetries;\n            timeoutMillis = this.calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries);\n        }\n        await (0, sleep_1.sleep)(timeoutMillis);\n        return this.makeRequest(options, retriesRemaining - 1, requestLogID);\n    }\n    calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries) {\n        const initialRetryDelay = 0.5;\n        const maxRetryDelay = 8.0;\n        const numRetries = maxRetries - retriesRemaining;\n        // Apply exponential backoff, but not more than the max.\n        const sleepSeconds = Math.min(initialRetryDelay * Math.pow(2, numRetries), maxRetryDelay);\n        // Apply some jitter, take up to at most 25 percent of the retry time.\n        const jitter = 1 - Math.random() * 0.25;\n        return sleepSeconds * jitter * 1000;\n    }\n    async buildRequest(inputOptions, { retryCount = 0 } = {}) {\n        const options = { ...inputOptions };\n        const { method, path, query, defaultBaseURL } = options;\n        const url = this.buildURL(path, query, defaultBaseURL);\n        if ('timeout' in options)\n            (0, values_1.validatePositiveInteger)('timeout', options.timeout);\n        options.timeout = options.timeout ?? this.timeout;\n        const { bodyHeaders, body } = this.buildBody({ options });\n        const reqHeaders = await this.buildHeaders({ options: inputOptions, method, bodyHeaders, retryCount });\n        const req = {\n            method,\n            headers: reqHeaders,\n            ...(options.signal && { signal: options.signal }),\n            ...(globalThis.ReadableStream &&\n                body instanceof globalThis.ReadableStream && { duplex: 'half' }),\n            ...(body && { body }),\n            ...(this.fetchOptions ?? {}),\n            ...(options.fetchOptions ?? {}),\n        };\n        return { req, url, timeout: options.timeout };\n    }\n    async buildHeaders({ options, method, bodyHeaders, retryCount, }) {\n        let idempotencyHeaders = {};\n        if (this.idempotencyHeader && method !== 'get') {\n            if (!options.idempotencyKey)\n                options.idempotencyKey = this.defaultIdempotencyKey();\n            idempotencyHeaders[this.idempotencyHeader] = options.idempotencyKey;\n        }\n        const headers = (0, headers_1.buildHeaders)([\n            idempotencyHeaders,\n            {\n                Accept: 'application/json',\n                'User-Agent': this.getUserAgent(),\n                'X-Stainless-Retry-Count': String(retryCount),\n                ...(options.timeout ? { 'X-Stainless-Timeout': String(Math.trunc(options.timeout / 1000)) } : {}),\n                ...(0, detect_platform_1.getPlatformHeaders)(),\n                'OpenAI-Organization': this.organization,\n                'OpenAI-Project': this.project,\n            },\n            await this.authHeaders(options),\n            this._options.defaultHeaders,\n            bodyHeaders,\n            options.headers,\n        ]);\n        this.validateHeaders(headers);\n        return headers.values;\n    }\n    buildBody({ options: { body, headers: rawHeaders } }) {\n        if (!body) {\n            return { bodyHeaders: undefined, body: undefined };\n        }\n        const headers = (0, headers_1.buildHeaders)([rawHeaders]);\n        if (\n        // Pass raw type verbatim\n        ArrayBuffer.isView(body) ||\n            body instanceof ArrayBuffer ||\n            body instanceof DataView ||\n            (typeof body === 'string' &&\n                // Preserve legacy string encoding behavior for now\n                headers.values.has('content-type')) ||\n            // `Blob` is superset of `File`\n            (globalThis.Blob && body instanceof globalThis.Blob) ||\n            // `FormData` -> `multipart/form-data`\n            body instanceof FormData ||\n            // `URLSearchParams` -> `application/x-www-form-urlencoded`\n            body instanceof URLSearchParams ||\n            // Send chunked stream (each chunk has own `length`)\n            (globalThis.ReadableStream && body instanceof globalThis.ReadableStream)) {\n            return { bodyHeaders: undefined, body: body };\n        }\n        else if (typeof body === 'object' &&\n            (Symbol.asyncIterator in body ||\n                (Symbol.iterator in body && 'next' in body && typeof body.next === 'function'))) {\n            return { bodyHeaders: undefined, body: Shims.ReadableStreamFrom(body) };\n        }\n        else {\n            return tslib_1.__classPrivateFieldGet(this, _OpenAI_encoder, \"f\").call(this, { body, headers });\n        }\n    }\n}\nexports.OpenAI = OpenAI;\n_a = OpenAI, _OpenAI_encoder = new WeakMap(), _OpenAI_instances = new WeakSet(), _OpenAI_baseURLOverridden = function _OpenAI_baseURLOverridden() {\n    return this.baseURL !== 'https://api.openai.com/v1';\n};\nOpenAI.OpenAI = _a;\nOpenAI.DEFAULT_TIMEOUT = 600000; // 10 minutes\nOpenAI.OpenAIError = Errors.OpenAIError;\nOpenAI.APIError = Errors.APIError;\nOpenAI.APIConnectionError = Errors.APIConnectionError;\nOpenAI.APIConnectionTimeoutError = Errors.APIConnectionTimeoutError;\nOpenAI.APIUserAbortError = Errors.APIUserAbortError;\nOpenAI.NotFoundError = Errors.NotFoundError;\nOpenAI.ConflictError = Errors.ConflictError;\nOpenAI.RateLimitError = Errors.RateLimitError;\nOpenAI.BadRequestError = Errors.BadRequestError;\nOpenAI.AuthenticationError = Errors.AuthenticationError;\nOpenAI.InternalServerError = Errors.InternalServerError;\nOpenAI.PermissionDeniedError = Errors.PermissionDeniedError;\nOpenAI.UnprocessableEntityError = Errors.UnprocessableEntityError;\nOpenAI.InvalidWebhookSignatureError = Errors.InvalidWebhookSignatureError;\nOpenAI.toFile = Uploads.toFile;\nOpenAI.Completions = completions_1.Completions;\nOpenAI.Chat = chat_1.Chat;\nOpenAI.Embeddings = embeddings_1.Embeddings;\nOpenAI.Files = files_1.Files;\nOpenAI.Images = images_1.Images;\nOpenAI.Audio = audio_1.Audio;\nOpenAI.Moderations = moderations_1.Moderations;\nOpenAI.Models = models_1.Models;\nOpenAI.FineTuning = fine_tuning_1.FineTuning;\nOpenAI.Graders = graders_1.Graders;\nOpenAI.VectorStores = vector_stores_1.VectorStores;\nOpenAI.Webhooks = webhooks_1.Webhooks;\nOpenAI.Beta = beta_1.Beta;\nOpenAI.Batches = batches_1.Batches;\nOpenAI.Uploads = uploads_1.Uploads;\nOpenAI.Responses = responses_1.Responses;\nOpenAI.Realtime = realtime_1.Realtime;\nOpenAI.Conversations = conversations_1.Conversations;\nOpenAI.Evals = evals_1.Evals;\nOpenAI.Containers = containers_1.Containers;\nOpenAI.Videos = videos_1.Videos;\n//# sourceMappingURL=client.js.map","'use strict';\n\n/** @type {import('./shams')} */\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\t/** @type {{ [k in symbol]?: unknown }} */\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (var _ in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\t// eslint-disable-next-line no-extra-parens\n\t\tvar descriptor = /** @type {PropertyDescriptor} */ (Object.getOwnPropertyDescriptor(obj, sym));\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\n// populates missing values\nmodule.exports = function (dst, src) {\n  Object.keys(src).forEach(function (prop) {\n    dst[prop] = dst[prop] || src[prop]; // eslint-disable-line no-param-reassign\n  });\n\n  return dst;\n};\n","module.exports = require(\"vscode\");","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formats = exports.stringify = void 0;\nconst formats_1 = require(\"./formats.js\");\nconst formats = {\n    formatters: formats_1.formatters,\n    RFC1738: formats_1.RFC1738,\n    RFC3986: formats_1.RFC3986,\n    default: formats_1.default_format,\n};\nexports.formats = formats;\nvar stringify_1 = require(\"./stringify.js\");\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return stringify_1.stringify; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Files = void 0;\nconst resource_1 = require(\"../core/resource.js\");\nconst pagination_1 = require(\"../core/pagination.js\");\nconst headers_1 = require(\"../internal/headers.js\");\nconst sleep_1 = require(\"../internal/utils/sleep.js\");\nconst error_1 = require(\"../error.js\");\nconst uploads_1 = require(\"../internal/uploads.js\");\nconst path_1 = require(\"../internal/utils/path.js\");\nclass Files extends resource_1.APIResource {\n    /**\n     * Upload a file that can be used across various endpoints. Individual files can be\n     * up to 512 MB, and the size of all files uploaded by one organization can be up\n     * to 1 TB.\n     *\n     * The Assistants API supports files up to 2 million tokens and of specific file\n     * types. See the\n     * [Assistants Tools guide](https://platform.openai.com/docs/assistants/tools) for\n     * details.\n     *\n     * The Fine-tuning API only supports `.jsonl` files. The input also has certain\n     * required formats for fine-tuning\n     * [chat](https://platform.openai.com/docs/api-reference/fine-tuning/chat-input) or\n     * [completions](https://platform.openai.com/docs/api-reference/fine-tuning/completions-input)\n     * models.\n     *\n     * The Batch API only supports `.jsonl` files up to 200 MB in size. The input also\n     * has a specific required\n     * [format](https://platform.openai.com/docs/api-reference/batch/request-input).\n     *\n     * Please [contact us](https://help.openai.com/) if you need to increase these\n     * storage limits.\n     */\n    create(body, options) {\n        return this._client.post('/files', (0, uploads_1.multipartFormRequestOptions)({ body, ...options }, this._client));\n    }\n    /**\n     * Returns information about a specific file.\n     */\n    retrieve(fileID, options) {\n        return this._client.get((0, path_1.path) `/files/${fileID}`, options);\n    }\n    /**\n     * Returns a list of files.\n     */\n    list(query = {}, options) {\n        return this._client.getAPIList('/files', (pagination_1.CursorPage), { query, ...options });\n    }\n    /**\n     * Delete a file and remove it from all vector stores.\n     */\n    delete(fileID, options) {\n        return this._client.delete((0, path_1.path) `/files/${fileID}`, options);\n    }\n    /**\n     * Returns the contents of the specified file.\n     */\n    content(fileID, options) {\n        return this._client.get((0, path_1.path) `/files/${fileID}/content`, {\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ Accept: 'application/binary' }, options?.headers]),\n            __binaryResponse: true,\n        });\n    }\n    /**\n     * Waits for the given file to be processed, default timeout is 30 mins.\n     */\n    async waitForProcessing(id, { pollInterval = 5000, maxWait = 30 * 60 * 1000 } = {}) {\n        const TERMINAL_STATES = new Set(['processed', 'error', 'deleted']);\n        const start = Date.now();\n        let file = await this.retrieve(id);\n        while (!file.status || !TERMINAL_STATES.has(file.status)) {\n            await (0, sleep_1.sleep)(pollInterval);\n            file = await this.retrieve(id);\n            if (Date.now() - start > maxWait) {\n                throw new error_1.APIConnectionTimeoutError({\n                    message: `Giving up on waiting for file ${id} to finish processing after ${maxWait} milliseconds.`,\n                });\n            }\n        }\n        return file;\n    }\n}\nexports.Files = Files;\n//# sourceMappingURL=files.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nvar _APIPromise_client;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.APIPromise = void 0;\nconst tslib_1 = require(\"../internal/tslib.js\");\nconst parse_1 = require(\"../internal/parse.js\");\n/**\n * A subclass of `Promise` providing additional helper methods\n * for interacting with the SDK.\n */\nclass APIPromise extends Promise {\n    constructor(client, responsePromise, parseResponse = parse_1.defaultParseResponse) {\n        super((resolve) => {\n            // this is maybe a bit weird but this has to be a no-op to not implicitly\n            // parse the response body; instead .then, .catch, .finally are overridden\n            // to parse the response\n            resolve(null);\n        });\n        this.responsePromise = responsePromise;\n        this.parseResponse = parseResponse;\n        _APIPromise_client.set(this, void 0);\n        tslib_1.__classPrivateFieldSet(this, _APIPromise_client, client, \"f\");\n    }\n    _thenUnwrap(transform) {\n        return new APIPromise(tslib_1.__classPrivateFieldGet(this, _APIPromise_client, \"f\"), this.responsePromise, async (client, props) => (0, parse_1.addRequestID)(transform(await this.parseResponse(client, props), props), props.response));\n    }\n    /**\n     * Gets the raw `Response` instance instead of parsing the response\n     * data.\n     *\n     * If you want to parse the response body but still get the `Response`\n     * instance, you can use {@link withResponse()}.\n     *\n     * 👋 Getting the wrong TypeScript type for `Response`?\n     * Try setting `\"moduleResolution\": \"NodeNext\"` or add `\"lib\": [\"DOM\"]`\n     * to your `tsconfig.json`.\n     */\n    asResponse() {\n        return this.responsePromise.then((p) => p.response);\n    }\n    /**\n     * Gets the parsed response data, the raw `Response` instance and the ID of the request,\n     * returned via the X-Request-ID header which is useful for debugging requests and reporting\n     * issues to OpenAI.\n     *\n     * If you just want to get the raw `Response` instance without parsing it,\n     * you can use {@link asResponse()}.\n     *\n     * 👋 Getting the wrong TypeScript type for `Response`?\n     * Try setting `\"moduleResolution\": \"NodeNext\"` or add `\"lib\": [\"DOM\"]`\n     * to your `tsconfig.json`.\n     */\n    async withResponse() {\n        const [data, response] = await Promise.all([this.parse(), this.asResponse()]);\n        return { data, response, request_id: response.headers.get('x-request-id') };\n    }\n    parse() {\n        if (!this.parsedPromise) {\n            this.parsedPromise = this.responsePromise.then((data) => this.parseResponse(tslib_1.__classPrivateFieldGet(this, _APIPromise_client, \"f\"), data));\n        }\n        return this.parsedPromise;\n    }\n    then(onfulfilled, onrejected) {\n        return this.parse().then(onfulfilled, onrejected);\n    }\n    catch(onrejected) {\n        return this.parse().catch(onrejected);\n    }\n    finally(onfinally) {\n        return this.parse().finally(onfinally);\n    }\n}\nexports.APIPromise = APIPromise;\n_APIPromise_client = new WeakMap();\n//# sourceMappingURL=api-promise.js.map","'use strict';\n\n/** @type {import('./abs')} */\nmodule.exports = Math.abs;\n","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Jobs = void 0;\nconst tslib_1 = require(\"../../../internal/tslib.js\");\nconst resource_1 = require(\"../../../core/resource.js\");\nconst CheckpointsAPI = tslib_1.__importStar(require(\"./checkpoints.js\"));\nconst checkpoints_1 = require(\"./checkpoints.js\");\nconst pagination_1 = require(\"../../../core/pagination.js\");\nconst path_1 = require(\"../../../internal/utils/path.js\");\nclass Jobs extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.checkpoints = new CheckpointsAPI.Checkpoints(this._client);\n    }\n    /**\n     * Creates a fine-tuning job which begins the process of creating a new model from\n     * a given dataset.\n     *\n     * Response includes details of the enqueued job including job status and the name\n     * of the fine-tuned models once complete.\n     *\n     * [Learn more about fine-tuning](https://platform.openai.com/docs/guides/model-optimization)\n     *\n     * @example\n     * ```ts\n     * const fineTuningJob = await client.fineTuning.jobs.create({\n     *   model: 'gpt-4o-mini',\n     *   training_file: 'file-abc123',\n     * });\n     * ```\n     */\n    create(body, options) {\n        return this._client.post('/fine_tuning/jobs', { body, ...options });\n    }\n    /**\n     * Get info about a fine-tuning job.\n     *\n     * [Learn more about fine-tuning](https://platform.openai.com/docs/guides/model-optimization)\n     *\n     * @example\n     * ```ts\n     * const fineTuningJob = await client.fineTuning.jobs.retrieve(\n     *   'ft-AF1WoRqd3aJAHsqc9NY7iL8F',\n     * );\n     * ```\n     */\n    retrieve(fineTuningJobID, options) {\n        return this._client.get((0, path_1.path) `/fine_tuning/jobs/${fineTuningJobID}`, options);\n    }\n    /**\n     * List your organization's fine-tuning jobs\n     *\n     * @example\n     * ```ts\n     * // Automatically fetches more pages as needed.\n     * for await (const fineTuningJob of client.fineTuning.jobs.list()) {\n     *   // ...\n     * }\n     * ```\n     */\n    list(query = {}, options) {\n        return this._client.getAPIList('/fine_tuning/jobs', (pagination_1.CursorPage), { query, ...options });\n    }\n    /**\n     * Immediately cancel a fine-tune job.\n     *\n     * @example\n     * ```ts\n     * const fineTuningJob = await client.fineTuning.jobs.cancel(\n     *   'ft-AF1WoRqd3aJAHsqc9NY7iL8F',\n     * );\n     * ```\n     */\n    cancel(fineTuningJobID, options) {\n        return this._client.post((0, path_1.path) `/fine_tuning/jobs/${fineTuningJobID}/cancel`, options);\n    }\n    /**\n     * Get status updates for a fine-tuning job.\n     *\n     * @example\n     * ```ts\n     * // Automatically fetches more pages as needed.\n     * for await (const fineTuningJobEvent of client.fineTuning.jobs.listEvents(\n     *   'ft-AF1WoRqd3aJAHsqc9NY7iL8F',\n     * )) {\n     *   // ...\n     * }\n     * ```\n     */\n    listEvents(fineTuningJobID, query = {}, options) {\n        return this._client.getAPIList((0, path_1.path) `/fine_tuning/jobs/${fineTuningJobID}/events`, (pagination_1.CursorPage), { query, ...options });\n    }\n    /**\n     * Pause a fine-tune job.\n     *\n     * @example\n     * ```ts\n     * const fineTuningJob = await client.fineTuning.jobs.pause(\n     *   'ft-AF1WoRqd3aJAHsqc9NY7iL8F',\n     * );\n     * ```\n     */\n    pause(fineTuningJobID, options) {\n        return this._client.post((0, path_1.path) `/fine_tuning/jobs/${fineTuningJobID}/pause`, options);\n    }\n    /**\n     * Resume a fine-tune job.\n     *\n     * @example\n     * ```ts\n     * const fineTuningJob = await client.fineTuning.jobs.resume(\n     *   'ft-AF1WoRqd3aJAHsqc9NY7iL8F',\n     * );\n     * ```\n     */\n    resume(fineTuningJobID, options) {\n        return this._client.post((0, path_1.path) `/fine_tuning/jobs/${fineTuningJobID}/resume`, options);\n    }\n}\nexports.Jobs = Jobs;\nJobs.Checkpoints = checkpoints_1.Checkpoints;\n//# sourceMappingURL=jobs.js.map","module.exports =\n{\n  parallel      : require('./parallel.js'),\n  serial        : require('./serial.js'),\n  serialOrdered : require('./serialOrdered.js')\n};\n","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Runs = void 0;\nconst tslib_1 = require(\"../../../../internal/tslib.js\");\nconst resource_1 = require(\"../../../../core/resource.js\");\nconst StepsAPI = tslib_1.__importStar(require(\"./steps.js\"));\nconst steps_1 = require(\"./steps.js\");\nconst pagination_1 = require(\"../../../../core/pagination.js\");\nconst headers_1 = require(\"../../../../internal/headers.js\");\nconst AssistantStream_1 = require(\"../../../../lib/AssistantStream.js\");\nconst sleep_1 = require(\"../../../../internal/utils/sleep.js\");\nconst path_1 = require(\"../../../../internal/utils/path.js\");\n/**\n * @deprecated The Assistants API is deprecated in favor of the Responses API\n */\nclass Runs extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.steps = new StepsAPI.Steps(this._client);\n    }\n    create(threadID, params, options) {\n        const { include, ...body } = params;\n        return this._client.post((0, path_1.path) `/threads/${threadID}/runs`, {\n            query: { include },\n            body,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n            stream: params.stream ?? false,\n        });\n    }\n    /**\n     * Retrieves a run.\n     *\n     * @deprecated The Assistants API is deprecated in favor of the Responses API\n     */\n    retrieve(runID, params, options) {\n        const { thread_id } = params;\n        return this._client.get((0, path_1.path) `/threads/${thread_id}/runs/${runID}`, {\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Modifies a run.\n     *\n     * @deprecated The Assistants API is deprecated in favor of the Responses API\n     */\n    update(runID, params, options) {\n        const { thread_id, ...body } = params;\n        return this._client.post((0, path_1.path) `/threads/${thread_id}/runs/${runID}`, {\n            body,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Returns a list of runs belonging to a thread.\n     *\n     * @deprecated The Assistants API is deprecated in favor of the Responses API\n     */\n    list(threadID, query = {}, options) {\n        return this._client.getAPIList((0, path_1.path) `/threads/${threadID}/runs`, (pagination_1.CursorPage), {\n            query,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Cancels a run that is `in_progress`.\n     *\n     * @deprecated The Assistants API is deprecated in favor of the Responses API\n     */\n    cancel(runID, params, options) {\n        const { thread_id } = params;\n        return this._client.post((0, path_1.path) `/threads/${thread_id}/runs/${runID}/cancel`, {\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * A helper to create a run an poll for a terminal state. More information on Run\n     * lifecycles can be found here:\n     * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps\n     */\n    async createAndPoll(threadId, body, options) {\n        const run = await this.create(threadId, body, options);\n        return await this.poll(run.id, { thread_id: threadId }, options);\n    }\n    /**\n     * Create a Run stream\n     *\n     * @deprecated use `stream` instead\n     */\n    createAndStream(threadId, body, options) {\n        return AssistantStream_1.AssistantStream.createAssistantStream(threadId, this._client.beta.threads.runs, body, options);\n    }\n    /**\n     * A helper to poll a run status until it reaches a terminal state. More\n     * information on Run lifecycles can be found here:\n     * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps\n     */\n    async poll(runId, params, options) {\n        const headers = (0, headers_1.buildHeaders)([\n            options?.headers,\n            {\n                'X-Stainless-Poll-Helper': 'true',\n                'X-Stainless-Custom-Poll-Interval': options?.pollIntervalMs?.toString() ?? undefined,\n            },\n        ]);\n        while (true) {\n            const { data: run, response } = await this.retrieve(runId, params, {\n                ...options,\n                headers: { ...options?.headers, ...headers },\n            }).withResponse();\n            switch (run.status) {\n                //If we are in any sort of intermediate state we poll\n                case 'queued':\n                case 'in_progress':\n                case 'cancelling':\n                    let sleepInterval = 5000;\n                    if (options?.pollIntervalMs) {\n                        sleepInterval = options.pollIntervalMs;\n                    }\n                    else {\n                        const headerInterval = response.headers.get('openai-poll-after-ms');\n                        if (headerInterval) {\n                            const headerIntervalMs = parseInt(headerInterval);\n                            if (!isNaN(headerIntervalMs)) {\n                                sleepInterval = headerIntervalMs;\n                            }\n                        }\n                    }\n                    await (0, sleep_1.sleep)(sleepInterval);\n                    break;\n                //We return the run in any terminal state.\n                case 'requires_action':\n                case 'incomplete':\n                case 'cancelled':\n                case 'completed':\n                case 'failed':\n                case 'expired':\n                    return run;\n            }\n        }\n    }\n    /**\n     * Create a Run stream\n     */\n    stream(threadId, body, options) {\n        return AssistantStream_1.AssistantStream.createAssistantStream(threadId, this._client.beta.threads.runs, body, options);\n    }\n    submitToolOutputs(runID, params, options) {\n        const { thread_id, ...body } = params;\n        return this._client.post((0, path_1.path) `/threads/${thread_id}/runs/${runID}/submit_tool_outputs`, {\n            body,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n            stream: params.stream ?? false,\n        });\n    }\n    /**\n     * A helper to submit a tool output to a run and poll for a terminal run state.\n     * More information on Run lifecycles can be found here:\n     * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps\n     */\n    async submitToolOutputsAndPoll(runId, params, options) {\n        const run = await this.submitToolOutputs(runId, params, options);\n        return await this.poll(run.id, params, options);\n    }\n    /**\n     * Submit the tool outputs from a previous run and stream the run to a terminal\n     * state. More information on Run lifecycles can be found here:\n     * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps\n     */\n    submitToolOutputsStream(runId, params, options) {\n        return AssistantStream_1.AssistantStream.createToolAssistantStream(runId, this._client.beta.threads.runs, params, options);\n    }\n}\nexports.Runs = Runs;\nRuns.Steps = steps_1.Steps;\n//# sourceMappingURL=runs.js.map","const vscode = require(\"vscode\");\nconst VoiceRecordingService = require(\"../core/voiceRecordingService\");\n\n/**\n * 🦊 Nox Chat Sidebar - WebviewViewProvider for Sidebar Integration\n * Aurora-themed chat interface embedded in VS Code sidebar (like Augment chat)\n */\nclass NoxChatViewProvider {\n  constructor(context, agentController, logger) {\n    this.context = context;\n    this.agentController = agentController;\n    this.logger = logger;\n\n    // Initialize voice recording service\n    this.voiceRecordingService = new VoiceRecordingService(logger, context);\n    this.webviewView = null;\n    this.disposables = [];\n    this.chatHistory = [];\n    this.isAIResponding = false;\n  }\n\n  /**\n   * 🎨 WebviewViewProvider interface - called when view is first shown\n   */\n  resolveWebviewView(webviewView, context, token) {\n    this.webviewView = webviewView;\n\n    // Configure webview\n    webviewView.webview.options = {\n      enableScripts: true,\n      localResourceRoots: [this.context.extensionUri],\n      enableCommandUris: true,\n      retainContextWhenHidden: true,\n      // Enable forms for potential file uploads\n      enableForms: true,\n      // Allow unsafe inline for media handling\n      enableFindWidget: true,\n    };\n\n    // Set initial content\n    webviewView.webview.html = this.getWebviewContent();\n\n    // Setup message handling (must be done before content loads)\n    this.setupMessageHandling();\n\n    // Setup view events\n    this.setupViewEvents();\n\n    this.logger.info(\"🦊 Nox chat sidebar initialized successfully\");\n  }\n\n  /**\n   * 🔧 Setup message handling between webview and extension\n   */\n  setupMessageHandling() {\n    this.logger.info(\"🦊 Setting up message handling...\");\n\n    this.webviewView.webview.onDidReceiveMessage(\n      async (message) => {\n        try {\n          this.logger.info(\"🦊 Received message from webview:\", message);\n\n          switch (message.type) {\n            case \"sendMessage\":\n              await this.handleUserMessage(message.content);\n              break;\n\n            case \"clearHistory\":\n              await this.clearChatHistory();\n              break;\n\n            case \"ready\":\n              await this.handleWebviewReady();\n              break;\n\n            case \"openSettings\":\n              await vscode.commands.executeCommand(\"nox.settings\");\n              break;\n\n            case \"changeProvider\":\n              await this.handleProviderChange(message.provider);\n              break;\n\n            case \"changeModel\":\n              await this.handleModelChange(message.model);\n              break;\n\n            case \"getProviderStatus\":\n              this.logger.info(\"🦊 Handling getProviderStatus request\");\n              await this.sendProviderStatus();\n              break;\n\n            case \"deleteMessage\":\n              // TODO: Implement delete message functionality\n              this.logger.info(\"Delete message requested:\", message.messageId);\n              break;\n\n            case \"regenerateMessage\":\n              // TODO: Implement regenerate message functionality\n              this.logger.info(\n                \"Regenerate message requested:\",\n                message.messageId\n              );\n              break;\n\n            case \"clearChat\":\n              this.clearChatHistory();\n              break;\n\n            case \"openUrl\":\n              if (message.url) {\n                await vscode.env.openExternal(vscode.Uri.parse(message.url));\n              }\n              break;\n\n            case \"providerSectionToggled\":\n              // Update the toggle button icon based on collapsed state\n              await this.updateToggleButtonIcon(message.collapsed);\n              break;\n\n            case \"startVoiceRecording\":\n              // Start simple voice recording via extension backend\n              this.logger.info(\n                \"🎤 Starting voice recording via extension backend\"\n              );\n              await this.startVoiceRecording();\n              break;\n\n            case \"stopVoiceRecording\":\n              // Stop voice recording\n              this.logger.info(\"🎤 Stopping voice recording\");\n              await this.stopVoiceRecording();\n              break;\n\n            default:\n              this.logger.warn(`Unknown message type: ${message.type}`);\n          }\n        } catch (error) {\n          this.logger.error(\"Error handling webview message:\", error);\n          this.sendErrorToWebview(error.message);\n        }\n      },\n      undefined,\n      this.disposables\n    );\n  }\n\n  /**\n   * 🤖 Handle user message and get AI response\n   */\n  async handleUserMessage(userMessage) {\n    if (!userMessage?.trim()) {\n      return;\n    }\n\n    if (this.isAIResponding) {\n      this.sendMessageToWebview({\n        type: \"error\",\n        message: \"Please wait for the current response to complete.\",\n      });\n      return;\n    }\n\n    try {\n      this.isAIResponding = true;\n\n      // Add user message to history\n      const userMessageObj = {\n        id: Date.now().toString(),\n        type: \"user\",\n        content: userMessage,\n        timestamp: new Date().toISOString(),\n      };\n\n      this.chatHistory.push(userMessageObj);\n      this.saveChatHistory();\n\n      // Send user message to webview\n      this.sendMessageToWebview({\n        type: \"userMessage\",\n        message: userMessageObj,\n      });\n\n      // Show AI thinking indicator\n      this.sendMessageToWebview({\n        type: \"aiThinking\",\n        thinking: true,\n      });\n\n      // Get AI response using existing AIClient\n      const aiResponse = await this.agentController.aiClient.sendRequest(\n        userMessage,\n        { maxTokens: 4000 }\n      );\n\n      // Hide thinking indicator\n      this.sendMessageToWebview({\n        type: \"aiThinking\",\n        thinking: false,\n      });\n\n      // Add AI response to history\n      const aiMessageObj = {\n        id: (Date.now() + 1).toString(),\n        type: \"assistant\",\n        content: aiResponse.content,\n        timestamp: new Date().toISOString(),\n        tokens: aiResponse.tokens || 0,\n        cost: aiResponse.cost || 0,\n        provider: aiResponse.provider || \"unknown\",\n        model: aiResponse.model || \"unknown\",\n      };\n\n      this.chatHistory.push(aiMessageObj);\n      this.saveChatHistory();\n\n      // Send AI response to webview\n      this.sendMessageToWebview({\n        type: \"aiMessage\",\n        message: aiMessageObj,\n      });\n\n      this.logger.info(\n        `🦊 Chat exchange completed (${\n          aiResponse.usage?.total_tokens || 0\n        } tokens)`\n      );\n    } catch (error) {\n      this.logger.error(\"Error in chat exchange:\", error);\n      this.sendErrorToWebview(error.message);\n    } finally {\n      this.isAIResponding = false;\n    }\n  }\n\n  /**\n   * 📨 Send message to webview\n   */\n  sendMessageToWebview(message) {\n    if (this.webviewView) {\n      this.webviewView.webview.postMessage(message);\n    }\n  }\n\n  /**\n   * ❌ Send error message to webview\n   */\n  sendErrorToWebview(error) {\n    // Handle both simple strings and enhanced error objects\n    let errorData;\n    if (typeof error === \"string\") {\n      errorData = error;\n    } else if (error.enhancedInfo) {\n      errorData = error;\n    } else {\n      errorData = error.message || error.toString();\n    }\n\n    this.sendMessageToWebview({\n      type: \"error\",\n      message: errorData,\n    });\n\n    // Hide thinking indicator on error\n    this.sendMessageToWebview({\n      type: \"aiThinking\",\n      thinking: false,\n    });\n  }\n\n  /**\n   * 🗑️ Clear chat history\n   */\n  async clearChatHistory() {\n    this.chatHistory = [];\n    await this.saveChatHistory();\n    this.sendMessageToWebview({ type: \"clearMessages\" });\n    this.logger.info(\"🦊 Chat history cleared\");\n  }\n\n  /**\n   * 🔄 Handle provider change\n   */\n  async handleProviderChange(provider) {\n    try {\n      if (!this.agentController?.aiClient) {\n        throw new Error(\"AI Client not available\");\n      }\n\n      // Update current provider\n      await this.agentController.aiClient.setCurrentProvider(provider);\n\n      // Send updated provider info to webview\n      await this.sendProviderStatus();\n\n      this.logger.info(`🦊 Provider changed to: ${provider}`);\n    } catch (error) {\n      this.logger.error(\"Failed to change provider:\", error);\n      this.sendErrorToWebview(`Failed to change provider: ${error.message}`);\n    }\n  }\n\n  /**\n   * 🔄 Handle model change\n   */\n  async handleModelChange(model) {\n    try {\n      if (!this.agentController?.aiClient) {\n        throw new Error(\"AI Client not available\");\n      }\n\n      // Update current model (we'll need to add this method to aiClient)\n      await this.agentController.aiClient.setCurrentModel(model);\n\n      // Send updated provider info to webview\n      await this.sendProviderStatus();\n\n      this.logger.info(`🦊 Model changed to: ${model}`);\n    } catch (error) {\n      this.logger.error(\"Failed to change model:\", error);\n      this.sendErrorToWebview(`Failed to change model: ${error.message}`);\n    }\n  }\n\n  /**\n   * 📊 Send provider status to webview\n   */\n  async sendProviderStatus() {\n    try {\n      if (!this.agentController?.aiClient) {\n        this.logger.warn(\"🦊 No aiClient available for provider status\");\n        return;\n      }\n\n      const currentProviderObj =\n        this.agentController.aiClient.getCurrentProvider();\n\n      if (!currentProviderObj || !currentProviderObj.id) {\n        this.logger.error(\n          \"🦊 Invalid currentProvider object:\",\n          currentProviderObj\n        );\n        return;\n      }\n\n      const currentProvider = currentProviderObj.id; // Extract the ID string\n      const providers = this.agentController.aiClient.getProviders();\n      const currentModel = this.agentController.aiClient.getCurrentModel();\n\n      // Get API key status for each provider\n      const providerStatus = {};\n      for (const [providerId, provider] of Object.entries(providers)) {\n        const hasApiKey = await this.agentController.aiClient.getApiKey(\n          providerId\n        );\n        providerStatus[providerId] = {\n          ...provider,\n          hasApiKey: !!hasApiKey,\n          isActive: providerId === currentProvider,\n        };\n      }\n\n      const messageData = {\n        type: \"providerStatus\",\n        currentProvider,\n        currentModel,\n        providers: providerStatus,\n      };\n\n      this.sendMessageToWebview(messageData);\n    } catch (error) {\n      this.logger.error(\"Failed to send provider status:\", error);\n    }\n  }\n\n  /**\n   * 💾 Save chat history to workspace state\n   */\n  async saveChatHistory() {\n    try {\n      await this.context.workspaceState.update(\n        \"nox.chatHistory\",\n        this.chatHistory\n      );\n    } catch (error) {\n      this.logger.error(\"Failed to save chat history:\", error);\n    }\n  }\n\n  /**\n   * 📖 Load chat history from workspace state\n   */\n  async loadChatHistory() {\n    try {\n      const savedHistory = this.context.workspaceState.get(\n        \"nox.chatHistory\",\n        []\n      );\n      this.chatHistory = Array.isArray(savedHistory) ? savedHistory : [];\n\n      if (this.chatHistory.length > 0) {\n        this.sendMessageToWebview({\n          type: \"loadHistory\",\n          history: this.chatHistory,\n        });\n      }\n    } catch (error) {\n      this.logger.error(\"Failed to load chat history:\", error);\n      this.chatHistory = [];\n    }\n  }\n\n  /**\n   * 🚀 Handle webview ready event\n   */\n  async handleWebviewReady() {\n    // Send current provider status (includes provider, model, and API key status)\n    await this.sendProviderStatus();\n\n    // Load chat history\n    await this.loadChatHistory();\n  }\n\n  /**\n   * 🔧 Setup view-specific events\n   */\n  setupViewEvents() {\n    // Handle view visibility changes\n    this.webviewView.onDidChangeVisibility(() => {\n      if (this.webviewView.visible) {\n        this.logger.info(\"🦊 Nox chat sidebar became visible\");\n      }\n    });\n\n    // Handle view disposal\n    this.webviewView.onDidDispose(() => {\n      this.dispose();\n    });\n  }\n\n  /**\n   * 🧹 Cleanup resources\n   */\n  dispose() {\n    this.disposables.forEach((d) => d.dispose());\n    this.disposables = [];\n    this.webviewView = null;\n    this.logger.info(\"🦊 Nox chat sidebar disposed\");\n  }\n\n  /**\n   * 🎨 Get webview HTML content (using bundled architecture)\n   */\n  getWebviewContent() {\n    const nonce = this.getNonce();\n\n    // Get the bundled webview resources\n    const webviewUri = this.webviewView.webview.asWebviewUri(\n      vscode.Uri.joinPath(\n        this.context.extensionUri,\n        \"out\",\n        \"webview\",\n        \"webview.js\"\n      )\n    );\n\n    const vendorsUri = this.webviewView.webview.asWebviewUri(\n      vscode.Uri.joinPath(\n        this.context.extensionUri,\n        \"out\",\n        \"webview\",\n        \"vendors.js\"\n      )\n    );\n\n    return `<!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'none'; style-src 'unsafe-inline'; script-src 'nonce-${nonce}' ${this.webviewView.webview.cspSource} 'unsafe-eval'; font-src https:; media-src * data: blob:;\">\n        <meta http-equiv=\"Permissions-Policy\" content=\"microphone=*, camera=*, geolocation=*\">\n        <title>🦊 Nox Chat</title>\n        <!-- Styles are now bundled with webpack -->\n    </head>\n    <body>\n        <div class=\"aurora-bg\"></div>\n        <div class=\"chat-container\">\n\n\n\n            <!-- Provider & Model Selection (Collapsible) -->\n            <div class=\"provider-controls\" id=\"providerControls\">\n                <div class=\"provider-selector\">\n                    <label for=\"providerSelect\">🤖 Provider:</label>\n                    <select id=\"providerSelect\" class=\"provider-dropdown\">\n                        <!-- Options will be populated dynamically by bundled JavaScript -->\n                    </select>\n                    <div class=\"provider-status\" id=\"providerStatus\">\n                        <span class=\"status-indicator\" id=\"statusIndicator\">●</span>\n                        <span class=\"status-text\" id=\"statusText\">Loading...</span>\n                    </div>\n                </div>\n\n                <div class=\"model-selector\">\n                    <label for=\"modelSelect\">🧠 Model:</label>\n                    <select id=\"modelSelect\" class=\"model-dropdown\">\n                        <!-- Options will be populated dynamically by bundled JavaScript -->\n                    </select>\n                </div>\n\n                <div class=\"cost-tracker\" id=\"costTracker\">\n                    <div class=\"cost-info\">\n                        <span class=\"cost-label\">Session:</span>\n                        <span class=\"cost-value\" id=\"sessionCost\">$0.00</span>\n                    </div>\n                    <div class=\"token-info\">\n                        <span class=\"token-label\">Tokens:</span>\n                        <span class=\"token-value\" id=\"sessionTokens\">0</span>\n                    </div>\n                </div>\n            </div>\n\n            <!-- Messages Container -->\n            <div class=\"messages-container\" id=\"messagesContainer\">\n                <div class=\"welcome-message\">\n                    <div class=\"fox-welcome\">🦊</div>\n                    <div class=\"welcome-text\">\n                        <h3>Welcome to Nox!</h3>\n                        <p>Your clever AI coding fox is ready to help.</p>\n                        <div class=\"bundled-indicator\">✨ Enterprise Bundle</div>\n                    </div>\n                </div>\n            </div>\n\n            <!-- Input Area -->\n            <div class=\"input-container\">\n                <div class=\"input-wrapper\">\n                    <div class=\"input-field-container\">\n                        <textarea id=\"messageInput\" class=\"message-input\" placeholder=\"Ask Nox anything about your code...\" rows=\"1\"></textarea>\n                        <button id=\"micBtn\" class=\"mic-button-inline\" title=\"Voice input (click to start/stop recording)\">\n                            <svg class=\"mic-icon\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                                <path d=\"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z\"></path>\n                                <path d=\"M19 10v2a7 7 0 0 1-14 0v-2\"></path>\n                                <line x1=\"12\" y1=\"19\" x2=\"12\" y2=\"23\"></line>\n                                <line x1=\"8\" y1=\"23\" x2=\"16\" y2=\"23\"></line>\n                            </svg>\n                        </button>\n                    </div>\n                    <button id=\"sendBtn\" class=\"send-button\" title=\"Send message\">\n                        <span class=\"send-icon\">🚀</span>\n                    </button>\n                </div>\n                <!-- Voice Error Display -->\n                <div id=\"voiceError\" class=\"voice-error-message\" style=\"display: none;\">\n                    <div class=\"error-content\">\n                        <svg class=\"error-icon\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n                            <line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"></line>\n                            <line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"></line>\n                        </svg>\n                        <span class=\"error-text\"></span>\n                        <button class=\"error-action\" style=\"display: none;\">Enable Microphone</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Load bundled JavaScript -->\n        <script nonce=\"${nonce}\" src=\"${vendorsUri}\"></script>\n        <script nonce=\"${nonce}\" src=\"${webviewUri}\"></script>\n    </body>\n    </html>`;\n  }\n\n  /**\n   * 🗑️ Clear chat history\n   */\n  clearChatHistory() {\n    try {\n      this.chatHistory = [];\n      this.saveChatHistory()\n        .then(() => {\n          // Notify webview that chat was cleared\n          this.sendMessageToWebview({\n            type: \"clearMessages\",\n          });\n          this.logger.info(\"🗑️ Chat history cleared\");\n        })\n        .catch((error) => {\n          this.logger.error(\"Failed to clear chat history:\", error);\n          this.sendErrorToWebview(\n            \"Failed to clear chat history: \" + error.message\n          );\n        });\n    } catch (error) {\n      this.logger.error(\"Failed to clear chat history:\", error);\n      this.sendErrorToWebview(\"Failed to clear chat history: \" + error.message);\n    }\n  }\n\n  /**\n   * 🎨 Generate a nonce for CSP\n   */\n  getNonce() {\n    let text = \"\";\n    const possible =\n      \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    for (let i = 0; i < 32; i++) {\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n    return text;\n  }\n\n  /**\n   * 🎨 CSS is now bundled with webpack - this method is deprecated\n   */\n  getWebviewCSS() {\n    // All CSS is now handled by bundled stylesheets\n    return \"\";\n  }\n\n  /**\n   * JavaScript functionality is now handled by bundled webview\n   */\n  getWebviewJS() {\n    return \"\";\n  }\n\n  /**\n   * 🔄 Update toggle button icon based on collapsed state\n   */\n  async updateToggleButtonIcon(collapsed) {\n    try {\n      // Update the command icon in package.json dynamically\n      const newIcon = collapsed ? \"$(chevron-right)\" : \"$(chevron-down)\";\n\n      // We can't dynamically update package.json commands, but we can log the state\n      this.logger.info(\n        `🦊 Provider section ${\n          collapsed ? \"collapsed\" : \"expanded\"\n        } - icon should be ${newIcon}`\n      );\n\n      // Note: VS Code doesn't support dynamic command icon updates\n      // The icon animation would need to be handled in CSS within the webview\n    } catch (error) {\n      this.logger.error(\"Error updating toggle button icon:\", error);\n    }\n  }\n\n  /**\n   * 🎤 Start voice recording via extension backend\n   */\n  async startVoiceRecording() {\n    try {\n      this.logger.info(\"🎤 Starting voice recording...\");\n\n      // Check voice settings first\n      const status = this.voiceRecordingService.getRecordingStatus();\n\n      if (!status.voiceEnabled) {\n        // Voice is disabled in settings\n        this.webviewView.webview.postMessage({\n          type: \"showVoiceError\",\n          message: \"Voice input is disabled. Enable it in Nox Settings.\",\n          showSettingsButton: true,\n        });\n        return;\n      }\n\n      // Show recording modal in webview\n      this.webviewView.webview.postMessage({\n        type: \"showVoiceModal\",\n        recording: true,\n      });\n\n      // Start actual voice recording\n      const result = await this.voiceRecordingService.startRecording();\n\n      if (!result.success) {\n        throw new Error(result.error);\n      }\n\n      this.logger.info(\"🎤 Voice recording started successfully\");\n    } catch (error) {\n      this.logger.error(\"🎤 Voice recording failed:\", error);\n\n      // Show error and hide modal\n      this.webviewView.webview.postMessage({\n        type: \"hideVoiceModal\",\n      });\n\n      // Show error message\n      vscode.window.showErrorMessage(\n        `🎤 Voice recording failed: ${error.message}`\n      );\n    }\n  }\n\n  /**\n   * 🎤 Stop voice recording\n   */\n  async stopVoiceRecording() {\n    try {\n      this.logger.info(\"🎤 Stopping voice recording...\");\n\n      // Stop recording and get transcription\n      const result = await this.voiceRecordingService.stopRecording();\n\n      // Hide recording modal\n      this.webviewView.webview.postMessage({\n        type: \"hideVoiceModal\",\n      });\n\n      if (result.success && result.text) {\n        // Insert transcribed text into input field\n        this.webviewView.webview.postMessage({\n          type: \"insertVoiceText\",\n          text: result.text,\n        });\n\n        this.logger.info(`🎤 Voice transcription completed: \"${result.text}\"`);\n      } else {\n        throw new Error(result.error || \"Transcription failed\");\n      }\n    } catch (error) {\n      this.logger.error(\"🎤 Stop recording failed:\", error);\n\n      // Hide modal\n      this.webviewView.webview.postMessage({\n        type: \"hideVoiceModal\",\n      });\n\n      // Show error message\n      vscode.window.showErrorMessage(\n        `🎤 Voice transcription failed: ${error.message}`\n      );\n    }\n  }\n}\n\nmodule.exports = NoxChatViewProvider;\n","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nexports = module.exports = function (...args) {\n  return new exports.default(...args)\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AzureOpenAI = exports.InvalidWebhookSignatureError = exports.UnprocessableEntityError = exports.PermissionDeniedError = exports.InternalServerError = exports.AuthenticationError = exports.BadRequestError = exports.RateLimitError = exports.ConflictError = exports.NotFoundError = exports.APIUserAbortError = exports.APIConnectionTimeoutError = exports.APIConnectionError = exports.APIError = exports.OpenAIError = exports.PagePromise = exports.OpenAI = exports.APIPromise = exports.toFile = exports.default = void 0;\nvar client_1 = require(\"./client.js\");\nObject.defineProperty(exports, \"default\", { enumerable: true, get: function () { return client_1.OpenAI; } });\nvar uploads_1 = require(\"./core/uploads.js\");\nObject.defineProperty(exports, \"toFile\", { enumerable: true, get: function () { return uploads_1.toFile; } });\nvar api_promise_1 = require(\"./core/api-promise.js\");\nObject.defineProperty(exports, \"APIPromise\", { enumerable: true, get: function () { return api_promise_1.APIPromise; } });\nvar client_2 = require(\"./client.js\");\nObject.defineProperty(exports, \"OpenAI\", { enumerable: true, get: function () { return client_2.OpenAI; } });\nvar pagination_1 = require(\"./core/pagination.js\");\nObject.defineProperty(exports, \"PagePromise\", { enumerable: true, get: function () { return pagination_1.PagePromise; } });\nvar error_1 = require(\"./core/error.js\");\nObject.defineProperty(exports, \"OpenAIError\", { enumerable: true, get: function () { return error_1.OpenAIError; } });\nObject.defineProperty(exports, \"APIError\", { enumerable: true, get: function () { return error_1.APIError; } });\nObject.defineProperty(exports, \"APIConnectionError\", { enumerable: true, get: function () { return error_1.APIConnectionError; } });\nObject.defineProperty(exports, \"APIConnectionTimeoutError\", { enumerable: true, get: function () { return error_1.APIConnectionTimeoutError; } });\nObject.defineProperty(exports, \"APIUserAbortError\", { enumerable: true, get: function () { return error_1.APIUserAbortError; } });\nObject.defineProperty(exports, \"NotFoundError\", { enumerable: true, get: function () { return error_1.NotFoundError; } });\nObject.defineProperty(exports, \"ConflictError\", { enumerable: true, get: function () { return error_1.ConflictError; } });\nObject.defineProperty(exports, \"RateLimitError\", { enumerable: true, get: function () { return error_1.RateLimitError; } });\nObject.defineProperty(exports, \"BadRequestError\", { enumerable: true, get: function () { return error_1.BadRequestError; } });\nObject.defineProperty(exports, \"AuthenticationError\", { enumerable: true, get: function () { return error_1.AuthenticationError; } });\nObject.defineProperty(exports, \"InternalServerError\", { enumerable: true, get: function () { return error_1.InternalServerError; } });\nObject.defineProperty(exports, \"PermissionDeniedError\", { enumerable: true, get: function () { return error_1.PermissionDeniedError; } });\nObject.defineProperty(exports, \"UnprocessableEntityError\", { enumerable: true, get: function () { return error_1.UnprocessableEntityError; } });\nObject.defineProperty(exports, \"InvalidWebhookSignatureError\", { enumerable: true, get: function () { return error_1.InvalidWebhookSignatureError; } });\nvar azure_1 = require(\"./azure.js\");\nObject.defineProperty(exports, \"AzureOpenAI\", { enumerable: true, get: function () { return azure_1.AzureOpenAI; } });\n//# sourceMappingURL=index.js.map","module.exports = require(\"tty\");","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.APIResource = void 0;\nclass APIResource {\n    constructor(client) {\n        this._client = client;\n    }\n}\nexports.APIResource = APIResource;\n//# sourceMappingURL=resource.js.map","var serialOrdered = require('./serialOrdered.js');\n\n// Public API\nmodule.exports = serial;\n\n/**\n * Runs iterator over provided array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serial(list, iterator, callback)\n{\n  return serialOrdered(list, iterator, null, callback);\n}\n","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Containers = void 0;\nconst tslib_1 = require(\"../../internal/tslib.js\");\nconst resource_1 = require(\"../../core/resource.js\");\nconst FilesAPI = tslib_1.__importStar(require(\"./files/files.js\"));\nconst files_1 = require(\"./files/files.js\");\nconst pagination_1 = require(\"../../core/pagination.js\");\nconst headers_1 = require(\"../../internal/headers.js\");\nconst path_1 = require(\"../../internal/utils/path.js\");\nclass Containers extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.files = new FilesAPI.Files(this._client);\n    }\n    /**\n     * Create Container\n     */\n    create(body, options) {\n        return this._client.post('/containers', { body, ...options });\n    }\n    /**\n     * Retrieve Container\n     */\n    retrieve(containerID, options) {\n        return this._client.get((0, path_1.path) `/containers/${containerID}`, options);\n    }\n    /**\n     * List Containers\n     */\n    list(query = {}, options) {\n        return this._client.getAPIList('/containers', (pagination_1.CursorPage), { query, ...options });\n    }\n    /**\n     * Delete Container\n     */\n    delete(containerID, options) {\n        return this._client.delete((0, path_1.path) `/containers/${containerID}`, {\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ Accept: '*/*' }, options?.headers]),\n        });\n    }\n}\nexports.Containers = Containers;\nContainers.Files = files_1.Files;\n//# sourceMappingURL=containers.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getPlatformHeaders = exports.isRunningInBrowser = void 0;\nconst version_1 = require(\"../version.js\");\nconst isRunningInBrowser = () => {\n    return (\n    // @ts-ignore\n    typeof window !== 'undefined' &&\n        // @ts-ignore\n        typeof window.document !== 'undefined' &&\n        // @ts-ignore\n        typeof navigator !== 'undefined');\n};\nexports.isRunningInBrowser = isRunningInBrowser;\n/**\n * Note this does not detect 'browser'; for that, use getBrowserInfo().\n */\nfunction getDetectedPlatform() {\n    if (typeof Deno !== 'undefined' && Deno.build != null) {\n        return 'deno';\n    }\n    if (typeof EdgeRuntime !== 'undefined') {\n        return 'edge';\n    }\n    if (Object.prototype.toString.call(typeof globalThis.process !== 'undefined' ? globalThis.process : 0) === '[object process]') {\n        return 'node';\n    }\n    return 'unknown';\n}\nconst getPlatformProperties = () => {\n    const detectedPlatform = getDetectedPlatform();\n    if (detectedPlatform === 'deno') {\n        return {\n            'X-Stainless-Lang': 'js',\n            'X-Stainless-Package-Version': version_1.VERSION,\n            'X-Stainless-OS': normalizePlatform(Deno.build.os),\n            'X-Stainless-Arch': normalizeArch(Deno.build.arch),\n            'X-Stainless-Runtime': 'deno',\n            'X-Stainless-Runtime-Version': typeof Deno.version === 'string' ? Deno.version : Deno.version?.deno ?? 'unknown',\n        };\n    }\n    if (typeof EdgeRuntime !== 'undefined') {\n        return {\n            'X-Stainless-Lang': 'js',\n            'X-Stainless-Package-Version': version_1.VERSION,\n            'X-Stainless-OS': 'Unknown',\n            'X-Stainless-Arch': `other:${EdgeRuntime}`,\n            'X-Stainless-Runtime': 'edge',\n            'X-Stainless-Runtime-Version': globalThis.process.version,\n        };\n    }\n    // Check if Node.js\n    if (detectedPlatform === 'node') {\n        return {\n            'X-Stainless-Lang': 'js',\n            'X-Stainless-Package-Version': version_1.VERSION,\n            'X-Stainless-OS': normalizePlatform(globalThis.process.platform ?? 'unknown'),\n            'X-Stainless-Arch': normalizeArch(globalThis.process.arch ?? 'unknown'),\n            'X-Stainless-Runtime': 'node',\n            'X-Stainless-Runtime-Version': globalThis.process.version ?? 'unknown',\n        };\n    }\n    const browserInfo = getBrowserInfo();\n    if (browserInfo) {\n        return {\n            'X-Stainless-Lang': 'js',\n            'X-Stainless-Package-Version': version_1.VERSION,\n            'X-Stainless-OS': 'Unknown',\n            'X-Stainless-Arch': 'unknown',\n            'X-Stainless-Runtime': `browser:${browserInfo.browser}`,\n            'X-Stainless-Runtime-Version': browserInfo.version,\n        };\n    }\n    // TODO add support for Cloudflare workers, etc.\n    return {\n        'X-Stainless-Lang': 'js',\n        'X-Stainless-Package-Version': version_1.VERSION,\n        'X-Stainless-OS': 'Unknown',\n        'X-Stainless-Arch': 'unknown',\n        'X-Stainless-Runtime': 'unknown',\n        'X-Stainless-Runtime-Version': 'unknown',\n    };\n};\n// Note: modified from https://github.com/JS-DevTools/host-environment/blob/b1ab79ecde37db5d6e163c050e54fe7d287d7c92/src/isomorphic.browser.ts\nfunction getBrowserInfo() {\n    if (typeof navigator === 'undefined' || !navigator) {\n        return null;\n    }\n    // NOTE: The order matters here!\n    const browserPatterns = [\n        { key: 'edge', pattern: /Edge(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n        { key: 'ie', pattern: /MSIE(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n        { key: 'ie', pattern: /Trident(?:.*rv\\:(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n        { key: 'chrome', pattern: /Chrome(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n        { key: 'firefox', pattern: /Firefox(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n        { key: 'safari', pattern: /(?:Version\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?(?:\\W+Mobile\\S*)?\\W+Safari/ },\n    ];\n    // Find the FIRST matching browser\n    for (const { key, pattern } of browserPatterns) {\n        const match = pattern.exec(navigator.userAgent);\n        if (match) {\n            const major = match[1] || 0;\n            const minor = match[2] || 0;\n            const patch = match[3] || 0;\n            return { browser: key, version: `${major}.${minor}.${patch}` };\n        }\n    }\n    return null;\n}\nconst normalizeArch = (arch) => {\n    // Node docs:\n    // - https://nodejs.org/api/process.html#processarch\n    // Deno docs:\n    // - https://doc.deno.land/deno/stable/~/Deno.build\n    if (arch === 'x32')\n        return 'x32';\n    if (arch === 'x86_64' || arch === 'x64')\n        return 'x64';\n    if (arch === 'arm')\n        return 'arm';\n    if (arch === 'aarch64' || arch === 'arm64')\n        return 'arm64';\n    if (arch)\n        return `other:${arch}`;\n    return 'unknown';\n};\nconst normalizePlatform = (platform) => {\n    // Node platforms:\n    // - https://nodejs.org/api/process.html#processplatform\n    // Deno platforms:\n    // - https://doc.deno.land/deno/stable/~/Deno.build\n    // - https://github.com/denoland/deno/issues/14799\n    platform = platform.toLowerCase();\n    // NOTE: this iOS check is untested and may not work\n    // Node does not work natively on IOS, there is a fork at\n    // https://github.com/nodejs-mobile/nodejs-mobile\n    // however it is unknown at the time of writing how to detect if it is running\n    if (platform.includes('ios'))\n        return 'iOS';\n    if (platform === 'android')\n        return 'Android';\n    if (platform === 'darwin')\n        return 'MacOS';\n    if (platform === 'win32')\n        return 'Windows';\n    if (platform === 'freebsd')\n        return 'FreeBSD';\n    if (platform === 'openbsd')\n        return 'OpenBSD';\n    if (platform === 'linux')\n        return 'Linux';\n    if (platform)\n        return `Other:${platform}`;\n    return 'Unknown';\n};\nlet _platformHeaders;\nconst getPlatformHeaders = () => {\n    return (_platformHeaders ?? (_platformHeaders = getPlatformProperties()));\n};\nexports.getPlatformHeaders = getPlatformHeaders;\n//# sourceMappingURL=detect-platform.js.map","module.exports = require(\"stream\");","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Methods = void 0;\nconst resource_1 = require(\"../../core/resource.js\");\nclass Methods extends resource_1.APIResource {\n}\nexports.Methods = Methods;\n//# sourceMappingURL=methods.js.map","const vscode = require('vscode');\n\n/**\n * Explain Command Handler - explains selected code\n */\nclass ExplainCommand {\n    constructor(agentController, logger) {\n        this.agentController = agentController;\n        this.logger = logger;\n    }\n\n    /**\n     * Execute the explain command\n     */\n    async execute() {\n        try {\n            const editor = vscode.window.activeTextEditor;\n            if (!editor) {\n                await vscode.window.showWarningMessage('No active editor found');\n                return;\n            }\n\n            const selection = editor.selection;\n            const selectedText = editor.document.getText(selection);\n\n            if (!selectedText.trim()) {\n                await vscode.window.showWarningMessage('Please select some code to explain');\n                return;\n            }\n\n            this.logger.info('Explain command executed', {\n                fileName: editor.document.fileName,\n                selectionLength: selectedText.length\n            });\n\n            // Execute task through agent controller\n            const result = await this.agentController.executeTask('explain', {\n                code: selectedText,\n                fileName: editor.document.fileName,\n                language: editor.document.languageId,\n                timestamp: Date.now()\n            });\n\n            // Show result\n            await vscode.window.showInformationMessage(\n                `Code Explanation: ${result.message}`,\n                'OK'\n            );\n\n            this.logger.info('Explain interaction completed');\n\n        } catch (error) {\n            this.logger.error('Explain command failed:', error);\n            await vscode.window.showErrorMessage(`Explain failed: ${error.message}`);\n        }\n    }\n}\n\nmodule.exports = ExplainCommand;\n","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Graders = void 0;\nconst resource_1 = require(\"../../../core/resource.js\");\nclass Graders extends resource_1.APIResource {\n    /**\n     * Run a grader.\n     *\n     * @example\n     * ```ts\n     * const response = await client.fineTuning.alpha.graders.run({\n     *   grader: {\n     *     input: 'input',\n     *     name: 'name',\n     *     operation: 'eq',\n     *     reference: 'reference',\n     *     type: 'string_check',\n     *   },\n     *   model_sample: 'model_sample',\n     * });\n     * ```\n     */\n    run(body, options) {\n        return this._client.post('/fine_tuning/alpha/graders/run', { body, ...options });\n    }\n    /**\n     * Validate a grader.\n     *\n     * @example\n     * ```ts\n     * const response =\n     *   await client.fineTuning.alpha.graders.validate({\n     *     grader: {\n     *       input: 'input',\n     *       name: 'name',\n     *       operation: 'eq',\n     *       reference: 'reference',\n     *       type: 'string_check',\n     *     },\n     *   });\n     * ```\n     */\n    validate(body, options) {\n        return this._client.post('/fine_tuning/alpha/graders/validate', { body, ...options });\n    }\n}\nexports.Graders = Graders;\n//# sourceMappingURL=graders.js.map","var defer = require('./defer.js');\n\n// API\nmodule.exports = async;\n\n/**\n * Runs provided callback asynchronously\n * even if callback itself is not\n *\n * @param   {function} callback - callback to invoke\n * @returns {function} - augmented callback\n */\nfunction async(callback)\n{\n  var isAsync = false;\n\n  // check if async happened\n  defer(function() { isAsync = true; });\n\n  return function async_callback(err, result)\n  {\n    if (isAsync)\n    {\n      callback(err, result);\n    }\n    else\n    {\n      defer(function nextTick_callback()\n      {\n        callback(err, result);\n      });\n    }\n  };\n}\n","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Batches = void 0;\nconst resource_1 = require(\"../core/resource.js\");\nconst pagination_1 = require(\"../core/pagination.js\");\nconst path_1 = require(\"../internal/utils/path.js\");\nclass Batches extends resource_1.APIResource {\n    /**\n     * Creates and executes a batch from an uploaded file of requests\n     */\n    create(body, options) {\n        return this._client.post('/batches', { body, ...options });\n    }\n    /**\n     * Retrieves a batch.\n     */\n    retrieve(batchID, options) {\n        return this._client.get((0, path_1.path) `/batches/${batchID}`, options);\n    }\n    /**\n     * List your organization's batches.\n     */\n    list(query = {}, options) {\n        return this._client.getAPIList('/batches', (pagination_1.CursorPage), { query, ...options });\n    }\n    /**\n     * Cancels an in-progress batch. The batch will be in status `cancelling` for up to\n     * 10 minutes, before changing to `cancelled`, where it will have partial results\n     * (if any) available in the output file.\n     */\n    cancel(batchID, options) {\n        return this._client.post((0, path_1.path) `/batches/${batchID}/cancel`, options);\n    }\n}\nexports.Batches = Batches;\n//# sourceMappingURL=batches.js.map","module.exports = require(\"assert\");","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Threads = void 0;\nconst tslib_1 = require(\"../../../internal/tslib.js\");\nconst resource_1 = require(\"../../../core/resource.js\");\nconst MessagesAPI = tslib_1.__importStar(require(\"./messages.js\"));\nconst messages_1 = require(\"./messages.js\");\nconst RunsAPI = tslib_1.__importStar(require(\"./runs/runs.js\"));\nconst runs_1 = require(\"./runs/runs.js\");\nconst headers_1 = require(\"../../../internal/headers.js\");\nconst AssistantStream_1 = require(\"../../../lib/AssistantStream.js\");\nconst path_1 = require(\"../../../internal/utils/path.js\");\n/**\n * @deprecated The Assistants API is deprecated in favor of the Responses API\n */\nclass Threads extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.runs = new RunsAPI.Runs(this._client);\n        this.messages = new MessagesAPI.Messages(this._client);\n    }\n    /**\n     * Create a thread.\n     *\n     * @deprecated The Assistants API is deprecated in favor of the Responses API\n     */\n    create(body = {}, options) {\n        return this._client.post('/threads', {\n            body,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Retrieves a thread.\n     *\n     * @deprecated The Assistants API is deprecated in favor of the Responses API\n     */\n    retrieve(threadID, options) {\n        return this._client.get((0, path_1.path) `/threads/${threadID}`, {\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Modifies a thread.\n     *\n     * @deprecated The Assistants API is deprecated in favor of the Responses API\n     */\n    update(threadID, body, options) {\n        return this._client.post((0, path_1.path) `/threads/${threadID}`, {\n            body,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Delete a thread.\n     *\n     * @deprecated The Assistants API is deprecated in favor of the Responses API\n     */\n    delete(threadID, options) {\n        return this._client.delete((0, path_1.path) `/threads/${threadID}`, {\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    createAndRun(body, options) {\n        return this._client.post('/threads/runs', {\n            body,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n            stream: body.stream ?? false,\n        });\n    }\n    /**\n     * A helper to create a thread, start a run and then poll for a terminal state.\n     * More information on Run lifecycles can be found here:\n     * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps\n     */\n    async createAndRunPoll(body, options) {\n        const run = await this.createAndRun(body, options);\n        return await this.runs.poll(run.id, { thread_id: run.thread_id }, options);\n    }\n    /**\n     * Create a thread and stream the run back\n     */\n    createAndRunStream(body, options) {\n        return AssistantStream_1.AssistantStream.createThreadAssistantStream(body, this._client.beta.threads, options);\n    }\n}\nexports.Threads = Threads;\nThreads.Runs = runs_1.Runs;\nThreads.Messages = messages_1.Messages;\n//# sourceMappingURL=threads.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TranscriptionSessions = void 0;\nconst resource_1 = require(\"../../../core/resource.js\");\nconst headers_1 = require(\"../../../internal/headers.js\");\nclass TranscriptionSessions extends resource_1.APIResource {\n    /**\n     * Create an ephemeral API token for use in client-side applications with the\n     * Realtime API specifically for realtime transcriptions. Can be configured with\n     * the same session parameters as the `transcription_session.update` client event.\n     *\n     * It responds with a session object, plus a `client_secret` key which contains a\n     * usable ephemeral API token that can be used to authenticate browser clients for\n     * the Realtime API.\n     *\n     * @example\n     * ```ts\n     * const transcriptionSession =\n     *   await client.beta.realtime.transcriptionSessions.create();\n     * ```\n     */\n    create(body, options) {\n        return this._client.post('/realtime/transcription_sessions', {\n            body,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n}\nexports.TranscriptionSessions = TranscriptionSessions;\n//# sourceMappingURL=transcription-sessions.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Messages = exports.Completions = void 0;\nconst tslib_1 = require(\"../../../internal/tslib.js\");\nvar completions_1 = require(\"./completions.js\");\nObject.defineProperty(exports, \"Completions\", { enumerable: true, get: function () { return completions_1.Completions; } });\ntslib_1.__exportStar(require(\"./completions.js\"), exports);\nvar messages_1 = require(\"./messages.js\");\nObject.defineProperty(exports, \"Messages\", { enumerable: true, get: function () { return messages_1.Messages; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Calls = void 0;\nconst resource_1 = require(\"../../core/resource.js\");\nconst headers_1 = require(\"../../internal/headers.js\");\nconst path_1 = require(\"../../internal/utils/path.js\");\nclass Calls extends resource_1.APIResource {\n    /**\n     * Accept an incoming SIP call and configure the realtime session that will handle\n     * it.\n     *\n     * @example\n     * ```ts\n     * await client.realtime.calls.accept('call_id', {\n     *   type: 'realtime',\n     * });\n     * ```\n     */\n    accept(callID, body, options) {\n        return this._client.post((0, path_1.path) `/realtime/calls/${callID}/accept`, {\n            body,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ Accept: '*/*' }, options?.headers]),\n        });\n    }\n    /**\n     * End an active Realtime API call, whether it was initiated over SIP or WebRTC.\n     *\n     * @example\n     * ```ts\n     * await client.realtime.calls.hangup('call_id');\n     * ```\n     */\n    hangup(callID, options) {\n        return this._client.post((0, path_1.path) `/realtime/calls/${callID}/hangup`, {\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ Accept: '*/*' }, options?.headers]),\n        });\n    }\n    /**\n     * Transfer an active SIP call to a new destination using the SIP REFER verb.\n     *\n     * @example\n     * ```ts\n     * await client.realtime.calls.refer('call_id', {\n     *   target_uri: 'tel:+14155550123',\n     * });\n     * ```\n     */\n    refer(callID, body, options) {\n        return this._client.post((0, path_1.path) `/realtime/calls/${callID}/refer`, {\n            body,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ Accept: '*/*' }, options?.headers]),\n        });\n    }\n    /**\n     * Decline an incoming SIP call by returning a SIP status code to the caller.\n     *\n     * @example\n     * ```ts\n     * await client.realtime.calls.reject('call_id');\n     * ```\n     */\n    reject(callID, body = {}, options) {\n        return this._client.post((0, path_1.path) `/realtime/calls/${callID}/reject`, {\n            body,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ Accept: '*/*' }, options?.headers]),\n        });\n    }\n}\nexports.Calls = Calls;\n//# sourceMappingURL=calls.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Assistants = void 0;\nconst resource_1 = require(\"../../core/resource.js\");\nconst pagination_1 = require(\"../../core/pagination.js\");\nconst headers_1 = require(\"../../internal/headers.js\");\nconst path_1 = require(\"../../internal/utils/path.js\");\nclass Assistants extends resource_1.APIResource {\n    /**\n     * Create an assistant with a model and instructions.\n     *\n     * @example\n     * ```ts\n     * const assistant = await client.beta.assistants.create({\n     *   model: 'gpt-4o',\n     * });\n     * ```\n     */\n    create(body, options) {\n        return this._client.post('/assistants', {\n            body,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Retrieves an assistant.\n     *\n     * @example\n     * ```ts\n     * const assistant = await client.beta.assistants.retrieve(\n     *   'assistant_id',\n     * );\n     * ```\n     */\n    retrieve(assistantID, options) {\n        return this._client.get((0, path_1.path) `/assistants/${assistantID}`, {\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Modifies an assistant.\n     *\n     * @example\n     * ```ts\n     * const assistant = await client.beta.assistants.update(\n     *   'assistant_id',\n     * );\n     * ```\n     */\n    update(assistantID, body, options) {\n        return this._client.post((0, path_1.path) `/assistants/${assistantID}`, {\n            body,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Returns a list of assistants.\n     *\n     * @example\n     * ```ts\n     * // Automatically fetches more pages as needed.\n     * for await (const assistant of client.beta.assistants.list()) {\n     *   // ...\n     * }\n     * ```\n     */\n    list(query = {}, options) {\n        return this._client.getAPIList('/assistants', (pagination_1.CursorPage), {\n            query,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Delete an assistant.\n     *\n     * @example\n     * ```ts\n     * const assistantDeleted =\n     *   await client.beta.assistants.delete('assistant_id');\n     * ```\n     */\n    delete(assistantID, options) {\n        return this._client.delete((0, path_1.path) `/assistants/${assistantID}`, {\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n}\nexports.Assistants = Assistants;\n//# sourceMappingURL=assistants.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Uploads = void 0;\nconst tslib_1 = require(\"../../internal/tslib.js\");\nconst resource_1 = require(\"../../core/resource.js\");\nconst PartsAPI = tslib_1.__importStar(require(\"./parts.js\"));\nconst parts_1 = require(\"./parts.js\");\nconst path_1 = require(\"../../internal/utils/path.js\");\nclass Uploads extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.parts = new PartsAPI.Parts(this._client);\n    }\n    /**\n     * Creates an intermediate\n     * [Upload](https://platform.openai.com/docs/api-reference/uploads/object) object\n     * that you can add\n     * [Parts](https://platform.openai.com/docs/api-reference/uploads/part-object) to.\n     * Currently, an Upload can accept at most 8 GB in total and expires after an hour\n     * after you create it.\n     *\n     * Once you complete the Upload, we will create a\n     * [File](https://platform.openai.com/docs/api-reference/files/object) object that\n     * contains all the parts you uploaded. This File is usable in the rest of our\n     * platform as a regular File object.\n     *\n     * For certain `purpose` values, the correct `mime_type` must be specified. Please\n     * refer to documentation for the\n     * [supported MIME types for your use case](https://platform.openai.com/docs/assistants/tools/file-search#supported-files).\n     *\n     * For guidance on the proper filename extensions for each purpose, please follow\n     * the documentation on\n     * [creating a File](https://platform.openai.com/docs/api-reference/files/create).\n     */\n    create(body, options) {\n        return this._client.post('/uploads', { body, ...options });\n    }\n    /**\n     * Cancels the Upload. No Parts may be added after an Upload is cancelled.\n     */\n    cancel(uploadID, options) {\n        return this._client.post((0, path_1.path) `/uploads/${uploadID}/cancel`, options);\n    }\n    /**\n     * Completes the\n     * [Upload](https://platform.openai.com/docs/api-reference/uploads/object).\n     *\n     * Within the returned Upload object, there is a nested\n     * [File](https://platform.openai.com/docs/api-reference/files/object) object that\n     * is ready to use in the rest of the platform.\n     *\n     * You can specify the order of the Parts by passing in an ordered list of the Part\n     * IDs.\n     *\n     * The number of bytes uploaded upon completion must match the number of bytes\n     * initially specified when creating the Upload object. No Parts may be added after\n     * an Upload is completed.\n     */\n    complete(uploadID, body, options) {\n        return this._client.post((0, path_1.path) `/uploads/${uploadID}/complete`, { body, ...options });\n    }\n}\nexports.Uploads = Uploads;\nUploads.Parts = parts_1.Parts;\n//# sourceMappingURL=uploads.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChatCompletionRunner = exports.ChatCompletionStream = exports.ParsingToolFunction = exports.ChatCompletionStreamingRunner = exports.Completions = void 0;\nconst tslib_1 = require(\"../../../internal/tslib.js\");\nconst resource_1 = require(\"../../../core/resource.js\");\nconst MessagesAPI = tslib_1.__importStar(require(\"./messages.js\"));\nconst messages_1 = require(\"./messages.js\");\nconst pagination_1 = require(\"../../../core/pagination.js\");\nconst path_1 = require(\"../../../internal/utils/path.js\");\nconst ChatCompletionRunner_1 = require(\"../../../lib/ChatCompletionRunner.js\");\nconst ChatCompletionStreamingRunner_1 = require(\"../../../lib/ChatCompletionStreamingRunner.js\");\nconst ChatCompletionStream_1 = require(\"../../../lib/ChatCompletionStream.js\");\nconst parser_1 = require(\"../../../lib/parser.js\");\nclass Completions extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.messages = new MessagesAPI.Messages(this._client);\n    }\n    create(body, options) {\n        return this._client.post('/chat/completions', { body, ...options, stream: body.stream ?? false });\n    }\n    /**\n     * Get a stored chat completion. Only Chat Completions that have been created with\n     * the `store` parameter set to `true` will be returned.\n     *\n     * @example\n     * ```ts\n     * const chatCompletion =\n     *   await client.chat.completions.retrieve('completion_id');\n     * ```\n     */\n    retrieve(completionID, options) {\n        return this._client.get((0, path_1.path) `/chat/completions/${completionID}`, options);\n    }\n    /**\n     * Modify a stored chat completion. Only Chat Completions that have been created\n     * with the `store` parameter set to `true` can be modified. Currently, the only\n     * supported modification is to update the `metadata` field.\n     *\n     * @example\n     * ```ts\n     * const chatCompletion = await client.chat.completions.update(\n     *   'completion_id',\n     *   { metadata: { foo: 'string' } },\n     * );\n     * ```\n     */\n    update(completionID, body, options) {\n        return this._client.post((0, path_1.path) `/chat/completions/${completionID}`, { body, ...options });\n    }\n    /**\n     * List stored Chat Completions. Only Chat Completions that have been stored with\n     * the `store` parameter set to `true` will be returned.\n     *\n     * @example\n     * ```ts\n     * // Automatically fetches more pages as needed.\n     * for await (const chatCompletion of client.chat.completions.list()) {\n     *   // ...\n     * }\n     * ```\n     */\n    list(query = {}, options) {\n        return this._client.getAPIList('/chat/completions', (pagination_1.CursorPage), { query, ...options });\n    }\n    /**\n     * Delete a stored chat completion. Only Chat Completions that have been created\n     * with the `store` parameter set to `true` can be deleted.\n     *\n     * @example\n     * ```ts\n     * const chatCompletionDeleted =\n     *   await client.chat.completions.delete('completion_id');\n     * ```\n     */\n    delete(completionID, options) {\n        return this._client.delete((0, path_1.path) `/chat/completions/${completionID}`, options);\n    }\n    parse(body, options) {\n        (0, parser_1.validateInputTools)(body.tools);\n        return this._client.chat.completions\n            .create(body, {\n            ...options,\n            headers: {\n                ...options?.headers,\n                'X-Stainless-Helper-Method': 'chat.completions.parse',\n            },\n        })\n            ._thenUnwrap((completion) => (0, parser_1.parseChatCompletion)(completion, body));\n    }\n    runTools(body, options) {\n        if (body.stream) {\n            return ChatCompletionStreamingRunner_1.ChatCompletionStreamingRunner.runTools(this._client, body, options);\n        }\n        return ChatCompletionRunner_1.ChatCompletionRunner.runTools(this._client, body, options);\n    }\n    /**\n     * Creates a chat completion stream\n     */\n    stream(body, options) {\n        return ChatCompletionStream_1.ChatCompletionStream.createChatCompletion(this._client, body, options);\n    }\n}\nexports.Completions = Completions;\nvar ChatCompletionStreamingRunner_2 = require(\"../../../lib/ChatCompletionStreamingRunner.js\");\nObject.defineProperty(exports, \"ChatCompletionStreamingRunner\", { enumerable: true, get: function () { return ChatCompletionStreamingRunner_2.ChatCompletionStreamingRunner; } });\nvar RunnableFunction_1 = require(\"../../../lib/RunnableFunction.js\");\nObject.defineProperty(exports, \"ParsingToolFunction\", { enumerable: true, get: function () { return RunnableFunction_1.ParsingToolFunction; } });\nvar ChatCompletionStream_2 = require(\"../../../lib/ChatCompletionStream.js\");\nObject.defineProperty(exports, \"ChatCompletionStream\", { enumerable: true, get: function () { return ChatCompletionStream_2.ChatCompletionStream; } });\nvar ChatCompletionRunner_2 = require(\"../../../lib/ChatCompletionRunner.js\");\nObject.defineProperty(exports, \"ChatCompletionRunner\", { enumerable: true, get: function () { return ChatCompletionRunner_2.ChatCompletionRunner; } });\nCompletions.Messages = messages_1.Messages;\n//# sourceMappingURL=completions.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Parts = void 0;\nconst resource_1 = require(\"../../core/resource.js\");\nconst uploads_1 = require(\"../../internal/uploads.js\");\nconst path_1 = require(\"../../internal/utils/path.js\");\nclass Parts extends resource_1.APIResource {\n    /**\n     * Adds a\n     * [Part](https://platform.openai.com/docs/api-reference/uploads/part-object) to an\n     * [Upload](https://platform.openai.com/docs/api-reference/uploads/object) object.\n     * A Part represents a chunk of bytes from the file you are trying to upload.\n     *\n     * Each Part can be at most 64 MB, and you can add Parts until you hit the Upload\n     * maximum of 8 GB.\n     *\n     * It is possible to add multiple Parts in parallel. You can decide the intended\n     * order of the Parts when you\n     * [complete the Upload](https://platform.openai.com/docs/api-reference/uploads/complete).\n     */\n    create(uploadID, body, options) {\n        return this._client.post((0, path_1.path) `/uploads/${uploadID}/parts`, (0, uploads_1.multipartFormRequestOptions)({ body, ...options }, this._client));\n    }\n}\nexports.Parts = Parts;\n//# sourceMappingURL=parts.js.map","'use strict';\n\nvar $isNaN = require('./isNaN');\n\n/** @type {import('./sign')} */\nmodule.exports = function sign(number) {\n\tif ($isNaN(number) || number === 0) {\n\t\treturn number;\n\t}\n\treturn number < 0 ? -1 : +1;\n};\n","module.exports = require(\"zlib\");","'use strict';\n\nvar bind = require('function-bind');\nvar $TypeError = require('es-errors/type');\n\nvar $call = require('./functionCall');\nvar $actualApply = require('./actualApply');\n\n/** @type {(args: [Function, thisArg?: unknown, ...args: unknown[]]) => Function} TODO FIXME, find a way to use import('.') */\nmodule.exports = function callBindBasic(args) {\n\tif (args.length < 1 || typeof args[0] !== 'function') {\n\t\tthrow new $TypeError('a function is required');\n\t}\n\treturn $actualApply(bind, $call, args);\n};\n","const vscode = require(\"vscode\");\nconst fs = require(\"fs\").promises;\nconst path = require(\"path\");\n\n/**\n * 🦊 Enterprise Index Engine for high-performance codebase indexing\n * Provides fast recursive scanning, incremental indexing, and large codebase support\n */\nclass IndexEngine {\n  constructor(context, logger, performanceMonitor, contextManager) {\n    this.context = context;\n    this.logger = logger;\n    this.performanceMonitor = performanceMonitor;\n    this.contextManager = contextManager;\n    this.isInitialized = false;\n    this.workspacePath = null;\n\n    // Indexing state\n    this.indexingInProgress = false;\n    this.indexingQueue = [];\n    this.lastIndexTime = null;\n    this.indexStats = {\n      totalFiles: 0,\n      indexedFiles: 0,\n      skippedFiles: 0,\n      errors: 0,\n      lastIndexDuration: 0,\n    };\n\n    // File watchers\n    this.fileWatchers = [];\n    this.watcherDisposables = [];\n\n    // Configuration\n    this.batchSize = 50; // Process files in batches\n    this.maxConcurrency = 5; // Max concurrent file operations\n    this.indexingDelay = 1000; // Delay before starting indexing (ms)\n\n    // Performance tracking\n    this.indexingTimer = null;\n  }\n\n  /**\n   * Initialize index engine\n   */\n  async initialize(workspacePath) {\n    try {\n      this.logger.info(\"🦊 Initializing Index Engine...\");\n      this.workspacePath = workspacePath;\n\n      if (!workspacePath) {\n        this.logger.warn(\"⚠️ No workspace path provided - indexing disabled\");\n        this.isInitialized = true;\n        return;\n      }\n\n      // Setup file watchers for incremental indexing\n      await this.setupFileWatchers();\n\n      // Start initial indexing (async)\n      this.scheduleIndexing(\"initial\");\n\n      this.isInitialized = true;\n      this.logger.info(\"🦊 Index Engine initialized successfully\");\n    } catch (error) {\n      this.logger.error(\"Failed to initialize Index Engine:\", error);\n      throw error;\n    }\n  }\n\n  /**\n   * 👀 Setup file watchers for incremental indexing\n   */\n  async setupFileWatchers() {\n    try {\n      // Watch for file changes\n      const fileWatcher = vscode.workspace.createFileSystemWatcher(\n        new vscode.RelativePattern(this.workspacePath, \"**/*\"),\n        false, // Don't ignore creates\n        false, // Don't ignore changes\n        false // Don't ignore deletes\n      );\n\n      // File created\n      fileWatcher.onDidCreate(async (uri) => {\n        this.logger.debug(`📄 File created: ${uri.fsPath}`);\n        await this.queueFileForIndexing(uri.fsPath, \"create\");\n      });\n\n      // File changed\n      fileWatcher.onDidChange(async (uri) => {\n        this.logger.debug(`📝 File changed: ${uri.fsPath}`);\n        await this.queueFileForIndexing(uri.fsPath, \"change\");\n      });\n\n      // File deleted\n      fileWatcher.onDidDelete(async (uri) => {\n        this.logger.debug(`🗑️ File deleted: ${uri.fsPath}`);\n        await this.removeFileFromIndex(uri.fsPath);\n      });\n\n      this.fileWatchers.push(fileWatcher);\n      this.watcherDisposables.push(fileWatcher);\n\n      this.logger.debug(\"👀 File watchers setup completed\");\n    } catch (error) {\n      this.logger.error(\"Failed to setup file watchers:\", error);\n    }\n  }\n\n  /**\n   * 📅 Schedule indexing operation\n   */\n  scheduleIndexing(reason = \"manual\", delay = null) {\n    if (this.indexingInProgress) {\n      this.logger.debug(\"Indexing already in progress, skipping schedule\");\n      return;\n    }\n\n    const actualDelay = delay || this.indexingDelay;\n\n    this.logger.debug(\n      `📅 Scheduling indexing in ${actualDelay}ms (reason: ${reason})`\n    );\n\n    setTimeout(async () => {\n      await this.performFullIndexing(reason);\n    }, actualDelay);\n  }\n\n  /**\n   * 🔍 Perform full workspace indexing\n   */\n  async performFullIndexing(reason = \"manual\") {\n    if (this.indexingInProgress) {\n      this.logger.debug(\"Indexing already in progress\");\n      return;\n    }\n\n    if (!this.workspacePath) {\n      this.logger.warn(\"No workspace path available for indexing\");\n      return;\n    }\n\n    this.indexingInProgress = true;\n    this.indexingTimer = this.performanceMonitor.startTimer(\"full_indexing\");\n\n    try {\n      this.logger.info(`🔍 Starting full workspace indexing (${reason})...`);\n\n      // Reset stats\n      this.indexStats = {\n        totalFiles: 0,\n        indexedFiles: 0,\n        skippedFiles: 0,\n        errors: 0,\n        lastIndexDuration: 0,\n      };\n\n      // Scan workspace and collect files\n      const files = await this.scanWorkspaceFiles();\n      this.indexStats.totalFiles = files.length;\n\n      this.logger.info(`📊 Found ${files.length} files to index`);\n\n      // Process files in batches\n      await this.processBatches(files);\n\n      // Complete indexing\n      this.indexingTimer.end();\n      this.indexStats.lastIndexDuration = this.indexingTimer.duration;\n      this.lastIndexTime = Date.now();\n\n      this.logger.info(\n        `🔍 Full indexing completed in ${this.indexingTimer.duration}ms`\n      );\n      this.logger.info(\n        `📊 Stats: ${this.indexStats.indexedFiles} indexed, ${this.indexStats.skippedFiles} skipped, ${this.indexStats.errors} errors`\n      );\n\n      // Record metrics\n      this.performanceMonitor.recordMetric(\n        \"indexing_duration\",\n        this.indexingTimer.duration\n      );\n      this.performanceMonitor.recordMetric(\n        \"files_indexed\",\n        this.indexStats.indexedFiles\n      );\n      this.performanceMonitor.recordMetric(\n        \"indexing_errors\",\n        this.indexStats.errors\n      );\n    } catch (error) {\n      this.indexingTimer?.end();\n      this.logger.error(\"Full indexing failed:\", error);\n      this.indexStats.errors++;\n    } finally {\n      this.indexingInProgress = false;\n    }\n  }\n\n  /**\n   * 📁 Scan workspace for files\n   */\n  async scanWorkspaceFiles() {\n    const files = [];\n\n    try {\n      await this.scanDirectory(this.workspacePath, files);\n    } catch (error) {\n      this.logger.error(\"Failed to scan workspace files:\", error);\n    }\n\n    return files;\n  }\n\n  /**\n   * 📂 Recursively scan directory\n   */\n  async scanDirectory(dirPath, files, depth = 0) {\n    if (depth > 15) {\n      // Prevent excessive recursion\n      this.logger.warn(`Max depth reached for directory: ${dirPath}`);\n      return;\n    }\n\n    try {\n      const entries = await fs.readdir(dirPath, { withFileTypes: true });\n\n      for (const entry of entries) {\n        const fullPath = path.join(dirPath, entry.name);\n\n        // Use context manager's exclusion logic\n        if (this.contextManager.shouldExclude(entry.name, fullPath)) {\n          continue;\n        }\n\n        if (entry.isDirectory()) {\n          await this.scanDirectory(fullPath, files, depth + 1);\n        } else if (entry.isFile()) {\n          // Use context manager's file filtering\n          if (this.contextManager.shouldIndexFile(fullPath)) {\n            files.push(fullPath);\n          }\n        }\n      }\n    } catch (error) {\n      this.logger.debug(`Failed to scan directory ${dirPath}:`, error);\n    }\n  }\n\n  /**\n   * 🔄 Process files in batches\n   */\n  async processBatches(files) {\n    const batches = [];\n\n    // Split files into batches\n    for (let i = 0; i < files.length; i += this.batchSize) {\n      batches.push(files.slice(i, i + this.batchSize));\n    }\n\n    this.logger.debug(\n      `🔄 Processing ${batches.length} batches of up to ${this.batchSize} files each`\n    );\n\n    // Process batches sequentially to avoid overwhelming the system\n    for (let i = 0; i < batches.length; i++) {\n      const batch = batches[i];\n      this.logger.debug(\n        `🔄 Processing batch ${i + 1}/${batches.length} (${batch.length} files)`\n      );\n\n      try {\n        await this.processBatch(batch);\n      } catch (error) {\n        this.logger.error(`Failed to process batch ${i + 1}:`, error);\n        this.indexStats.errors++;\n      }\n\n      // Small delay between batches to prevent blocking\n      if (i < batches.length - 1) {\n        await new Promise((resolve) => setTimeout(resolve, 10));\n      }\n    }\n  }\n\n  /**\n   * 📦 Process a single batch of files\n   */\n  async processBatch(files) {\n    // Process files with limited concurrency\n    const promises = [];\n    const semaphore = new Array(this.maxConcurrency).fill(null);\n\n    for (const filePath of files) {\n      const promise = this.processFile(filePath);\n      promises.push(promise);\n\n      // Limit concurrency\n      if (promises.length >= this.maxConcurrency) {\n        await Promise.race(promises);\n        // Remove completed promises\n        for (let i = promises.length - 1; i >= 0; i--) {\n          if (promises[i].isResolved) {\n            promises.splice(i, 1);\n          }\n        }\n      }\n    }\n\n    // Wait for remaining promises\n    await Promise.allSettled(promises);\n  }\n\n  /**\n   * 📄 Process a single file\n   */\n  async processFile(filePath) {\n    try {\n      // Check if file still exists\n      const stats = await fs.stat(filePath);\n\n      // Skip very large files\n      if (stats.size > this.contextManager.maxFileSize) {\n        this.logger.debug(\n          `Skipping large file: ${filePath} (${stats.size} bytes)`\n        );\n        this.indexStats.skippedFiles++;\n        return;\n      }\n\n      // Read and index file\n      const content = await fs.readFile(filePath, \"utf8\");\n      await this.contextManager.updateFileIndex(filePath, content);\n\n      this.indexStats.indexedFiles++;\n    } catch (error) {\n      this.logger.debug(`Failed to process file ${filePath}:`, error);\n      this.indexStats.errors++;\n    }\n  }\n\n  /**\n   * 📝 Queue file for incremental indexing\n   */\n  async queueFileForIndexing(filePath, operation) {\n    try {\n      // Add to queue\n      this.indexingQueue.push({\n        filePath,\n        operation,\n        timestamp: Date.now(),\n      });\n\n      // Process queue with debouncing\n      this.debounceQueueProcessing();\n    } catch (error) {\n      this.logger.error(\n        `Failed to queue file for indexing ${filePath}:`,\n        error\n      );\n    }\n  }\n\n  /**\n   * ⏱️ Debounced queue processing\n   */\n  debounceQueueProcessing() {\n    if (this.queueProcessingTimer) {\n      clearTimeout(this.queueProcessingTimer);\n    }\n\n    this.queueProcessingTimer = setTimeout(async () => {\n      await this.processIndexingQueue();\n    }, 500); // 500ms debounce\n  }\n\n  /**\n   * 🔄 Process indexing queue\n   */\n  async processIndexingQueue() {\n    if (this.indexingQueue.length === 0) {\n      return;\n    }\n\n    const queue = [...this.indexingQueue];\n    this.indexingQueue = [];\n\n    this.logger.debug(`🔄 Processing indexing queue: ${queue.length} items`);\n\n    // Group by file path to avoid duplicate processing\n    const fileMap = new Map();\n    for (const item of queue) {\n      fileMap.set(item.filePath, item); // Latest operation wins\n    }\n\n    // Process unique files\n    for (const [filePath, item] of fileMap.entries()) {\n      try {\n        if (item.operation === \"delete\") {\n          await this.removeFileFromIndex(filePath);\n        } else {\n          await this.processFile(filePath);\n        }\n      } catch (error) {\n        this.logger.error(`Failed to process queued file ${filePath}:`, error);\n      }\n    }\n  }\n\n  /**\n   * 🗑️ Remove file from index\n   */\n  async removeFileFromIndex(filePath) {\n    try {\n      // Remove from context manager's index\n      if (this.contextManager.fileIndex.has(filePath)) {\n        this.contextManager.fileIndex.delete(filePath);\n\n        // Update symbol index\n        for (const [\n          symbolName,\n          locations,\n        ] of this.contextManager.symbolIndex.entries()) {\n          const filtered = locations.filter((loc) => loc.file !== filePath);\n          if (filtered.length === 0) {\n            this.contextManager.symbolIndex.delete(symbolName);\n          } else {\n            this.contextManager.symbolIndex.set(symbolName, filtered);\n          }\n        }\n\n        this.logger.debug(`🗑️ Removed file from index: ${filePath}`);\n      }\n    } catch (error) {\n      this.logger.error(`Failed to remove file from index ${filePath}:`, error);\n    }\n  }\n\n  /**\n   * Reinitialize with new workspace\n   */\n  async reinitialize(workspacePath) {\n    try {\n      this.logger.info(\"🔄 Reinitializing Index Engine for new workspace...\");\n\n      // Cleanup current state\n      await this.cleanup();\n\n      // Initialize with new workspace\n      await this.initialize(workspacePath);\n\n      this.logger.info(\"🔄 Index Engine reinitialized successfully\");\n    } catch (error) {\n      this.logger.error(\"Failed to reinitialize Index Engine:\", error);\n      throw error;\n    }\n  }\n\n  /**\n   * Update file index (called by agent controller)\n   */\n  async updateFileIndex(filePath, content) {\n    try {\n      if (!this.isInitialized) {\n        return;\n      }\n\n      // Update through context manager\n      await this.contextManager.updateFileIndex(filePath, content);\n\n      this.logger.debug(\n        `📝 File index updated: ${path.relative(\n          this.workspacePath || \"\",\n          filePath\n        )}`\n      );\n    } catch (error) {\n      this.logger.error(`Failed to update file index for ${filePath}:`, error);\n    }\n  }\n\n  /**\n   * 📊 Get indexing statistics\n   */\n  getStats() {\n    return {\n      ...this.indexStats,\n      isIndexing: this.indexingInProgress,\n      lastIndexTime: this.lastIndexTime,\n      queueSize: this.indexingQueue.length,\n      workspacePath: this.workspacePath,\n      contextStats: this.contextManager.getStats(),\n    };\n  }\n\n  /**\n   * 🔍 Force reindexing\n   */\n  async forceReindex() {\n    if (this.indexingInProgress) {\n      this.logger.warn(\"Indexing already in progress, cannot force reindex\");\n      return false;\n    }\n\n    this.logger.info(\"🔍 Forcing complete reindex...\");\n    await this.performFullIndexing(\"forced\");\n    return true;\n  }\n\n  /**\n   * ⏸️ Pause indexing\n   */\n  pauseIndexing() {\n    this.indexingPaused = true;\n    this.logger.info(\"⏸️ Indexing paused\");\n  }\n\n  /**\n   * ▶️ Resume indexing\n   */\n  resumeIndexing() {\n    this.indexingPaused = false;\n    this.logger.info(\"▶️ Indexing resumed\");\n\n    // Process any queued items\n    if (this.indexingQueue.length > 0) {\n      this.debounceQueueProcessing();\n    }\n  }\n\n  /**\n   * Cleanup resources\n   */\n  async cleanup() {\n    try {\n      this.logger.info(\"Cleaning up Index Engine...\");\n\n      // Clear timers\n      if (this.queueProcessingTimer) {\n        clearTimeout(this.queueProcessingTimer);\n        this.queueProcessingTimer = null;\n      }\n\n      // Dispose file watchers\n      for (const disposable of this.watcherDisposables) {\n        disposable.dispose();\n      }\n      this.watcherDisposables = [];\n      this.fileWatchers = [];\n\n      // Clear state\n      this.indexingQueue = [];\n      this.indexingInProgress = false;\n      this.isInitialized = false;\n\n      this.logger.info(\"Index Engine cleanup completed\");\n    } catch (error) {\n      this.logger.error(\"Error during Index Engine cleanup:\", error);\n    }\n  }\n}\n\nmodule.exports = IndexEngine;\n","'use strict';\n\nvar bind = require('function-bind');\n\nvar $apply = require('./functionApply');\nvar $call = require('./functionCall');\nvar $reflectApply = require('./reflectApply');\n\n/** @type {import('./actualApply')} */\nmodule.exports = $reflectApply || bind.call($call, $apply);\n","var url = require(\"url\");\nvar URL = url.URL;\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Writable = require(\"stream\").Writable;\nvar assert = require(\"assert\");\nvar debug = require(\"./debug\");\n\n// Preventive platform detection\n// istanbul ignore next\n(function detectUnsupportedEnvironment() {\n  var looksLikeNode = typeof process !== \"undefined\";\n  var looksLikeBrowser = typeof window !== \"undefined\" && typeof document !== \"undefined\";\n  var looksLikeV8 = isFunction(Error.captureStackTrace);\n  if (!looksLikeNode && (looksLikeBrowser || !looksLikeV8)) {\n    console.warn(\"The follow-redirects package should be excluded from browser builds.\");\n  }\n}());\n\n// Whether to use the native URL object or the legacy url module\nvar useNativeURL = false;\ntry {\n  assert(new URL(\"\"));\n}\ncatch (error) {\n  useNativeURL = error.code === \"ERR_INVALID_URL\";\n}\n\n// URL fields to preserve in copy operations\nvar preservedUrlFields = [\n  \"auth\",\n  \"host\",\n  \"hostname\",\n  \"href\",\n  \"path\",\n  \"pathname\",\n  \"port\",\n  \"protocol\",\n  \"query\",\n  \"search\",\n  \"hash\",\n];\n\n// Create handlers that pass events from native requests\nvar events = [\"abort\", \"aborted\", \"connect\", \"error\", \"socket\", \"timeout\"];\nvar eventHandlers = Object.create(null);\nevents.forEach(function (event) {\n  eventHandlers[event] = function (arg1, arg2, arg3) {\n    this._redirectable.emit(event, arg1, arg2, arg3);\n  };\n});\n\n// Error types with codes\nvar InvalidUrlError = createErrorType(\n  \"ERR_INVALID_URL\",\n  \"Invalid URL\",\n  TypeError\n);\nvar RedirectionError = createErrorType(\n  \"ERR_FR_REDIRECTION_FAILURE\",\n  \"Redirected request failed\"\n);\nvar TooManyRedirectsError = createErrorType(\n  \"ERR_FR_TOO_MANY_REDIRECTS\",\n  \"Maximum number of redirects exceeded\",\n  RedirectionError\n);\nvar MaxBodyLengthExceededError = createErrorType(\n  \"ERR_FR_MAX_BODY_LENGTH_EXCEEDED\",\n  \"Request body larger than maxBodyLength limit\"\n);\nvar WriteAfterEndError = createErrorType(\n  \"ERR_STREAM_WRITE_AFTER_END\",\n  \"write after end\"\n);\n\n// istanbul ignore next\nvar destroy = Writable.prototype.destroy || noop;\n\n// An HTTP(S) request that can be redirected\nfunction RedirectableRequest(options, responseCallback) {\n  // Initialize the request\n  Writable.call(this);\n  this._sanitizeOptions(options);\n  this._options = options;\n  this._ended = false;\n  this._ending = false;\n  this._redirectCount = 0;\n  this._redirects = [];\n  this._requestBodyLength = 0;\n  this._requestBodyBuffers = [];\n\n  // Attach a callback if passed\n  if (responseCallback) {\n    this.on(\"response\", responseCallback);\n  }\n\n  // React to responses of native requests\n  var self = this;\n  this._onNativeResponse = function (response) {\n    try {\n      self._processResponse(response);\n    }\n    catch (cause) {\n      self.emit(\"error\", cause instanceof RedirectionError ?\n        cause : new RedirectionError({ cause: cause }));\n    }\n  };\n\n  // Perform the first request\n  this._performRequest();\n}\nRedirectableRequest.prototype = Object.create(Writable.prototype);\n\nRedirectableRequest.prototype.abort = function () {\n  destroyRequest(this._currentRequest);\n  this._currentRequest.abort();\n  this.emit(\"abort\");\n};\n\nRedirectableRequest.prototype.destroy = function (error) {\n  destroyRequest(this._currentRequest, error);\n  destroy.call(this, error);\n  return this;\n};\n\n// Writes buffered data to the current native request\nRedirectableRequest.prototype.write = function (data, encoding, callback) {\n  // Writing is not allowed if end has been called\n  if (this._ending) {\n    throw new WriteAfterEndError();\n  }\n\n  // Validate input and shift parameters if necessary\n  if (!isString(data) && !isBuffer(data)) {\n    throw new TypeError(\"data should be a string, Buffer or Uint8Array\");\n  }\n  if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Ignore empty buffers, since writing them doesn't invoke the callback\n  // https://github.com/nodejs/node/issues/22066\n  if (data.length === 0) {\n    if (callback) {\n      callback();\n    }\n    return;\n  }\n  // Only write when we don't exceed the maximum body length\n  if (this._requestBodyLength + data.length <= this._options.maxBodyLength) {\n    this._requestBodyLength += data.length;\n    this._requestBodyBuffers.push({ data: data, encoding: encoding });\n    this._currentRequest.write(data, encoding, callback);\n  }\n  // Error when we exceed the maximum body length\n  else {\n    this.emit(\"error\", new MaxBodyLengthExceededError());\n    this.abort();\n  }\n};\n\n// Ends the current native request\nRedirectableRequest.prototype.end = function (data, encoding, callback) {\n  // Shift parameters if necessary\n  if (isFunction(data)) {\n    callback = data;\n    data = encoding = null;\n  }\n  else if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Write data if needed and end\n  if (!data) {\n    this._ended = this._ending = true;\n    this._currentRequest.end(null, null, callback);\n  }\n  else {\n    var self = this;\n    var currentRequest = this._currentRequest;\n    this.write(data, encoding, function () {\n      self._ended = true;\n      currentRequest.end(null, null, callback);\n    });\n    this._ending = true;\n  }\n};\n\n// Sets a header value on the current native request\nRedirectableRequest.prototype.setHeader = function (name, value) {\n  this._options.headers[name] = value;\n  this._currentRequest.setHeader(name, value);\n};\n\n// Clears a header value on the current native request\nRedirectableRequest.prototype.removeHeader = function (name) {\n  delete this._options.headers[name];\n  this._currentRequest.removeHeader(name);\n};\n\n// Global timeout for all underlying requests\nRedirectableRequest.prototype.setTimeout = function (msecs, callback) {\n  var self = this;\n\n  // Destroys the socket on timeout\n  function destroyOnTimeout(socket) {\n    socket.setTimeout(msecs);\n    socket.removeListener(\"timeout\", socket.destroy);\n    socket.addListener(\"timeout\", socket.destroy);\n  }\n\n  // Sets up a timer to trigger a timeout event\n  function startTimer(socket) {\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n    }\n    self._timeout = setTimeout(function () {\n      self.emit(\"timeout\");\n      clearTimer();\n    }, msecs);\n    destroyOnTimeout(socket);\n  }\n\n  // Stops a timeout from triggering\n  function clearTimer() {\n    // Clear the timeout\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n      self._timeout = null;\n    }\n\n    // Clean up all attached listeners\n    self.removeListener(\"abort\", clearTimer);\n    self.removeListener(\"error\", clearTimer);\n    self.removeListener(\"response\", clearTimer);\n    self.removeListener(\"close\", clearTimer);\n    if (callback) {\n      self.removeListener(\"timeout\", callback);\n    }\n    if (!self.socket) {\n      self._currentRequest.removeListener(\"socket\", startTimer);\n    }\n  }\n\n  // Attach callback if passed\n  if (callback) {\n    this.on(\"timeout\", callback);\n  }\n\n  // Start the timer if or when the socket is opened\n  if (this.socket) {\n    startTimer(this.socket);\n  }\n  else {\n    this._currentRequest.once(\"socket\", startTimer);\n  }\n\n  // Clean up on events\n  this.on(\"socket\", destroyOnTimeout);\n  this.on(\"abort\", clearTimer);\n  this.on(\"error\", clearTimer);\n  this.on(\"response\", clearTimer);\n  this.on(\"close\", clearTimer);\n\n  return this;\n};\n\n// Proxy all other public ClientRequest methods\n[\n  \"flushHeaders\", \"getHeader\",\n  \"setNoDelay\", \"setSocketKeepAlive\",\n].forEach(function (method) {\n  RedirectableRequest.prototype[method] = function (a, b) {\n    return this._currentRequest[method](a, b);\n  };\n});\n\n// Proxy all public ClientRequest properties\n[\"aborted\", \"connection\", \"socket\"].forEach(function (property) {\n  Object.defineProperty(RedirectableRequest.prototype, property, {\n    get: function () { return this._currentRequest[property]; },\n  });\n});\n\nRedirectableRequest.prototype._sanitizeOptions = function (options) {\n  // Ensure headers are always present\n  if (!options.headers) {\n    options.headers = {};\n  }\n\n  // Since http.request treats host as an alias of hostname,\n  // but the url module interprets host as hostname plus port,\n  // eliminate the host property to avoid confusion.\n  if (options.host) {\n    // Use hostname if set, because it has precedence\n    if (!options.hostname) {\n      options.hostname = options.host;\n    }\n    delete options.host;\n  }\n\n  // Complete the URL object when necessary\n  if (!options.pathname && options.path) {\n    var searchPos = options.path.indexOf(\"?\");\n    if (searchPos < 0) {\n      options.pathname = options.path;\n    }\n    else {\n      options.pathname = options.path.substring(0, searchPos);\n      options.search = options.path.substring(searchPos);\n    }\n  }\n};\n\n\n// Executes the next native request (initial or redirect)\nRedirectableRequest.prototype._performRequest = function () {\n  // Load the native protocol\n  var protocol = this._options.protocol;\n  var nativeProtocol = this._options.nativeProtocols[protocol];\n  if (!nativeProtocol) {\n    throw new TypeError(\"Unsupported protocol \" + protocol);\n  }\n\n  // If specified, use the agent corresponding to the protocol\n  // (HTTP and HTTPS use different types of agents)\n  if (this._options.agents) {\n    var scheme = protocol.slice(0, -1);\n    this._options.agent = this._options.agents[scheme];\n  }\n\n  // Create the native request and set up its event handlers\n  var request = this._currentRequest =\n        nativeProtocol.request(this._options, this._onNativeResponse);\n  request._redirectable = this;\n  for (var event of events) {\n    request.on(event, eventHandlers[event]);\n  }\n\n  // RFC7230§5.3.1: When making a request directly to an origin server, […]\n  // a client MUST send only the absolute path […] as the request-target.\n  this._currentUrl = /^\\//.test(this._options.path) ?\n    url.format(this._options) :\n    // When making a request to a proxy, […]\n    // a client MUST send the target URI in absolute-form […].\n    this._options.path;\n\n  // End a redirected request\n  // (The first request must be ended explicitly with RedirectableRequest#end)\n  if (this._isRedirect) {\n    // Write the request entity and end\n    var i = 0;\n    var self = this;\n    var buffers = this._requestBodyBuffers;\n    (function writeNext(error) {\n      // Only write if this request has not been redirected yet\n      // istanbul ignore else\n      if (request === self._currentRequest) {\n        // Report any write errors\n        // istanbul ignore if\n        if (error) {\n          self.emit(\"error\", error);\n        }\n        // Write the next buffer if there are still left\n        else if (i < buffers.length) {\n          var buffer = buffers[i++];\n          // istanbul ignore else\n          if (!request.finished) {\n            request.write(buffer.data, buffer.encoding, writeNext);\n          }\n        }\n        // End the request if `end` has been called on us\n        else if (self._ended) {\n          request.end();\n        }\n      }\n    }());\n  }\n};\n\n// Processes a response from the current native request\nRedirectableRequest.prototype._processResponse = function (response) {\n  // Store the redirected response\n  var statusCode = response.statusCode;\n  if (this._options.trackRedirects) {\n    this._redirects.push({\n      url: this._currentUrl,\n      headers: response.headers,\n      statusCode: statusCode,\n    });\n  }\n\n  // RFC7231§6.4: The 3xx (Redirection) class of status code indicates\n  // that further action needs to be taken by the user agent in order to\n  // fulfill the request. If a Location header field is provided,\n  // the user agent MAY automatically redirect its request to the URI\n  // referenced by the Location field value,\n  // even if the specific status code is not understood.\n\n  // If the response is not a redirect; return it as-is\n  var location = response.headers.location;\n  if (!location || this._options.followRedirects === false ||\n      statusCode < 300 || statusCode >= 400) {\n    response.responseUrl = this._currentUrl;\n    response.redirects = this._redirects;\n    this.emit(\"response\", response);\n\n    // Clean up\n    this._requestBodyBuffers = [];\n    return;\n  }\n\n  // The response is a redirect, so abort the current request\n  destroyRequest(this._currentRequest);\n  // Discard the remainder of the response to avoid waiting for data\n  response.destroy();\n\n  // RFC7231§6.4: A client SHOULD detect and intervene\n  // in cyclical redirections (i.e., \"infinite\" redirection loops).\n  if (++this._redirectCount > this._options.maxRedirects) {\n    throw new TooManyRedirectsError();\n  }\n\n  // Store the request headers if applicable\n  var requestHeaders;\n  var beforeRedirect = this._options.beforeRedirect;\n  if (beforeRedirect) {\n    requestHeaders = Object.assign({\n      // The Host header was set by nativeProtocol.request\n      Host: response.req.getHeader(\"host\"),\n    }, this._options.headers);\n  }\n\n  // RFC7231§6.4: Automatic redirection needs to done with\n  // care for methods not known to be safe, […]\n  // RFC7231§6.4.2–3: For historical reasons, a user agent MAY change\n  // the request method from POST to GET for the subsequent request.\n  var method = this._options.method;\n  if ((statusCode === 301 || statusCode === 302) && this._options.method === \"POST\" ||\n      // RFC7231§6.4.4: The 303 (See Other) status code indicates that\n      // the server is redirecting the user agent to a different resource […]\n      // A user agent can perform a retrieval request targeting that URI\n      // (a GET or HEAD request if using HTTP) […]\n      (statusCode === 303) && !/^(?:GET|HEAD)$/.test(this._options.method)) {\n    this._options.method = \"GET\";\n    // Drop a possible entity and headers related to it\n    this._requestBodyBuffers = [];\n    removeMatchingHeaders(/^content-/i, this._options.headers);\n  }\n\n  // Drop the Host header, as the redirect might lead to a different host\n  var currentHostHeader = removeMatchingHeaders(/^host$/i, this._options.headers);\n\n  // If the redirect is relative, carry over the host of the last request\n  var currentUrlParts = parseUrl(this._currentUrl);\n  var currentHost = currentHostHeader || currentUrlParts.host;\n  var currentUrl = /^\\w+:/.test(location) ? this._currentUrl :\n    url.format(Object.assign(currentUrlParts, { host: currentHost }));\n\n  // Create the redirected request\n  var redirectUrl = resolveUrl(location, currentUrl);\n  debug(\"redirecting to\", redirectUrl.href);\n  this._isRedirect = true;\n  spreadUrlObject(redirectUrl, this._options);\n\n  // Drop confidential headers when redirecting to a less secure protocol\n  // or to a different domain that is not a superdomain\n  if (redirectUrl.protocol !== currentUrlParts.protocol &&\n     redirectUrl.protocol !== \"https:\" ||\n     redirectUrl.host !== currentHost &&\n     !isSubdomain(redirectUrl.host, currentHost)) {\n    removeMatchingHeaders(/^(?:(?:proxy-)?authorization|cookie)$/i, this._options.headers);\n  }\n\n  // Evaluate the beforeRedirect callback\n  if (isFunction(beforeRedirect)) {\n    var responseDetails = {\n      headers: response.headers,\n      statusCode: statusCode,\n    };\n    var requestDetails = {\n      url: currentUrl,\n      method: method,\n      headers: requestHeaders,\n    };\n    beforeRedirect(this._options, responseDetails, requestDetails);\n    this._sanitizeOptions(this._options);\n  }\n\n  // Perform the redirected request\n  this._performRequest();\n};\n\n// Wraps the key/value object of protocols with redirect functionality\nfunction wrap(protocols) {\n  // Default settings\n  var exports = {\n    maxRedirects: 21,\n    maxBodyLength: 10 * 1024 * 1024,\n  };\n\n  // Wrap each protocol\n  var nativeProtocols = {};\n  Object.keys(protocols).forEach(function (scheme) {\n    var protocol = scheme + \":\";\n    var nativeProtocol = nativeProtocols[protocol] = protocols[scheme];\n    var wrappedProtocol = exports[scheme] = Object.create(nativeProtocol);\n\n    // Executes a request, following redirects\n    function request(input, options, callback) {\n      // Parse parameters, ensuring that input is an object\n      if (isURL(input)) {\n        input = spreadUrlObject(input);\n      }\n      else if (isString(input)) {\n        input = spreadUrlObject(parseUrl(input));\n      }\n      else {\n        callback = options;\n        options = validateUrl(input);\n        input = { protocol: protocol };\n      }\n      if (isFunction(options)) {\n        callback = options;\n        options = null;\n      }\n\n      // Set defaults\n      options = Object.assign({\n        maxRedirects: exports.maxRedirects,\n        maxBodyLength: exports.maxBodyLength,\n      }, input, options);\n      options.nativeProtocols = nativeProtocols;\n      if (!isString(options.host) && !isString(options.hostname)) {\n        options.hostname = \"::1\";\n      }\n\n      assert.equal(options.protocol, protocol, \"protocol mismatch\");\n      debug(\"options\", options);\n      return new RedirectableRequest(options, callback);\n    }\n\n    // Executes a GET request, following redirects\n    function get(input, options, callback) {\n      var wrappedRequest = wrappedProtocol.request(input, options, callback);\n      wrappedRequest.end();\n      return wrappedRequest;\n    }\n\n    // Expose the properties on the wrapped protocol\n    Object.defineProperties(wrappedProtocol, {\n      request: { value: request, configurable: true, enumerable: true, writable: true },\n      get: { value: get, configurable: true, enumerable: true, writable: true },\n    });\n  });\n  return exports;\n}\n\nfunction noop() { /* empty */ }\n\nfunction parseUrl(input) {\n  var parsed;\n  // istanbul ignore else\n  if (useNativeURL) {\n    parsed = new URL(input);\n  }\n  else {\n    // Ensure the URL is valid and absolute\n    parsed = validateUrl(url.parse(input));\n    if (!isString(parsed.protocol)) {\n      throw new InvalidUrlError({ input });\n    }\n  }\n  return parsed;\n}\n\nfunction resolveUrl(relative, base) {\n  // istanbul ignore next\n  return useNativeURL ? new URL(relative, base) : parseUrl(url.resolve(base, relative));\n}\n\nfunction validateUrl(input) {\n  if (/^\\[/.test(input.hostname) && !/^\\[[:0-9a-f]+\\]$/i.test(input.hostname)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  if (/^\\[/.test(input.host) && !/^\\[[:0-9a-f]+\\](:\\d+)?$/i.test(input.host)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  return input;\n}\n\nfunction spreadUrlObject(urlObject, target) {\n  var spread = target || {};\n  for (var key of preservedUrlFields) {\n    spread[key] = urlObject[key];\n  }\n\n  // Fix IPv6 hostname\n  if (spread.hostname.startsWith(\"[\")) {\n    spread.hostname = spread.hostname.slice(1, -1);\n  }\n  // Ensure port is a number\n  if (spread.port !== \"\") {\n    spread.port = Number(spread.port);\n  }\n  // Concatenate path\n  spread.path = spread.search ? spread.pathname + spread.search : spread.pathname;\n\n  return spread;\n}\n\nfunction removeMatchingHeaders(regex, headers) {\n  var lastValue;\n  for (var header in headers) {\n    if (regex.test(header)) {\n      lastValue = headers[header];\n      delete headers[header];\n    }\n  }\n  return (lastValue === null || typeof lastValue === \"undefined\") ?\n    undefined : String(lastValue).trim();\n}\n\nfunction createErrorType(code, message, baseClass) {\n  // Create constructor\n  function CustomError(properties) {\n    // istanbul ignore else\n    if (isFunction(Error.captureStackTrace)) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n    Object.assign(this, properties || {});\n    this.code = code;\n    this.message = this.cause ? message + \": \" + this.cause.message : message;\n  }\n\n  // Attach constructor and set default properties\n  CustomError.prototype = new (baseClass || Error)();\n  Object.defineProperties(CustomError.prototype, {\n    constructor: {\n      value: CustomError,\n      enumerable: false,\n    },\n    name: {\n      value: \"Error [\" + code + \"]\",\n      enumerable: false,\n    },\n  });\n  return CustomError;\n}\n\nfunction destroyRequest(request, error) {\n  for (var event of events) {\n    request.removeListener(event, eventHandlers[event]);\n  }\n  request.on(\"error\", noop);\n  request.destroy(error);\n}\n\nfunction isSubdomain(subdomain, domain) {\n  assert(isString(subdomain) && isString(domain));\n  var dot = subdomain.length - domain.length - 1;\n  return dot > 0 && subdomain[dot] === \".\" && subdomain.endsWith(domain);\n}\n\nfunction isString(value) {\n  return typeof value === \"string\" || value instanceof String;\n}\n\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\n\nfunction isBuffer(value) {\n  return typeof value === \"object\" && (\"length\" in value);\n}\n\nfunction isURL(value) {\n  return URL && value instanceof URL;\n}\n\n// Exports\nmodule.exports = wrap({ http: http, https: https });\nmodule.exports.wrap = wrap;\n","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileBatches = void 0;\nconst resource_1 = require(\"../../core/resource.js\");\nconst pagination_1 = require(\"../../core/pagination.js\");\nconst headers_1 = require(\"../../internal/headers.js\");\nconst sleep_1 = require(\"../../internal/utils/sleep.js\");\nconst Util_1 = require(\"../../lib/Util.js\");\nconst path_1 = require(\"../../internal/utils/path.js\");\nclass FileBatches extends resource_1.APIResource {\n    /**\n     * Create a vector store file batch.\n     */\n    create(vectorStoreID, body, options) {\n        return this._client.post((0, path_1.path) `/vector_stores/${vectorStoreID}/file_batches`, {\n            body,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Retrieves a vector store file batch.\n     */\n    retrieve(batchID, params, options) {\n        const { vector_store_id } = params;\n        return this._client.get((0, path_1.path) `/vector_stores/${vector_store_id}/file_batches/${batchID}`, {\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Cancel a vector store file batch. This attempts to cancel the processing of\n     * files in this batch as soon as possible.\n     */\n    cancel(batchID, params, options) {\n        const { vector_store_id } = params;\n        return this._client.post((0, path_1.path) `/vector_stores/${vector_store_id}/file_batches/${batchID}/cancel`, {\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Create a vector store batch and poll until all files have been processed.\n     */\n    async createAndPoll(vectorStoreId, body, options) {\n        const batch = await this.create(vectorStoreId, body);\n        return await this.poll(vectorStoreId, batch.id, options);\n    }\n    /**\n     * Returns a list of vector store files in a batch.\n     */\n    listFiles(batchID, params, options) {\n        const { vector_store_id, ...query } = params;\n        return this._client.getAPIList((0, path_1.path) `/vector_stores/${vector_store_id}/file_batches/${batchID}/files`, (pagination_1.CursorPage), { query, ...options, headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]) });\n    }\n    /**\n     * Wait for the given file batch to be processed.\n     *\n     * Note: this will return even if one of the files failed to process, you need to\n     * check batch.file_counts.failed_count to handle this case.\n     */\n    async poll(vectorStoreID, batchID, options) {\n        const headers = (0, headers_1.buildHeaders)([\n            options?.headers,\n            {\n                'X-Stainless-Poll-Helper': 'true',\n                'X-Stainless-Custom-Poll-Interval': options?.pollIntervalMs?.toString() ?? undefined,\n            },\n        ]);\n        while (true) {\n            const { data: batch, response } = await this.retrieve(batchID, { vector_store_id: vectorStoreID }, {\n                ...options,\n                headers,\n            }).withResponse();\n            switch (batch.status) {\n                case 'in_progress':\n                    let sleepInterval = 5000;\n                    if (options?.pollIntervalMs) {\n                        sleepInterval = options.pollIntervalMs;\n                    }\n                    else {\n                        const headerInterval = response.headers.get('openai-poll-after-ms');\n                        if (headerInterval) {\n                            const headerIntervalMs = parseInt(headerInterval);\n                            if (!isNaN(headerIntervalMs)) {\n                                sleepInterval = headerIntervalMs;\n                            }\n                        }\n                    }\n                    await (0, sleep_1.sleep)(sleepInterval);\n                    break;\n                case 'failed':\n                case 'cancelled':\n                case 'completed':\n                    return batch;\n            }\n        }\n    }\n    /**\n     * Uploads the given files concurrently and then creates a vector store file batch.\n     *\n     * The concurrency limit is configurable using the `maxConcurrency` parameter.\n     */\n    async uploadAndPoll(vectorStoreId, { files, fileIds = [] }, options) {\n        if (files == null || files.length == 0) {\n            throw new Error(`No \\`files\\` provided to process. If you've already uploaded files you should use \\`.createAndPoll()\\` instead`);\n        }\n        const configuredConcurrency = options?.maxConcurrency ?? 5;\n        // We cap the number of workers at the number of files (so we don't start any unnecessary workers)\n        const concurrencyLimit = Math.min(configuredConcurrency, files.length);\n        const client = this._client;\n        const fileIterator = files.values();\n        const allFileIds = [...fileIds];\n        // This code is based on this design. The libraries don't accommodate our environment limits.\n        // https://stackoverflow.com/questions/40639432/what-is-the-best-way-to-limit-concurrency-when-using-es6s-promise-all\n        async function processFiles(iterator) {\n            for (let item of iterator) {\n                const fileObj = await client.files.create({ file: item, purpose: 'assistants' }, options);\n                allFileIds.push(fileObj.id);\n            }\n        }\n        // Start workers to process results\n        const workers = Array(concurrencyLimit).fill(fileIterator).map(processFiles);\n        // Wait for all processing to complete.\n        await (0, Util_1.allSettledWithThrow)(workers);\n        return await this.createAndPoll(vectorStoreId, {\n            file_ids: allFileIds,\n        });\n    }\n}\nexports.FileBatches = FileBatches;\n//# sourceMappingURL=file-batches.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.allSettledWithThrow = void 0;\n/**\n * Like `Promise.allSettled()` but throws an error if any promises are rejected.\n */\nconst allSettledWithThrow = async (promises) => {\n    const results = await Promise.allSettled(promises);\n    const rejected = results.filter((result) => result.status === 'rejected');\n    if (rejected.length) {\n        for (const result of rejected) {\n            console.error(result.reason);\n        }\n        throw new Error(`${rejected.length} promise(s) failed - see the above errors`);\n    }\n    // Note: TS was complaining about using `.filter().map()` here for some reason\n    const values = [];\n    for (const result of results) {\n        if (result.status === 'fulfilled') {\n            values.push(result.value);\n        }\n    }\n    return values;\n};\nexports.allSettledWithThrow = allSettledWithThrow;\n//# sourceMappingURL=Util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isChatCompletionFunctionTool = isChatCompletionFunctionTool;\nexports.makeParseableResponseFormat = makeParseableResponseFormat;\nexports.makeParseableTextFormat = makeParseableTextFormat;\nexports.isAutoParsableResponseFormat = isAutoParsableResponseFormat;\nexports.makeParseableTool = makeParseableTool;\nexports.isAutoParsableTool = isAutoParsableTool;\nexports.maybeParseChatCompletion = maybeParseChatCompletion;\nexports.parseChatCompletion = parseChatCompletion;\nexports.shouldParseToolCall = shouldParseToolCall;\nexports.hasAutoParseableInput = hasAutoParseableInput;\nexports.assertToolCallsAreChatCompletionFunctionToolCalls = assertToolCallsAreChatCompletionFunctionToolCalls;\nexports.validateInputTools = validateInputTools;\nconst error_1 = require(\"../error.js\");\nfunction isChatCompletionFunctionTool(tool) {\n    return tool !== undefined && 'function' in tool && tool.function !== undefined;\n}\nfunction makeParseableResponseFormat(response_format, parser) {\n    const obj = { ...response_format };\n    Object.defineProperties(obj, {\n        $brand: {\n            value: 'auto-parseable-response-format',\n            enumerable: false,\n        },\n        $parseRaw: {\n            value: parser,\n            enumerable: false,\n        },\n    });\n    return obj;\n}\nfunction makeParseableTextFormat(response_format, parser) {\n    const obj = { ...response_format };\n    Object.defineProperties(obj, {\n        $brand: {\n            value: 'auto-parseable-response-format',\n            enumerable: false,\n        },\n        $parseRaw: {\n            value: parser,\n            enumerable: false,\n        },\n    });\n    return obj;\n}\nfunction isAutoParsableResponseFormat(response_format) {\n    return response_format?.['$brand'] === 'auto-parseable-response-format';\n}\nfunction makeParseableTool(tool, { parser, callback, }) {\n    const obj = { ...tool };\n    Object.defineProperties(obj, {\n        $brand: {\n            value: 'auto-parseable-tool',\n            enumerable: false,\n        },\n        $parseRaw: {\n            value: parser,\n            enumerable: false,\n        },\n        $callback: {\n            value: callback,\n            enumerable: false,\n        },\n    });\n    return obj;\n}\nfunction isAutoParsableTool(tool) {\n    return tool?.['$brand'] === 'auto-parseable-tool';\n}\nfunction maybeParseChatCompletion(completion, params) {\n    if (!params || !hasAutoParseableInput(params)) {\n        return {\n            ...completion,\n            choices: completion.choices.map((choice) => {\n                assertToolCallsAreChatCompletionFunctionToolCalls(choice.message.tool_calls);\n                return {\n                    ...choice,\n                    message: {\n                        ...choice.message,\n                        parsed: null,\n                        ...(choice.message.tool_calls ?\n                            {\n                                tool_calls: choice.message.tool_calls,\n                            }\n                            : undefined),\n                    },\n                };\n            }),\n        };\n    }\n    return parseChatCompletion(completion, params);\n}\nfunction parseChatCompletion(completion, params) {\n    const choices = completion.choices.map((choice) => {\n        if (choice.finish_reason === 'length') {\n            throw new error_1.LengthFinishReasonError();\n        }\n        if (choice.finish_reason === 'content_filter') {\n            throw new error_1.ContentFilterFinishReasonError();\n        }\n        assertToolCallsAreChatCompletionFunctionToolCalls(choice.message.tool_calls);\n        return {\n            ...choice,\n            message: {\n                ...choice.message,\n                ...(choice.message.tool_calls ?\n                    {\n                        tool_calls: choice.message.tool_calls?.map((toolCall) => parseToolCall(params, toolCall)) ?? undefined,\n                    }\n                    : undefined),\n                parsed: choice.message.content && !choice.message.refusal ?\n                    parseResponseFormat(params, choice.message.content)\n                    : null,\n            },\n        };\n    });\n    return { ...completion, choices };\n}\nfunction parseResponseFormat(params, content) {\n    if (params.response_format?.type !== 'json_schema') {\n        return null;\n    }\n    if (params.response_format?.type === 'json_schema') {\n        if ('$parseRaw' in params.response_format) {\n            const response_format = params.response_format;\n            return response_format.$parseRaw(content);\n        }\n        return JSON.parse(content);\n    }\n    return null;\n}\nfunction parseToolCall(params, toolCall) {\n    const inputTool = params.tools?.find((inputTool) => isChatCompletionFunctionTool(inputTool) && inputTool.function?.name === toolCall.function.name); // TS doesn't narrow based on isChatCompletionTool\n    return {\n        ...toolCall,\n        function: {\n            ...toolCall.function,\n            parsed_arguments: isAutoParsableTool(inputTool) ? inputTool.$parseRaw(toolCall.function.arguments)\n                : inputTool?.function.strict ? JSON.parse(toolCall.function.arguments)\n                    : null,\n        },\n    };\n}\nfunction shouldParseToolCall(params, toolCall) {\n    if (!params || !('tools' in params) || !params.tools) {\n        return false;\n    }\n    const inputTool = params.tools?.find((inputTool) => isChatCompletionFunctionTool(inputTool) && inputTool.function?.name === toolCall.function.name);\n    return (isChatCompletionFunctionTool(inputTool) &&\n        (isAutoParsableTool(inputTool) || inputTool?.function.strict || false));\n}\nfunction hasAutoParseableInput(params) {\n    if (isAutoParsableResponseFormat(params.response_format)) {\n        return true;\n    }\n    return (params.tools?.some((t) => isAutoParsableTool(t) || (t.type === 'function' && t.function.strict === true)) ?? false);\n}\nfunction assertToolCallsAreChatCompletionFunctionToolCalls(toolCalls) {\n    for (const toolCall of toolCalls || []) {\n        if (toolCall.type !== 'function') {\n            throw new error_1.OpenAIError(`Currently only \\`function\\` tool calls are supported; Received \\`${toolCall.type}\\``);\n        }\n    }\n}\nfunction validateInputTools(tools) {\n    for (const tool of tools ?? []) {\n        if (tool.type !== 'function') {\n            throw new error_1.OpenAIError(`Currently only \\`function\\` tool types support auto-parsing; Received \\`${tool.type}\\``);\n        }\n        if (tool.function.strict !== true) {\n            throw new error_1.OpenAIError(`The \\`${tool.function.name}\\` tool is not marked with \\`strict: true\\`. Only strict function tools can be auto-parsed`);\n        }\n    }\n}\n//# sourceMappingURL=parser.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FineTuning = void 0;\nconst tslib_1 = require(\"../../internal/tslib.js\");\nconst resource_1 = require(\"../../core/resource.js\");\nconst MethodsAPI = tslib_1.__importStar(require(\"./methods.js\"));\nconst methods_1 = require(\"./methods.js\");\nconst AlphaAPI = tslib_1.__importStar(require(\"./alpha/alpha.js\"));\nconst alpha_1 = require(\"./alpha/alpha.js\");\nconst CheckpointsAPI = tslib_1.__importStar(require(\"./checkpoints/checkpoints.js\"));\nconst checkpoints_1 = require(\"./checkpoints/checkpoints.js\");\nconst JobsAPI = tslib_1.__importStar(require(\"./jobs/jobs.js\"));\nconst jobs_1 = require(\"./jobs/jobs.js\");\nclass FineTuning extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.methods = new MethodsAPI.Methods(this._client);\n        this.jobs = new JobsAPI.Jobs(this._client);\n        this.checkpoints = new CheckpointsAPI.Checkpoints(this._client);\n        this.alpha = new AlphaAPI.Alpha(this._client);\n    }\n}\nexports.FineTuning = FineTuning;\nFineTuning.Methods = methods_1.Methods;\nFineTuning.Jobs = jobs_1.Jobs;\nFineTuning.Checkpoints = checkpoints_1.Checkpoints;\nFineTuning.Alpha = alpha_1.Alpha;\n//# sourceMappingURL=fine-tuning.js.map","/**\n * Module dependencies.\n */\n\nvar tty = require('tty');\nvar util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // camel-case\n  var prop = key\n    .substring(6)\n    .toLowerCase()\n    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\n\n  // coerce string value into JS value\n  var val = process.env[key];\n  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\n  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\n  else if (val === 'null') val = null;\n  else val = Number(val);\n\n  obj[prop] = val;\n  return obj;\n}, {});\n\n/**\n * The file descriptor to write the `debug()` calls to.\n * Set the `DEBUG_FD` env variable to override with another value. i.e.:\n *\n *   $ DEBUG_FD=3 node script.js 3>debug.log\n */\n\nvar fd = parseInt(process.env.DEBUG_FD, 10) || 2;\n\nif (1 !== fd && 2 !== fd) {\n  util.deprecate(function(){}, 'except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)')()\n}\n\nvar stream = 1 === fd ? process.stdout :\n             2 === fd ? process.stderr :\n             createWritableStdioStream(fd);\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts\n    ? Boolean(exports.inspectOpts.colors)\n    : tty.isatty(fd);\n}\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nexports.formatters.o = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n').map(function(str) {\n      return str.trim()\n    }).join(' ');\n};\n\n/**\n * Map %o to `util.inspect()`, allowing multiple lines if needed.\n */\n\nexports.formatters.O = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var name = this.namespace;\n  var useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var prefix = '  \\u001b[3' + c + ';1m' + name + ' ' + '\\u001b[0m';\n\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push('\\u001b[3' + c + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\n  } else {\n    args[0] = new Date().toUTCString()\n      + ' ' + name + ' ' + args[0];\n  }\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to `stream`.\n */\n\nfunction log() {\n  return stream.write(util.format.apply(util, arguments) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  if (null == namespaces) {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  } else {\n    process.env.DEBUG = namespaces;\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  return process.env.DEBUG;\n}\n\n/**\n * Copied from `node/src/node.js`.\n *\n * XXX: It's lame that node doesn't expose this API out-of-the-box. It also\n * relies on the undocumented `tty_wrap.guessHandleType()` which is also lame.\n */\n\nfunction createWritableStdioStream (fd) {\n  var stream;\n  var tty_wrap = process.binding('tty_wrap');\n\n  // Note stream._type is used for test-module-load-list.js\n\n  switch (tty_wrap.guessHandleType(fd)) {\n    case 'TTY':\n      stream = new tty.WriteStream(fd);\n      stream._type = 'tty';\n\n      // Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    case 'FILE':\n      var fs = require('fs');\n      stream = new fs.SyncWriteStream(fd, { autoClose: false });\n      stream._type = 'fs';\n      break;\n\n    case 'PIPE':\n    case 'TCP':\n      var net = require('net');\n      stream = new net.Socket({\n        fd: fd,\n        readable: false,\n        writable: true\n      });\n\n      // FIXME Should probably have an option in net.Socket to create a\n      // stream from an existing fd which is writable only. But for now\n      // we'll just add this hack and set the `readable` member to false.\n      // Test: ./node test/fixtures/echo.js < /etc/passwd\n      stream.readable = false;\n      stream.read = null;\n      stream._type = 'pipe';\n\n      // FIXME Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    default:\n      // Probably an error on in uv_guess_handle()\n      throw new Error('Implement me. Unknown stream file type!');\n  }\n\n  // For supporting legacy API we put the FD here.\n  stream.fd = fd;\n\n  stream._isStdio = true;\n\n  return stream;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init (debug) {\n  debug.inspectOpts = {};\n\n  var keys = Object.keys(exports.inspectOpts);\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\n/**\n * Enable namespaces listed in `process.env.DEBUG` initially.\n */\n\nexports.enable(load());\n","'use strict';\n\nvar reflectGetProto = require('./Reflect.getPrototypeOf');\nvar originalGetProto = require('./Object.getPrototypeOf');\n\nvar getDunderProto = require('dunder-proto/get');\n\n/** @type {import('.')} */\nmodule.exports = reflectGetProto\n\t? function getProto(O) {\n\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\treturn reflectGetProto(O);\n\t}\n\t: originalGetProto\n\t\t? function getProto(O) {\n\t\t\tif (!O || (typeof O !== 'object' && typeof O !== 'function')) {\n\t\t\t\tthrow new TypeError('getProto: not an object');\n\t\t\t}\n\t\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\t\treturn originalGetProto(O);\n\t\t}\n\t\t: getDunderProto\n\t\t\t? function getProto(O) {\n\t\t\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\t\t\treturn getDunderProto(O);\n\t\t\t}\n\t\t\t: null;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MalformedJSON = exports.PartialJSON = exports.partialParse = void 0;\nconst STR = 0b000000001;\nconst NUM = 0b000000010;\nconst ARR = 0b000000100;\nconst OBJ = 0b000001000;\nconst NULL = 0b000010000;\nconst BOOL = 0b000100000;\nconst NAN = 0b001000000;\nconst INFINITY = 0b010000000;\nconst MINUS_INFINITY = 0b100000000;\nconst INF = INFINITY | MINUS_INFINITY;\nconst SPECIAL = NULL | BOOL | INF | NAN;\nconst ATOM = STR | NUM | SPECIAL;\nconst COLLECTION = ARR | OBJ;\nconst ALL = ATOM | COLLECTION;\nconst Allow = {\n    STR,\n    NUM,\n    ARR,\n    OBJ,\n    NULL,\n    BOOL,\n    NAN,\n    INFINITY,\n    MINUS_INFINITY,\n    INF,\n    SPECIAL,\n    ATOM,\n    COLLECTION,\n    ALL,\n};\n// The JSON string segment was unable to be parsed completely\nclass PartialJSON extends Error {\n}\nexports.PartialJSON = PartialJSON;\nclass MalformedJSON extends Error {\n}\nexports.MalformedJSON = MalformedJSON;\n/**\n * Parse incomplete JSON\n * @param {string} jsonString Partial JSON to be parsed\n * @param {number} allowPartial Specify what types are allowed to be partial, see {@link Allow} for details\n * @returns The parsed JSON\n * @throws {PartialJSON} If the JSON is incomplete (related to the `allow` parameter)\n * @throws {MalformedJSON} If the JSON is malformed\n */\nfunction parseJSON(jsonString, allowPartial = Allow.ALL) {\n    if (typeof jsonString !== 'string') {\n        throw new TypeError(`expecting str, got ${typeof jsonString}`);\n    }\n    if (!jsonString.trim()) {\n        throw new Error(`${jsonString} is empty`);\n    }\n    return _parseJSON(jsonString.trim(), allowPartial);\n}\nconst _parseJSON = (jsonString, allow) => {\n    const length = jsonString.length;\n    let index = 0;\n    const markPartialJSON = (msg) => {\n        throw new PartialJSON(`${msg} at position ${index}`);\n    };\n    const throwMalformedError = (msg) => {\n        throw new MalformedJSON(`${msg} at position ${index}`);\n    };\n    const parseAny = () => {\n        skipBlank();\n        if (index >= length)\n            markPartialJSON('Unexpected end of input');\n        if (jsonString[index] === '\"')\n            return parseStr();\n        if (jsonString[index] === '{')\n            return parseObj();\n        if (jsonString[index] === '[')\n            return parseArr();\n        if (jsonString.substring(index, index + 4) === 'null' ||\n            (Allow.NULL & allow && length - index < 4 && 'null'.startsWith(jsonString.substring(index)))) {\n            index += 4;\n            return null;\n        }\n        if (jsonString.substring(index, index + 4) === 'true' ||\n            (Allow.BOOL & allow && length - index < 4 && 'true'.startsWith(jsonString.substring(index)))) {\n            index += 4;\n            return true;\n        }\n        if (jsonString.substring(index, index + 5) === 'false' ||\n            (Allow.BOOL & allow && length - index < 5 && 'false'.startsWith(jsonString.substring(index)))) {\n            index += 5;\n            return false;\n        }\n        if (jsonString.substring(index, index + 8) === 'Infinity' ||\n            (Allow.INFINITY & allow && length - index < 8 && 'Infinity'.startsWith(jsonString.substring(index)))) {\n            index += 8;\n            return Infinity;\n        }\n        if (jsonString.substring(index, index + 9) === '-Infinity' ||\n            (Allow.MINUS_INFINITY & allow &&\n                1 < length - index &&\n                length - index < 9 &&\n                '-Infinity'.startsWith(jsonString.substring(index)))) {\n            index += 9;\n            return -Infinity;\n        }\n        if (jsonString.substring(index, index + 3) === 'NaN' ||\n            (Allow.NAN & allow && length - index < 3 && 'NaN'.startsWith(jsonString.substring(index)))) {\n            index += 3;\n            return NaN;\n        }\n        return parseNum();\n    };\n    const parseStr = () => {\n        const start = index;\n        let escape = false;\n        index++; // skip initial quote\n        while (index < length && (jsonString[index] !== '\"' || (escape && jsonString[index - 1] === '\\\\'))) {\n            escape = jsonString[index] === '\\\\' ? !escape : false;\n            index++;\n        }\n        if (jsonString.charAt(index) == '\"') {\n            try {\n                return JSON.parse(jsonString.substring(start, ++index - Number(escape)));\n            }\n            catch (e) {\n                throwMalformedError(String(e));\n            }\n        }\n        else if (Allow.STR & allow) {\n            try {\n                return JSON.parse(jsonString.substring(start, index - Number(escape)) + '\"');\n            }\n            catch (e) {\n                // SyntaxError: Invalid escape sequence\n                return JSON.parse(jsonString.substring(start, jsonString.lastIndexOf('\\\\')) + '\"');\n            }\n        }\n        markPartialJSON('Unterminated string literal');\n    };\n    const parseObj = () => {\n        index++; // skip initial brace\n        skipBlank();\n        const obj = {};\n        try {\n            while (jsonString[index] !== '}') {\n                skipBlank();\n                if (index >= length && Allow.OBJ & allow)\n                    return obj;\n                const key = parseStr();\n                skipBlank();\n                index++; // skip colon\n                try {\n                    const value = parseAny();\n                    Object.defineProperty(obj, key, { value, writable: true, enumerable: true, configurable: true });\n                }\n                catch (e) {\n                    if (Allow.OBJ & allow)\n                        return obj;\n                    else\n                        throw e;\n                }\n                skipBlank();\n                if (jsonString[index] === ',')\n                    index++; // skip comma\n            }\n        }\n        catch (e) {\n            if (Allow.OBJ & allow)\n                return obj;\n            else\n                markPartialJSON(\"Expected '}' at end of object\");\n        }\n        index++; // skip final brace\n        return obj;\n    };\n    const parseArr = () => {\n        index++; // skip initial bracket\n        const arr = [];\n        try {\n            while (jsonString[index] !== ']') {\n                arr.push(parseAny());\n                skipBlank();\n                if (jsonString[index] === ',') {\n                    index++; // skip comma\n                }\n            }\n        }\n        catch (e) {\n            if (Allow.ARR & allow) {\n                return arr;\n            }\n            markPartialJSON(\"Expected ']' at end of array\");\n        }\n        index++; // skip final bracket\n        return arr;\n    };\n    const parseNum = () => {\n        if (index === 0) {\n            if (jsonString === '-' && Allow.NUM & allow)\n                markPartialJSON(\"Not sure what '-' is\");\n            try {\n                return JSON.parse(jsonString);\n            }\n            catch (e) {\n                if (Allow.NUM & allow) {\n                    try {\n                        if ('.' === jsonString[jsonString.length - 1])\n                            return JSON.parse(jsonString.substring(0, jsonString.lastIndexOf('.')));\n                        return JSON.parse(jsonString.substring(0, jsonString.lastIndexOf('e')));\n                    }\n                    catch (e) { }\n                }\n                throwMalformedError(String(e));\n            }\n        }\n        const start = index;\n        if (jsonString[index] === '-')\n            index++;\n        while (jsonString[index] && !',]}'.includes(jsonString[index]))\n            index++;\n        if (index == length && !(Allow.NUM & allow))\n            markPartialJSON('Unterminated number literal');\n        try {\n            return JSON.parse(jsonString.substring(start, index));\n        }\n        catch (e) {\n            if (jsonString.substring(start, index) === '-' && Allow.NUM & allow)\n                markPartialJSON(\"Not sure what '-' is\");\n            try {\n                return JSON.parse(jsonString.substring(start, jsonString.lastIndexOf('e')));\n            }\n            catch (e) {\n                throwMalformedError(String(e));\n            }\n        }\n    };\n    const skipBlank = () => {\n        while (index < length && ' \\n\\r\\t'.includes(jsonString[index])) {\n            index++;\n        }\n    };\n    return parseAny();\n};\n// using this function with malformed JSON is undefined behavior\nconst partialParse = (input) => parseJSON(input, Allow.ALL ^ Allow.NUM);\nexports.partialParse = partialParse;\n//# sourceMappingURL=parser.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Transcriptions = void 0;\nconst resource_1 = require(\"../../core/resource.js\");\nconst uploads_1 = require(\"../../internal/uploads.js\");\nclass Transcriptions extends resource_1.APIResource {\n    create(body, options) {\n        return this._client.post('/audio/transcriptions', (0, uploads_1.multipartFormRequestOptions)({\n            body,\n            ...options,\n            stream: body.stream ?? false,\n            __metadata: { model: body.model },\n        }, this._client));\n    }\n}\nexports.Transcriptions = Transcriptions;\n//# sourceMappingURL=transcriptions.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Realtime = void 0;\nconst tslib_1 = require(\"../../../internal/tslib.js\");\nconst resource_1 = require(\"../../../core/resource.js\");\nconst SessionsAPI = tslib_1.__importStar(require(\"./sessions.js\"));\nconst sessions_1 = require(\"./sessions.js\");\nconst TranscriptionSessionsAPI = tslib_1.__importStar(require(\"./transcription-sessions.js\"));\nconst transcription_sessions_1 = require(\"./transcription-sessions.js\");\n/**\n * @deprecated Realtime has now launched and is generally available. The old beta API is now deprecated.\n */\nclass Realtime extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.sessions = new SessionsAPI.Sessions(this._client);\n        this.transcriptionSessions = new TranscriptionSessionsAPI.TranscriptionSessions(this._client);\n    }\n}\nexports.Realtime = Realtime;\nRealtime.Sessions = sessions_1.Sessions;\nRealtime.TranscriptionSessions = transcription_sessions_1.TranscriptionSessions;\n//# sourceMappingURL=realtime.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Files = void 0;\nconst resource_1 = require(\"../../core/resource.js\");\nconst pagination_1 = require(\"../../core/pagination.js\");\nconst headers_1 = require(\"../../internal/headers.js\");\nconst utils_1 = require(\"../../internal/utils.js\");\nconst path_1 = require(\"../../internal/utils/path.js\");\nclass Files extends resource_1.APIResource {\n    /**\n     * Create a vector store file by attaching a\n     * [File](https://platform.openai.com/docs/api-reference/files) to a\n     * [vector store](https://platform.openai.com/docs/api-reference/vector-stores/object).\n     */\n    create(vectorStoreID, body, options) {\n        return this._client.post((0, path_1.path) `/vector_stores/${vectorStoreID}/files`, {\n            body,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Retrieves a vector store file.\n     */\n    retrieve(fileID, params, options) {\n        const { vector_store_id } = params;\n        return this._client.get((0, path_1.path) `/vector_stores/${vector_store_id}/files/${fileID}`, {\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Update attributes on a vector store file.\n     */\n    update(fileID, params, options) {\n        const { vector_store_id, ...body } = params;\n        return this._client.post((0, path_1.path) `/vector_stores/${vector_store_id}/files/${fileID}`, {\n            body,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Returns a list of vector store files.\n     */\n    list(vectorStoreID, query = {}, options) {\n        return this._client.getAPIList((0, path_1.path) `/vector_stores/${vectorStoreID}/files`, (pagination_1.CursorPage), {\n            query,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Delete a vector store file. This will remove the file from the vector store but\n     * the file itself will not be deleted. To delete the file, use the\n     * [delete file](https://platform.openai.com/docs/api-reference/files/delete)\n     * endpoint.\n     */\n    delete(fileID, params, options) {\n        const { vector_store_id } = params;\n        return this._client.delete((0, path_1.path) `/vector_stores/${vector_store_id}/files/${fileID}`, {\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Attach a file to the given vector store and wait for it to be processed.\n     */\n    async createAndPoll(vectorStoreId, body, options) {\n        const file = await this.create(vectorStoreId, body, options);\n        return await this.poll(vectorStoreId, file.id, options);\n    }\n    /**\n     * Wait for the vector store file to finish processing.\n     *\n     * Note: this will return even if the file failed to process, you need to check\n     * file.last_error and file.status to handle these cases\n     */\n    async poll(vectorStoreID, fileID, options) {\n        const headers = (0, headers_1.buildHeaders)([\n            options?.headers,\n            {\n                'X-Stainless-Poll-Helper': 'true',\n                'X-Stainless-Custom-Poll-Interval': options?.pollIntervalMs?.toString() ?? undefined,\n            },\n        ]);\n        while (true) {\n            const fileResponse = await this.retrieve(fileID, {\n                vector_store_id: vectorStoreID,\n            }, { ...options, headers }).withResponse();\n            const file = fileResponse.data;\n            switch (file.status) {\n                case 'in_progress':\n                    let sleepInterval = 5000;\n                    if (options?.pollIntervalMs) {\n                        sleepInterval = options.pollIntervalMs;\n                    }\n                    else {\n                        const headerInterval = fileResponse.response.headers.get('openai-poll-after-ms');\n                        if (headerInterval) {\n                            const headerIntervalMs = parseInt(headerInterval);\n                            if (!isNaN(headerIntervalMs)) {\n                                sleepInterval = headerIntervalMs;\n                            }\n                        }\n                    }\n                    await (0, utils_1.sleep)(sleepInterval);\n                    break;\n                case 'failed':\n                case 'completed':\n                    return file;\n            }\n        }\n    }\n    /**\n     * Upload a file to the `files` API and then attach it to the given vector store.\n     *\n     * Note the file will be asynchronously processed (you can use the alternative\n     * polling helper method to wait for processing to complete).\n     */\n    async upload(vectorStoreId, file, options) {\n        const fileInfo = await this._client.files.create({ file: file, purpose: 'assistants' }, options);\n        return this.create(vectorStoreId, { file_id: fileInfo.id }, options);\n    }\n    /**\n     * Add a file to a vector store and poll until processing is complete.\n     */\n    async uploadAndPoll(vectorStoreId, file, options) {\n        const fileInfo = await this.upload(vectorStoreId, file, options);\n        return await this.poll(vectorStoreId, fileInfo.id, options);\n    }\n    /**\n     * Retrieve the parsed contents of a vector store file.\n     */\n    content(fileID, params, options) {\n        const { vector_store_id } = params;\n        return this._client.getAPIList((0, path_1.path) `/vector_stores/${vector_store_id}/files/${fileID}/content`, (pagination_1.Page), { ...options, headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]) });\n    }\n}\nexports.Files = Files;\n//# sourceMappingURL=files.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formatRequestDetails = exports.parseLogLevel = void 0;\nexports.loggerFor = loggerFor;\nconst values_1 = require(\"./values.js\");\nconst levelNumbers = {\n    off: 0,\n    error: 200,\n    warn: 300,\n    info: 400,\n    debug: 500,\n};\nconst parseLogLevel = (maybeLevel, sourceName, client) => {\n    if (!maybeLevel) {\n        return undefined;\n    }\n    if ((0, values_1.hasOwn)(levelNumbers, maybeLevel)) {\n        return maybeLevel;\n    }\n    loggerFor(client).warn(`${sourceName} was set to ${JSON.stringify(maybeLevel)}, expected one of ${JSON.stringify(Object.keys(levelNumbers))}`);\n    return undefined;\n};\nexports.parseLogLevel = parseLogLevel;\nfunction noop() { }\nfunction makeLogFn(fnLevel, logger, logLevel) {\n    if (!logger || levelNumbers[fnLevel] > levelNumbers[logLevel]) {\n        return noop;\n    }\n    else {\n        // Don't wrap logger functions, we want the stacktrace intact!\n        return logger[fnLevel].bind(logger);\n    }\n}\nconst noopLogger = {\n    error: noop,\n    warn: noop,\n    info: noop,\n    debug: noop,\n};\nlet cachedLoggers = /* @__PURE__ */ new WeakMap();\nfunction loggerFor(client) {\n    const logger = client.logger;\n    const logLevel = client.logLevel ?? 'off';\n    if (!logger) {\n        return noopLogger;\n    }\n    const cachedLogger = cachedLoggers.get(logger);\n    if (cachedLogger && cachedLogger[0] === logLevel) {\n        return cachedLogger[1];\n    }\n    const levelLogger = {\n        error: makeLogFn('error', logger, logLevel),\n        warn: makeLogFn('warn', logger, logLevel),\n        info: makeLogFn('info', logger, logLevel),\n        debug: makeLogFn('debug', logger, logLevel),\n    };\n    cachedLoggers.set(logger, [logLevel, levelLogger]);\n    return levelLogger;\n}\nconst formatRequestDetails = (details) => {\n    if (details.options) {\n        details.options = { ...details.options };\n        delete details.options['headers']; // redundant + leaks internals\n    }\n    if (details.headers) {\n        details.headers = Object.fromEntries((details.headers instanceof Headers ? [...details.headers] : Object.entries(details.headers)).map(([name, value]) => [\n            name,\n            (name.toLowerCase() === 'authorization' ||\n                name.toLowerCase() === 'cookie' ||\n                name.toLowerCase() === 'set-cookie') ?\n                '***'\n                : value,\n        ]));\n    }\n    if ('retryOfRequestLogID' in details) {\n        if (details.retryOfRequestLogID) {\n            details.retryOf = details.retryOfRequestLogID;\n        }\n        delete details.retryOfRequestLogID;\n    }\n    return details;\n};\nexports.formatRequestDetails = formatRequestDetails;\n//# sourceMappingURL=log.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sessions = void 0;\nconst resource_1 = require(\"../../../core/resource.js\");\nconst headers_1 = require(\"../../../internal/headers.js\");\nclass Sessions extends resource_1.APIResource {\n    /**\n     * Create an ephemeral API token for use in client-side applications with the\n     * Realtime API. Can be configured with the same session parameters as the\n     * `session.update` client event.\n     *\n     * It responds with a session object, plus a `client_secret` key which contains a\n     * usable ephemeral API token that can be used to authenticate browser clients for\n     * the Realtime API.\n     *\n     * @example\n     * ```ts\n     * const session =\n     *   await client.beta.realtime.sessions.create();\n     * ```\n     */\n    create(body, options) {\n        return this._client.post('/realtime/sessions', {\n            body,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n}\nexports.Sessions = Sessions;\n//# sourceMappingURL=sessions.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Webhooks = exports.Videos = exports.VectorStores = exports.Uploads = exports.Responses = exports.Realtime = exports.Moderations = exports.Models = exports.Images = exports.Graders = exports.FineTuning = exports.Files = exports.Evals = exports.Embeddings = exports.Conversations = exports.Containers = exports.Completions = exports.Beta = exports.Batches = exports.Audio = void 0;\nconst tslib_1 = require(\"../internal/tslib.js\");\ntslib_1.__exportStar(require(\"./chat/index.js\"), exports);\ntslib_1.__exportStar(require(\"./shared.js\"), exports);\nvar audio_1 = require(\"./audio/audio.js\");\nObject.defineProperty(exports, \"Audio\", { enumerable: true, get: function () { return audio_1.Audio; } });\nvar batches_1 = require(\"./batches.js\");\nObject.defineProperty(exports, \"Batches\", { enumerable: true, get: function () { return batches_1.Batches; } });\nvar beta_1 = require(\"./beta/beta.js\");\nObject.defineProperty(exports, \"Beta\", { enumerable: true, get: function () { return beta_1.Beta; } });\nvar completions_1 = require(\"./completions.js\");\nObject.defineProperty(exports, \"Completions\", { enumerable: true, get: function () { return completions_1.Completions; } });\nvar containers_1 = require(\"./containers/containers.js\");\nObject.defineProperty(exports, \"Containers\", { enumerable: true, get: function () { return containers_1.Containers; } });\nvar conversations_1 = require(\"./conversations/conversations.js\");\nObject.defineProperty(exports, \"Conversations\", { enumerable: true, get: function () { return conversations_1.Conversations; } });\nvar embeddings_1 = require(\"./embeddings.js\");\nObject.defineProperty(exports, \"Embeddings\", { enumerable: true, get: function () { return embeddings_1.Embeddings; } });\nvar evals_1 = require(\"./evals/evals.js\");\nObject.defineProperty(exports, \"Evals\", { enumerable: true, get: function () { return evals_1.Evals; } });\nvar files_1 = require(\"./files.js\");\nObject.defineProperty(exports, \"Files\", { enumerable: true, get: function () { return files_1.Files; } });\nvar fine_tuning_1 = require(\"./fine-tuning/fine-tuning.js\");\nObject.defineProperty(exports, \"FineTuning\", { enumerable: true, get: function () { return fine_tuning_1.FineTuning; } });\nvar graders_1 = require(\"./graders/graders.js\");\nObject.defineProperty(exports, \"Graders\", { enumerable: true, get: function () { return graders_1.Graders; } });\nvar images_1 = require(\"./images.js\");\nObject.defineProperty(exports, \"Images\", { enumerable: true, get: function () { return images_1.Images; } });\nvar models_1 = require(\"./models.js\");\nObject.defineProperty(exports, \"Models\", { enumerable: true, get: function () { return models_1.Models; } });\nvar moderations_1 = require(\"./moderations.js\");\nObject.defineProperty(exports, \"Moderations\", { enumerable: true, get: function () { return moderations_1.Moderations; } });\nvar realtime_1 = require(\"./realtime/realtime.js\");\nObject.defineProperty(exports, \"Realtime\", { enumerable: true, get: function () { return realtime_1.Realtime; } });\nvar responses_1 = require(\"./responses/responses.js\");\nObject.defineProperty(exports, \"Responses\", { enumerable: true, get: function () { return responses_1.Responses; } });\nvar uploads_1 = require(\"./uploads/uploads.js\");\nObject.defineProperty(exports, \"Uploads\", { enumerable: true, get: function () { return uploads_1.Uploads; } });\nvar vector_stores_1 = require(\"./vector-stores/vector-stores.js\");\nObject.defineProperty(exports, \"VectorStores\", { enumerable: true, get: function () { return vector_stores_1.VectorStores; } });\nvar videos_1 = require(\"./videos.js\");\nObject.defineProperty(exports, \"Videos\", { enumerable: true, get: function () { return videos_1.Videos; } });\nvar webhooks_1 = require(\"./webhooks.js\");\nObject.defineProperty(exports, \"Webhooks\", { enumerable: true, get: function () { return webhooks_1.Webhooks; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Checkpoints = void 0;\nconst resource_1 = require(\"../../../core/resource.js\");\nconst pagination_1 = require(\"../../../core/pagination.js\");\nconst path_1 = require(\"../../../internal/utils/path.js\");\nclass Checkpoints extends resource_1.APIResource {\n    /**\n     * List checkpoints for a fine-tuning job.\n     *\n     * @example\n     * ```ts\n     * // Automatically fetches more pages as needed.\n     * for await (const fineTuningJobCheckpoint of client.fineTuning.jobs.checkpoints.list(\n     *   'ft-AF1WoRqd3aJAHsqc9NY7iL8F',\n     * )) {\n     *   // ...\n     * }\n     * ```\n     */\n    list(fineTuningJobID, query = {}, options) {\n        return this._client.getAPIList((0, path_1.path) `/fine_tuning/jobs/${fineTuningJobID}/checkpoints`, (pagination_1.CursorPage), { query, ...options });\n    }\n}\nexports.Checkpoints = Checkpoints;\n//# sourceMappingURL=checkpoints.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ClientSecrets = void 0;\nconst resource_1 = require(\"../../core/resource.js\");\nclass ClientSecrets extends resource_1.APIResource {\n    /**\n     * Create a Realtime client secret with an associated session configuration.\n     *\n     * @example\n     * ```ts\n     * const clientSecret =\n     *   await client.realtime.clientSecrets.create();\n     * ```\n     */\n    create(body, options) {\n        return this._client.post('/realtime/client_secrets', { body, ...options });\n    }\n}\nexports.ClientSecrets = ClientSecrets;\n//# sourceMappingURL=client-secrets.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sessions = void 0;\nconst resource_1 = require(\"../../../core/resource.js\");\nconst headers_1 = require(\"../../../internal/headers.js\");\nconst path_1 = require(\"../../../internal/utils/path.js\");\nclass Sessions extends resource_1.APIResource {\n    /**\n     * Create a ChatKit session\n     *\n     * @example\n     * ```ts\n     * const chatSession =\n     *   await client.beta.chatkit.sessions.create({\n     *     user: 'x',\n     *     workflow: { id: 'id' },\n     *   });\n     * ```\n     */\n    create(body, options) {\n        return this._client.post('/chatkit/sessions', {\n            body,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'chatkit_beta=v1' }, options?.headers]),\n        });\n    }\n    /**\n     * Cancel a ChatKit session\n     *\n     * @example\n     * ```ts\n     * const chatSession =\n     *   await client.beta.chatkit.sessions.cancel('cksess_123');\n     * ```\n     */\n    cancel(sessionID, options) {\n        return this._client.post((0, path_1.path) `/chatkit/sessions/${sessionID}/cancel`, {\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'chatkit_beta=v1' }, options?.headers]),\n        });\n    }\n}\nexports.Sessions = Sessions;\n//# sourceMappingURL=sessions.js.map","const vscode = require(\"vscode\");\r\n\r\n// Import core modules\r\nconst Logger = require(\"./src/utils/logger\");\r\nconst PerformanceMonitor = require(\"./src/core/performanceMonitor\");\r\nconst AgentController = require(\"./src/core/agentController\");\r\n\r\nconst ExplainCommand = require(\"./src/commands/explainCommand\");\r\nconst RefactorCommand = require(\"./src/commands/refactorCommand\");\r\nconst AnalyzeCommand = require(\"./src/commands/analyzeCommand\");\r\nconst ApiKeyCommand = require(\"./src/commands/apiKeyCommand\");\r\nconst AuditLogger = require(\"./src/enterprise/auditLogger\");\r\nconst NoxChatViewProvider = require(\"./src/webview/chatSidebar\");\r\n\r\n/**\r\n * 🦊 Nox - AI Coding Fox VS Code Extension\r\n * Your clever AI companion for enterprise-scale development\r\n */\r\nclass NoxExtension {\r\n  constructor() {\r\n    this.context = null;\r\n    this.logger = null;\r\n    this.performanceMonitor = null;\r\n    this.agentController = null;\r\n    this.auditLogger = null;\r\n    this.chatSidebarProvider = null;\r\n    this.isActivated = false;\r\n  }\r\n\r\n  /**\r\n   * Extension activation - called when VS Code starts or extension is activated\r\n   */\r\n  async activate(context) {\r\n    const startTime = Date.now();\r\n\r\n    try {\r\n      console.log(\"🦊 Step 1: Setting context...\");\r\n      this.context = context;\r\n\r\n      console.log(\"🦊 Step 2: Initializing core services...\");\r\n      // Initialize core services\r\n      await this.initializeCore();\r\n\r\n      console.log(\"🦊 Step 3: Registering commands...\");\r\n      // Register commands\r\n      await this.registerCommands();\r\n\r\n      console.log(\"🦊 Step 4: Registering sidebar provider...\");\r\n      // Register sidebar provider\r\n      await this.registerSidebarProvider();\r\n\r\n      console.log(\"🦊 Step 5: Setting up event listeners...\");\r\n      // Set up event listeners\r\n      this.setupEventListeners();\r\n\r\n      console.log(\"🦊 Step 6: Marking as activated...\");\r\n      // Mark as activated\r\n      this.isActivated = true;\r\n      await vscode.commands.executeCommand(\"setContext\", \"nox.activated\", true);\r\n\r\n      const activationTime = Date.now() - startTime;\r\n      console.log(`🦊 Step 7: Activation completed in ${activationTime}ms`);\r\n      this.logger.info(\r\n        `🦊 Nox extension activated successfully in ${activationTime}ms`\r\n      );\r\n      this.performanceMonitor.recordMetric(\"activation_time\", activationTime);\r\n\r\n      console.log(\"🦊 Step 8: Showing welcome message...\");\r\n      // Show welcome message for first-time users\r\n      await this.showWelcomeMessage();\r\n    } catch (error) {\r\n      this.logger.error(\"Failed to activate Agent extension:\", error);\r\n      vscode.window.showErrorMessage(\r\n        `Agent extension failed to activate: ${error.message}`\r\n      );\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Initialize core services with error handling\r\n   */\r\n  async initializeCore() {\r\n    try {\r\n      console.log(\"🦊 Core Step 1: Creating logger...\");\r\n      // Initialize logger first\r\n      this.logger = new Logger(this.context);\r\n      this.logger.info(\"Initializing Nox extension core services...\");\r\n\r\n      console.log(\"🦊 Core Step 2: Creating performance monitor...\");\r\n      // Initialize performance monitoring\r\n      this.performanceMonitor = new PerformanceMonitor(\r\n        this.context,\r\n        this.logger\r\n      );\r\n\r\n      console.log(\"🦊 Core Step 3: Creating audit logger...\");\r\n      // Initialize audit logging\r\n      this.auditLogger = new AuditLogger(this.context, this.logger);\r\n\r\n      console.log(\"🦊 Core Step 4: Creating agent controller...\");\r\n      // Initialize main agent controller\r\n      this.agentController = new AgentController(\r\n        this.context,\r\n        this.logger,\r\n        this.performanceMonitor\r\n      );\r\n\r\n      console.log(\"🦊 Core Step 5: Initializing agent controller...\");\r\n      await this.agentController.initialize();\r\n\r\n      console.log(\"🦊 Core Step 6: Core services initialized!\");\r\n      this.logger.info(\"Core services initialized successfully\");\r\n    } catch (error) {\r\n      console.error(\"🦊 Core initialization failed:\", error);\r\n      if (this.logger) {\r\n        this.logger.error(\"Failed to initialize core services:\", error);\r\n      }\r\n      throw new Error(`Core initialization failed: ${error.message}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Register all VS Code commands\r\n   */\r\n  async registerCommands() {\r\n    try {\r\n      const commands = [\r\n        // Chat command (focus sidebar)\r\n        vscode.commands.registerCommand(\"nox.chat\", async () => {\r\n          // Focus the Nox sidebar\r\n          await vscode.commands.executeCommand(\"workbench.view.extension.nox\");\r\n        }),\r\n\r\n        // Chat Panel command (focus sidebar chat)\r\n        vscode.commands.registerCommand(\"nox.openChatPanel\", async () => {\r\n          // Focus the Nox sidebar and chat view\r\n          await vscode.commands.executeCommand(\"workbench.view.extension.nox\");\r\n          await vscode.commands.executeCommand(\"noxChat.focus\");\r\n        }),\r\n\r\n        // Explain code command\r\n        vscode.commands.registerCommand(\"nox.explain\", async () => {\r\n          const explainCommand = new ExplainCommand(\r\n            this.agentController,\r\n            this.logger\r\n          );\r\n          return await explainCommand.execute();\r\n        }),\r\n\r\n        // Refactor code command\r\n        vscode.commands.registerCommand(\"nox.refactor\", async () => {\r\n          const refactorCommand = new RefactorCommand(\r\n            this.agentController,\r\n            this.logger\r\n          );\r\n          return await refactorCommand.execute();\r\n        }),\r\n\r\n        // Analyze codebase command\r\n        vscode.commands.registerCommand(\"nox.analyze\", async () => {\r\n          const analyzeCommand = new AnalyzeCommand(\r\n            this.agentController,\r\n            this.logger\r\n          );\r\n          return await analyzeCommand.execute();\r\n        }),\r\n\r\n        // Performance dashboard command\r\n        vscode.commands.registerCommand(\"nox.dashboard\", async () => {\r\n          return await this.showDashboard();\r\n        }),\r\n\r\n        // Settings command\r\n        vscode.commands.registerCommand(\"nox.settings\", async () => {\r\n          return await this.showSettings();\r\n        }),\r\n\r\n        // API Key management command\r\n        vscode.commands.registerCommand(\"nox.apiKeys\", async () => {\r\n          const apiKeyCommand = new ApiKeyCommand(\r\n            this.context,\r\n            this.logger,\r\n            this.agentController.aiClient\r\n          );\r\n          return await apiKeyCommand.execute();\r\n        }),\r\n\r\n        // Clear chat command\r\n        vscode.commands.registerCommand(\"nox.clearChat\", async () => {\r\n          if (this.chatSidebarProvider) {\r\n            await this.chatSidebarProvider.clearChatHistory();\r\n          }\r\n        }),\r\n\r\n        // Settings panel command\r\n        vscode.commands.registerCommand(\"nox.openSettingsPanel\", async () => {\r\n          await this.openSettingsPanel();\r\n        }),\r\n\r\n        // Toggle provider section command\r\n        vscode.commands.registerCommand(\r\n          \"nox.toggleProviderSection\",\r\n          async () => {\r\n            if (\r\n              this.chatSidebarProvider &&\r\n              this.chatSidebarProvider.webviewView\r\n            ) {\r\n              this.chatSidebarProvider.webviewView.webview.postMessage({\r\n                type: \"toggleProviderSection\",\r\n              });\r\n              console.log(\"🦊 Toggle command sent to webview\");\r\n            } else {\r\n              console.log(\"🦊 Toggle command failed - webview not available\");\r\n            }\r\n          }\r\n        ),\r\n\r\n        // Individual settings commands (for submenu)\r\n        vscode.commands.registerCommand(\"nox.manageApiKeys\", async () => {\r\n          await vscode.commands.executeCommand(\"nox.apiKeys\");\r\n        }),\r\n\r\n        vscode.commands.registerCommand(\"nox.switchProvider\", async () => {\r\n          await this.showProviderSwitcher();\r\n        }),\r\n\r\n        vscode.commands.registerCommand(\"nox.showHelp\", async () => {\r\n          await this.showHelp();\r\n        }),\r\n\r\n        vscode.commands.registerCommand(\"nox.resetExtension\", async () => {\r\n          await this.resetExtension();\r\n        }),\r\n      ];\r\n\r\n      // Register all commands with context\r\n      commands.forEach((command) => {\r\n        this.context.subscriptions.push(command);\r\n      });\r\n\r\n      this.logger.info(`Registered ${commands.length} commands successfully`);\r\n    } catch (error) {\r\n      this.logger.error(\"Failed to register commands:\", error);\r\n      throw new Error(`Command registration failed: ${error.message}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Register sidebar webview provider for chat interface\r\n   */\r\n  async registerSidebarProvider() {\r\n    try {\r\n      // Create and register the chat sidebar provider\r\n      this.chatSidebarProvider = new NoxChatViewProvider(\r\n        this.context,\r\n        this.agentController,\r\n        this.logger\r\n      );\r\n\r\n      // Register the webview view provider\r\n      const provider = vscode.window.registerWebviewViewProvider(\r\n        \"noxChat\",\r\n        this.chatSidebarProvider,\r\n        {\r\n          webviewOptions: {\r\n            retainContextWhenHidden: true,\r\n          },\r\n        }\r\n      );\r\n\r\n      // Add to subscriptions for cleanup\r\n      this.context.subscriptions.push(provider);\r\n\r\n      this.logger.info(\"🦊 Sidebar provider registered successfully\");\r\n    } catch (error) {\r\n      this.logger.error(\"Failed to register sidebar provider:\", error);\r\n      throw new Error(`Sidebar provider registration failed: ${error.message}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ⚙️ Open settings panel (like Augment)\r\n   */\r\n  async openSettingsPanel() {\r\n    try {\r\n      // Create settings panel\r\n      const panel = vscode.window.createWebviewPanel(\r\n        \"noxSettings\",\r\n        \"🦊 Nox Settings\",\r\n        vscode.ViewColumn.One,\r\n        {\r\n          enableScripts: true,\r\n          retainContextWhenHidden: true,\r\n          localResourceRoots: [this.context.extensionUri],\r\n        }\r\n      );\r\n\r\n      // Set the HTML content\r\n      panel.webview.html = this.getSettingsPanelContent();\r\n\r\n      // Handle messages from the settings panel\r\n      panel.webview.onDidReceiveMessage(async (message) => {\r\n        try {\r\n          switch (message.type) {\r\n            case \"setApiKey\":\r\n              try {\r\n                await this.agentController.aiClient.setApiKey(\r\n                  message.provider,\r\n                  message.apiKey\r\n                );\r\n\r\n                // Verify the key was saved by trying to retrieve it\r\n                const savedKey = await this.agentController.aiClient.getApiKey(\r\n                  message.provider\r\n                );\r\n                if (savedKey) {\r\n                  panel.webview.postMessage({\r\n                    type: \"apiKeySet\",\r\n                    provider: message.provider,\r\n                  });\r\n                  this.logger.info(\r\n                    `✅ API key successfully saved for ${message.provider}`\r\n                  );\r\n                } else {\r\n                  throw new Error(\"API key was not saved properly\");\r\n                }\r\n              } catch (error) {\r\n                this.logger.error(\r\n                  `❌ Failed to save API key for ${message.provider}:`,\r\n                  error\r\n                );\r\n                panel.webview.postMessage({\r\n                  type: \"error\",\r\n                  message: `Failed to save ${message.provider} API key: ${error.message}`,\r\n                  provider: message.provider,\r\n                });\r\n              }\r\n              break;\r\n            case \"switchProvider\":\r\n              await this.agentController.aiClient.setProvider(message.provider);\r\n              panel.webview.postMessage({\r\n                type: \"providerSwitched\",\r\n                provider: message.provider,\r\n              });\r\n              break;\r\n            case \"getProviderStatus\":\r\n              await this.sendProviderStatus(panel.webview);\r\n              break;\r\n            case \"openExternal\":\r\n              vscode.env.openExternal(vscode.Uri.parse(message.url));\r\n              break;\r\n            case \"openKeybindings\":\r\n              await vscode.commands.executeCommand(\r\n                \"workbench.action.openGlobalKeybindings\",\r\n                \"nox\"\r\n              );\r\n              break;\r\n            case \"resetExtension\":\r\n              await this.resetExtension();\r\n              break;\r\n            case \"getVoiceStatus\":\r\n              await this.sendVoiceStatus(panel.webview);\r\n              break;\r\n            case \"setVoiceSettings\":\r\n              await this.setVoiceSettings(message.settings);\r\n              await this.sendVoiceStatus(panel.webview);\r\n              break;\r\n            case \"setGoogleApiKey\":\r\n              await this.setGoogleApiKey(message.apiKey);\r\n              await this.sendVoiceStatus(panel.webview);\r\n              break;\r\n            default:\r\n              this.logger.warn(\r\n                `Unknown settings message type: ${message.type}`\r\n              );\r\n          }\r\n        } catch (error) {\r\n          this.logger.error(\"Error handling settings message:\", error);\r\n          panel.webview.postMessage({ type: \"error\", message: error.message });\r\n        }\r\n      });\r\n\r\n      this.logger.info(\"🦊 Settings panel opened\");\r\n    } catch (error) {\r\n      this.logger.error(\"Error opening settings panel:\", error);\r\n      vscode.window.showErrorMessage(\r\n        `Failed to open settings: ${error.message}`\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set up event listeners for workspace changes, file operations, etc.\r\n   */\r\n  setupEventListeners() {\r\n    try {\r\n      // Workspace change events\r\n      const workspaceWatcher = vscode.workspace.onDidChangeWorkspaceFolders(\r\n        async (event) => {\r\n          this.logger.info(\"Workspace folders changed, reinitializing...\");\r\n          await this.agentController.handleWorkspaceChange(event);\r\n        }\r\n      );\r\n\r\n      // File change events for intelligent indexing\r\n      const fileWatcher = vscode.workspace.onDidSaveTextDocument(\r\n        async (document) => {\r\n          await this.agentController.handleFileChange(document);\r\n        }\r\n      );\r\n\r\n      // Configuration change events\r\n      const configWatcher = vscode.workspace.onDidChangeConfiguration(\r\n        async (event) => {\r\n          if (event.affectsConfiguration(\"agent\")) {\r\n            this.logger.info(\"Agent configuration changed, updating...\");\r\n            await this.agentController.updateConfiguration();\r\n          }\r\n        }\r\n      );\r\n\r\n      // Register watchers for cleanup\r\n      this.context.subscriptions.push(\r\n        workspaceWatcher,\r\n        fileWatcher,\r\n        configWatcher\r\n      );\r\n\r\n      this.logger.info(\"Event listeners set up successfully\");\r\n    } catch (error) {\r\n      this.logger.error(\"Failed to set up event listeners:\", error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 📄 Get settings panel HTML content\r\n   */\r\n  getSettingsPanelContent() {\r\n    const nonce = this.getNonce();\r\n\r\n    return `<!DOCTYPE html>\r\n    <html lang=\"en\">\r\n    <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'none'; style-src 'unsafe-inline'; script-src 'nonce-${nonce}';\">\r\n        <title>🦊 Nox Settings</title>\r\n        <style>\r\n            body {\r\n                font-family: var(--vscode-font-family);\r\n                background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);\r\n                color: var(--vscode-foreground);\r\n                margin: 0;\r\n                padding: 20px;\r\n                min-height: 100vh;\r\n            }\r\n\r\n            .settings-container {\r\n                max-width: 1200px;\r\n                margin: 0 auto;\r\n                display: grid;\r\n                grid-template-columns: 250px 1fr;\r\n                gap: 30px;\r\n                height: calc(100vh - 40px);\r\n            }\r\n\r\n            .settings-sidebar {\r\n                background: rgba(255, 255, 255, 0.05);\r\n                border-radius: 12px;\r\n                padding: 20px;\r\n                backdrop-filter: blur(10px);\r\n                border: 1px solid rgba(255, 255, 255, 0.1);\r\n            }\r\n\r\n            .settings-content {\r\n                background: rgba(255, 255, 255, 0.05);\r\n                border-radius: 12px;\r\n                padding: 30px;\r\n                backdrop-filter: blur(10px);\r\n                border: 1px solid rgba(255, 255, 255, 0.1);\r\n                overflow-y: auto;\r\n            }\r\n\r\n            .settings-nav {\r\n                list-style: none;\r\n                padding: 0;\r\n                margin: 0;\r\n            }\r\n\r\n            .settings-nav li {\r\n                margin-bottom: 8px;\r\n            }\r\n\r\n            .settings-nav button {\r\n                width: 100%;\r\n                background: transparent;\r\n                border: none;\r\n                color: var(--vscode-foreground);\r\n                padding: 12px 16px;\r\n                text-align: left;\r\n                border-radius: 8px;\r\n                cursor: pointer;\r\n                transition: all 0.2s ease;\r\n                font-size: 14px;\r\n            }\r\n\r\n            .settings-nav button:hover {\r\n                background: rgba(255, 255, 255, 0.1);\r\n            }\r\n\r\n            .settings-nav button.active {\r\n                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n                color: white;\r\n            }\r\n\r\n            .section {\r\n                display: none;\r\n            }\r\n\r\n            .section.active {\r\n                display: block;\r\n            }\r\n\r\n            .section h2 {\r\n                margin-top: 0;\r\n                color: #64b5f6;\r\n                font-size: 24px;\r\n                margin-bottom: 20px;\r\n            }\r\n\r\n            .provider-grid {\r\n                display: grid;\r\n                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\r\n                gap: 20px;\r\n                margin-top: 20px;\r\n            }\r\n\r\n            .provider-card {\r\n                background: rgba(255, 255, 255, 0.05);\r\n                border-radius: 12px;\r\n                padding: 20px;\r\n                border: 1px solid rgba(255, 255, 255, 0.1);\r\n                transition: all 0.3s ease;\r\n            }\r\n\r\n            .provider-card:hover {\r\n                transform: translateY(-2px);\r\n                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);\r\n            }\r\n\r\n            .provider-card h3 {\r\n                margin-top: 0;\r\n                color: #81c784;\r\n                font-size: 18px;\r\n            }\r\n\r\n            .input-container {\r\n                position: relative;\r\n                margin-top: 10px;\r\n            }\r\n\r\n            .api-key-input {\r\n                width: 100%;\r\n                background: rgba(255, 255, 255, 0.1);\r\n                border: 1px solid rgba(255, 255, 255, 0.2);\r\n                border-radius: 6px;\r\n                padding: 10px 40px 10px 10px;\r\n                color: var(--vscode-foreground);\r\n                font-family: 'Courier New', monospace;\r\n                font-size: 14px;\r\n                box-sizing: border-box;\r\n            }\r\n\r\n            .api-key-input:focus {\r\n                outline: none;\r\n                border-color: #667eea;\r\n                box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.3);\r\n            }\r\n\r\n            .toggle-btn {\r\n                position: absolute;\r\n                right: 8px;\r\n                top: 50%;\r\n                transform: translateY(-50%);\r\n                background: none;\r\n                border: none;\r\n                color: var(--vscode-foreground);\r\n                cursor: pointer;\r\n                padding: 4px;\r\n                border-radius: 4px;\r\n                font-size: 16px;\r\n                opacity: 0.7;\r\n                transition: all 0.2s ease;\r\n            }\r\n\r\n            .toggle-btn:hover {\r\n                opacity: 1;\r\n                background: rgba(255, 255, 255, 0.1);\r\n            }\r\n\r\n            .status-indicator {\r\n                display: inline-block;\r\n                padding: 4px 8px;\r\n                border-radius: 4px;\r\n                font-size: 12px;\r\n                font-weight: bold;\r\n                margin-top: 8px;\r\n            }\r\n\r\n            .status-configured {\r\n                background: #4caf50;\r\n                color: white;\r\n            }\r\n\r\n            .status-missing {\r\n                background: #f44336;\r\n                color: white;\r\n            }\r\n\r\n            .status-error {\r\n                background: #ff5722;\r\n                color: white;\r\n            }\r\n\r\n            .status-saving {\r\n                background: #ff9800;\r\n                color: white;\r\n            }\r\n\r\n            .btn {\r\n                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n                color: white;\r\n                border: none;\r\n                padding: 10px 20px;\r\n                border-radius: 6px;\r\n                cursor: pointer;\r\n                font-size: 14px;\r\n                margin-top: 10px;\r\n                transition: all 0.2s ease;\r\n            }\r\n\r\n            .btn:hover {\r\n                transform: translateY(-1px);\r\n                box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);\r\n            }\r\n\r\n            .help-text {\r\n                font-size: 12px;\r\n                color: var(--vscode-descriptionForeground);\r\n                margin-top: 8px;\r\n                opacity: 0.8;\r\n            }\r\n        </style>\r\n    </head>\r\n    <body>\r\n        <div class=\"settings-container\">\r\n            <div class=\"settings-sidebar\">\r\n                <h2>🦊 Nox Settings</h2>\r\n                <ul class=\"settings-nav\">\r\n                    <li><button class=\"nav-btn active\" data-section=\"api-keys\">🔑 API Keys</button></li>\r\n                    <li><button class=\"nav-btn\" data-section=\"providers\">🤖 AI Providers</button></li>\r\n                    <li><button class=\"nav-btn\" data-section=\"voice\">🎤 Voice Input</button></li>\r\n                    <li><button class=\"nav-btn\" data-section=\"theme\">🎨 Theme</button></li>\r\n                    <li><button class=\"nav-btn\" data-section=\"performance\">📊 Performance</button></li>\r\n                    <li><button class=\"nav-btn\" data-section=\"help\">📖 Help & Documentation</button></li>\r\n                    <li><button class=\"nav-btn\" data-section=\"account\">👤 Account</button></li>\r\n                    <li><button class=\"nav-btn\" data-section=\"reset\">🔄 Reset Extension</button></li>\r\n                    <li><button class=\"nav-btn\" data-section=\"about\">ℹ️ About</button></li>\r\n                </ul>\r\n            </div>\r\n\r\n            <div class=\"settings-content\">\r\n                <div id=\"api-keys\" class=\"section active\">\r\n                    <h2>🔑 API Keys</h2>\r\n                    <p>Configure your AI provider API keys securely.</p>\r\n                    <div class=\"provider-grid\" id=\"apiKeysGrid\">\r\n                        <!-- API key cards will be populated here -->\r\n                    </div>\r\n                </div>\r\n\r\n                <div id=\"providers\" class=\"section\">\r\n                    <h2>🤖 AI Providers</h2>\r\n                    <p>Switch between different AI providers and models.</p>\r\n                    <div class=\"provider-grid\" id=\"providersGrid\">\r\n                        <!-- Provider cards will be populated here -->\r\n                    </div>\r\n                </div>\r\n\r\n                <div id=\"voice\" class=\"section\">\r\n                    <h2>🎤 Voice Input</h2>\r\n                    <p>Configure voice-to-text settings for hands-free coding.</p>\r\n\r\n                    <div class=\"provider-card\">\r\n                        <h3>🎤 Voice Input Settings</h3>\r\n                        <div style=\"margin: 16px 0;\">\r\n                            <label style=\"display: flex; align-items: center; margin-bottom: 12px;\">\r\n                                <input type=\"checkbox\" id=\"voiceEnabled\" style=\"margin-right: 8px;\">\r\n                                <span>Enable voice input</span>\r\n                            </label>\r\n                        </div>\r\n\r\n                        <div style=\"margin: 16px 0;\">\r\n                            <label style=\"display: block; margin-bottom: 8px; font-weight: bold;\">Voice Engine:</label>\r\n                            <select id=\"voiceEngine\" style=\"width: 100%; padding: 8px; border: 1px solid #444; background: #2a2a2a; color: #fff; border-radius: 4px;\">\r\n                                <option value=\"free\">🆓 Free (Vosk - 100% offline)</option>\r\n                                <option value=\"openai\">🤖 OpenAI Whisper (uses your OpenAI API key)</option>\r\n                                <option value=\"google\">🌐 Google Speech (requires separate API key)</option>\r\n                            </select>\r\n                            <div style=\"margin-top: 8px; padding: 8px; background: #1a1a1a; border-radius: 4px; font-size: 12px; color: #888;\">\r\n                                <strong>💡 Note:</strong> OpenAI Whisper uses your existing OpenAI API key from the \"🔑 API Keys\" section.\r\n                                Google Speech requires a separate Google Cloud API key.\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div id=\"googleApiKeySection\" style=\"margin: 16px 0; display: none;\">\r\n                            <label style=\"display: block; margin-bottom: 8px; font-weight: bold;\">Google Cloud API Key:</label>\r\n                            <div style=\"display: flex; gap: 8px;\">\r\n                                <input type=\"password\" id=\"googleApiKey\" placeholder=\"Enter Google Cloud API key...\"\r\n                                       style=\"flex: 1; padding: 8px; border: 1px solid #444; background: #2a2a2a; color: #fff; border-radius: 4px;\">\r\n                                <button id=\"saveGoogleApiKey\" class=\"btn\">Save</button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div style=\"margin: 16px 0;\">\r\n                            <h4>Engine Status:</h4>\r\n                            <div id=\"voiceEngineStatus\" style=\"margin-top: 8px;\">\r\n                                <div style=\"display: flex; align-items: center; margin: 4px 0;\">\r\n                                    <span id=\"freeStatus\" style=\"margin-right: 8px;\">🆓 Free (Vosk):</span>\r\n                                    <span style=\"color: #4CAF50;\">✅ Always available</span>\r\n                                </div>\r\n                                <div style=\"display: flex; align-items: center; margin: 4px 0;\">\r\n                                    <span id=\"openaiStatus\" style=\"margin-right: 8px;\">🤖 OpenAI Whisper:</span>\r\n                                    <span id=\"openaiStatusText\" style=\"color: #f44336;\">❌ No OpenAI API key</span>\r\n                                    <span style=\"margin-left: 8px; font-size: 11px; color: #666;\">(Set in API Keys section)</span>\r\n                                </div>\r\n                                <div style=\"display: flex; align-items: center; margin: 4px 0;\">\r\n                                    <span id=\"googleStatus\" style=\"margin-right: 8px;\">🌐 Google Speech:</span>\r\n                                    <span id=\"googleStatusText\" style=\"color: #f44336;\">❌ No Google API key</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button id=\"saveVoiceSettings\" class=\"btn\" style=\"margin-top: 16px;\">Save Voice Settings</button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div id=\"theme\" class=\"section\">\r\n                    <h2>🎨 Aurora Theme</h2>\r\n                    <p>Customize your Nox experience with beautiful Aurora themes.</p>\r\n                    <div class=\"provider-grid\">\r\n                        <div class=\"provider-card\">\r\n                            <h3>🌌 Classic Aurora</h3>\r\n                            <p>Default blue-purple aurora theme</p>\r\n                            <button class=\"btn\">Apply Theme</button>\r\n                        </div>\r\n                        <div class=\"provider-card\">\r\n                            <h3>🔥 Fire Aurora</h3>\r\n                            <p>Warm orange-red aurora theme</p>\r\n                            <button class=\"btn\">Apply Theme</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div id=\"performance\" class=\"section\">\r\n                    <h2>📊 Performance Dashboard</h2>\r\n                    <p>Monitor your Nox usage and performance metrics.</p>\r\n                    <div class=\"provider-card\">\r\n                        <h3>📈 Usage Statistics</h3>\r\n                        <p>Coming soon - detailed analytics and performance metrics</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div id=\"help\" class=\"section\">\r\n                    <h2>📖 Help & Documentation</h2>\r\n                    <div class=\"provider-grid\">\r\n                        <div class=\"provider-card\">\r\n                            <h3>📚 User Guide</h3>\r\n                            <p>Complete guide to using Nox effectively</p>\r\n                            <button class=\"btn\">Open User Guide</button>\r\n                        </div>\r\n                        <div class=\"provider-card\">\r\n                            <h3>⌨️ Keyboard Shortcuts</h3>\r\n                            <p>List of all Nox commands and shortcuts</p>\r\n                            <button class=\"btn\" onclick=\"openKeybindings()\">View Shortcuts</button>\r\n                        </div>\r\n                        <div class=\"provider-card\">\r\n                            <h3>🌐 Online Documentation</h3>\r\n                            <p>Visit our comprehensive documentation website</p>\r\n                            <button class=\"btn\" onclick=\"openExternal('https://hadep275.github.io/Agent-Nox/')\">Open Docs</button>\r\n                        </div>\r\n                        <div class=\"provider-card\">\r\n                            <h3>🐛 Report Issue</h3>\r\n                            <p>Found a bug or have a feature request?</p>\r\n                            <button class=\"btn\" onclick=\"openExternal('https://github.com/hadep275/Agent-Nox/issues')\">Report Issue</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div id=\"account\" class=\"section\">\r\n                    <h2>👤 Account & Preferences</h2>\r\n                    <div class=\"provider-grid\">\r\n                        <div class=\"provider-card\">\r\n                            <h3>👤 User Profile</h3>\r\n                            <p>Manage your Nox user preferences and profile</p>\r\n                            <input type=\"text\" class=\"api-key-input\" placeholder=\"Display Name\" value=\"Developer\">\r\n                            <button class=\"btn\">Save Profile</button>\r\n                        </div>\r\n                        <div class=\"provider-card\">\r\n                            <h3>🔔 Notifications</h3>\r\n                            <p>Configure notification preferences</p>\r\n                            <label><input type=\"checkbox\" checked> Enable completion notifications</label><br>\r\n                            <label><input type=\"checkbox\" checked> Enable error notifications</label><br>\r\n                            <label><input type=\"checkbox\"> Enable usage analytics</label>\r\n                        </div>\r\n                        <div class=\"provider-card\">\r\n                            <h3>💾 Data & Privacy</h3>\r\n                            <p>Manage your data and privacy settings</p>\r\n                            <button class=\"btn\">Export Chat History</button>\r\n                            <button class=\"btn\">Privacy Settings</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div id=\"reset\" class=\"section\">\r\n                    <h2>🔄 Reset Extension</h2>\r\n                    <div class=\"provider-card\">\r\n                        <h3>⚠️ Reset Nox Extension</h3>\r\n                        <p>This will clear all data including chat history, API keys, settings, and cached data.</p>\r\n                        <p><strong>This action cannot be undone!</strong></p>\r\n                        <div style=\"margin-top: 20px;\">\r\n                            <h4>What will be reset:</h4>\r\n                            <ul>\r\n                                <li>• All chat conversations and history</li>\r\n                                <li>• Stored API keys (securely deleted)</li>\r\n                                <li>• Extension settings and preferences</li>\r\n                                <li>• Cached data and performance metrics</li>\r\n                                <li>• User profile and account data</li>\r\n                            </ul>\r\n                        </div>\r\n                        <button class=\"btn\" style=\"background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%);\" onclick=\"resetExtension()\">\r\n                            🔄 Reset Everything\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div id=\"about\" class=\"section\">\r\n                    <h2>ℹ️ About Nox</h2>\r\n                    <div class=\"provider-grid\">\r\n                        <div class=\"provider-card\">\r\n                            <h3>🦊 Nox v0.1.0</h3>\r\n                            <p>Your clever AI coding fox</p>\r\n                            <p>Built with ❤️ for enterprise-scale development</p>\r\n                            <button class=\"btn\" onclick=\"openExternal('https://github.com/hadep275/Agent-Nox')\">GitHub Repository</button>\r\n                        </div>\r\n                        <div class=\"provider-card\">\r\n                            <h3>🏢 Enterprise Features</h3>\r\n                            <p>Designed for large-scale codebases (100K+ files)</p>\r\n                            <ul>\r\n                                <li>• Multi-AI provider support</li>\r\n                                <li>• Performance monitoring</li>\r\n                                <li>• Audit trails & logging</li>\r\n                                <li>• ROI tracking</li>\r\n                            </ul>\r\n                        </div>\r\n                        <div class=\"provider-card\">\r\n                            <h3>🎨 Aurora Theme</h3>\r\n                            <p>Beautiful Northern Lights inspired interface</p>\r\n                            <p>Crafted for long coding sessions with eye-friendly gradients</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <script nonce=\"${nonce}\">\r\n            const vscode = acquireVsCodeApi();\r\n\r\n            // Navigation\r\n            document.querySelectorAll('.nav-btn').forEach(btn => {\r\n                btn.addEventListener('click', () => {\r\n                    const section = btn.dataset.section;\r\n\r\n                    // Update nav\r\n                    document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));\r\n                    btn.classList.add('active');\r\n\r\n                    // Update content\r\n                    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));\r\n                    document.getElementById(section).classList.add('active');\r\n                });\r\n            });\r\n\r\n            // Initialize\r\n            window.addEventListener('load', () => {\r\n                vscode.postMessage({ type: 'getProviderStatus' });\r\n                populateApiKeys();\r\n            });\r\n\r\n            function populateApiKeys() {\r\n                const providers = [\r\n                    { id: 'anthropic', name: '🤖 Anthropic Claude', placeholder: 'sk-ant-api03-...', help: 'Get your key from: https://console.anthropic.com/' },\r\n                    { id: 'openai', name: '🧠 OpenAI GPT-4', placeholder: 'sk-...', help: 'Get your key from: https://platform.openai.com/api-keys' },\r\n                    { id: 'deepseek', name: '🔍 DeepSeek', placeholder: 'sk-...', help: 'Get your key from: https://platform.deepseek.com/' },\r\n                    { id: 'local', name: '🏠 Local LLM', placeholder: 'http://localhost:11434', help: 'No API key needed for local models' }\r\n                ];\r\n\r\n                const grid = document.getElementById('apiKeysGrid');\r\n\r\n                // Create HTML for each provider\r\n                let html = '';\r\n                providers.forEach(provider => {\r\n                    html += '<div class=\"provider-card\">';\r\n                    html += '<h3>' + provider.name + '</h3>';\r\n                    html += '<div class=\"input-container\">';\r\n                    html += '<input type=\"password\" class=\"api-key-input\"';\r\n                    html += ' placeholder=\"' + provider.placeholder + '\"';\r\n                    html += ' data-provider=\"' + provider.id + '\"';\r\n                    html += ' id=\"input-' + provider.id + '\">';\r\n                    html += '<button class=\"toggle-btn\" data-provider=\"' + provider.id + '\"';\r\n                    html += ' id=\"toggle-' + provider.id + '\" title=\"Show/Hide API Key\">👁️</button>';\r\n                    html += '</div>';\r\n                    html += '<div class=\"status-indicator status-missing\" id=\"status-' + provider.id + '\">Not Configured</div>';\r\n                    html += '<button class=\"btn\" data-provider=\"' + provider.id + '\" id=\"save-' + provider.id + '\" style=\"margin-left: 10px;\">Save Key</button>';\r\n                    html += '<div class=\"help-text\">' + provider.help + '</div>';\r\n                    html += '</div>';\r\n                });\r\n\r\n                grid.innerHTML = html;\r\n\r\n                // Add event listeners after creating the HTML\r\n                setupEventListeners();\r\n\r\n                // Request current API key status from extension\r\n                vscode.postMessage({ type: 'getProviderStatus' });\r\n            }\r\n\r\n            function setupEventListeners() {\r\n                // Add event listeners for toggle buttons\r\n                document.querySelectorAll('.toggle-btn').forEach(btn => {\r\n                    btn.addEventListener('click', function() {\r\n                        const provider = this.getAttribute('data-provider');\r\n                        toggleVisibility(provider);\r\n                    });\r\n                });\r\n\r\n                // Add event listeners for save buttons\r\n                document.querySelectorAll('.btn[data-provider]').forEach(btn => {\r\n                    btn.addEventListener('click', function() {\r\n                        const provider = this.getAttribute('data-provider');\r\n                        setApiKey(provider);\r\n                    });\r\n                });\r\n\r\n                // Add event listeners for input changes to detect when keys are cleared\r\n                document.querySelectorAll('.api-key-input').forEach(input => {\r\n                    input.addEventListener('input', function() {\r\n                        const provider = this.getAttribute('data-provider');\r\n                        const status = document.getElementById('status-' + provider);\r\n\r\n                        if (this.value.trim() === '') {\r\n                            // Key was cleared, update status\r\n                            status.textContent = 'Not Configured';\r\n                            status.className = 'status-indicator status-missing';\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n\r\n            function toggleVisibility(provider) {\r\n                const input = document.getElementById('input-' + provider);\r\n                const toggleBtn = document.getElementById('toggle-' + provider);\r\n\r\n                if (input && toggleBtn) {\r\n                    if (input.type === 'password') {\r\n                        input.type = 'text';\r\n                        toggleBtn.textContent = '🙈';\r\n                        toggleBtn.title = 'Hide API Key';\r\n                    } else {\r\n                        input.type = 'password';\r\n                        toggleBtn.textContent = '👁️';\r\n                        toggleBtn.title = 'Show API Key';\r\n                    }\r\n                }\r\n            }\r\n\r\n            function setApiKey(provider) {\r\n                const input = document.getElementById('input-' + provider);\r\n                const saveBtn = document.getElementById('save-' + provider);\r\n                const statusDiv = document.getElementById('status-' + provider);\r\n\r\n                if (!input || !saveBtn || !statusDiv) {\r\n                    return;\r\n                }\r\n\r\n                const apiKey = input.value.trim();\r\n\r\n                // Validate API key format based on provider\r\n                const validation = validateApiKey(provider, apiKey);\r\n                if (!validation.valid) {\r\n                    statusDiv.textContent = validation.message;\r\n                    statusDiv.className = 'status-indicator status-error';\r\n                    setTimeout(() => {\r\n                        statusDiv.textContent = 'Not Configured';\r\n                        statusDiv.className = 'status-indicator status-missing';\r\n                    }, 3000);\r\n                    return;\r\n                }\r\n\r\n                // Update UI to show saving state\r\n                saveBtn.textContent = 'Saving...';\r\n                saveBtn.disabled = true;\r\n                statusDiv.textContent = 'Saving...';\r\n                statusDiv.className = 'status-indicator status-saving';\r\n\r\n                // Send message to extension\r\n                vscode.postMessage({ type: 'setApiKey', provider, apiKey });\r\n            }\r\n\r\n            function validateApiKey(provider, apiKey) {\r\n                if (!apiKey) {\r\n                    return { valid: false, message: 'API key cannot be empty' };\r\n                }\r\n\r\n                switch (provider) {\r\n                    case 'anthropic':\r\n                        if (!apiKey.startsWith('sk-ant-')) {\r\n                            return { valid: false, message: 'Anthropic keys start with sk-ant-' };\r\n                        }\r\n                        if (apiKey.length < 50) {\r\n                            return { valid: false, message: 'Anthropic key seems too short' };\r\n                        }\r\n                        break;\r\n\r\n                    case 'openai':\r\n                        if (!apiKey.startsWith('sk-')) {\r\n                            return { valid: false, message: 'OpenAI keys start with sk-' };\r\n                        }\r\n                        if (apiKey.length < 40) {\r\n                            return { valid: false, message: 'OpenAI key seems too short' };\r\n                        }\r\n                        break;\r\n\r\n                    case 'deepseek':\r\n                        if (!apiKey.startsWith('sk-')) {\r\n                            return { valid: false, message: 'DeepSeek keys start with sk-' };\r\n                        }\r\n                        if (apiKey.length < 30) {\r\n                            return { valid: false, message: 'DeepSeek key seems too short' };\r\n                        }\r\n                        break;\r\n\r\n                    case 'local':\r\n                        // For local, accept URLs or leave empty\r\n                        if (apiKey && !apiKey.startsWith('http')) {\r\n                            return { valid: false, message: 'Local endpoint should be a URL (http://...)' };\r\n                        }\r\n                        break;\r\n\r\n                    default:\r\n                        if (apiKey.length < 10) {\r\n                            return { valid: false, message: 'API key seems too short' };\r\n                        }\r\n                }\r\n\r\n                return { valid: true, message: 'Valid' };\r\n            }\r\n\r\n            function openExternal(url) {\r\n                vscode.postMessage({ type: 'openExternal', url });\r\n            }\r\n\r\n            function openKeybindings() {\r\n                vscode.postMessage({ type: 'openKeybindings' });\r\n            }\r\n\r\n            function resetExtension() {\r\n                if (confirm('⚠️ Are you sure you want to reset Nox Extension?\\\\n\\\\nThis will permanently delete:\\\\n• All chat history\\\\n• API keys\\\\n• Settings\\\\n• Cached data\\\\n\\\\nThis cannot be undone!')) {\r\n                    vscode.postMessage({ type: 'resetExtension' });\r\n                }\r\n            }\r\n\r\n            // Handle messages from extension\r\n            window.addEventListener('message', event => {\r\n                const message = event.data;\r\n\r\n                switch (message.type) {\r\n                    case 'apiKeySet':\r\n                        const status = document.getElementById('status-' + message.provider);\r\n                        const saveBtn = document.getElementById('save-' + message.provider);\r\n                        const input = document.getElementById('input-' + message.provider);\r\n\r\n                        if (status && saveBtn && input) {\r\n                            // Show success message temporarily\r\n                            status.textContent = 'Saved Successfully! ✅';\r\n                            status.className = 'status-indicator status-configured';\r\n\r\n                            // Reset save button\r\n                            saveBtn.textContent = 'Saved!';\r\n                            saveBtn.disabled = false;\r\n\r\n                            // Clear the input for security\r\n                            input.value = '';\r\n                            input.type = 'password';\r\n\r\n                            // Reset toggle button\r\n                            const toggleBtn = document.getElementById('toggle-' + message.provider);\r\n                            if (toggleBtn) {\r\n                                toggleBtn.textContent = '👁️';\r\n                                toggleBtn.title = 'Show API Key';\r\n                            }\r\n\r\n                            // After 2 seconds, change to \"Configured\"\r\n                            setTimeout(() => {\r\n                                status.textContent = 'Configured ✅';\r\n                                saveBtn.textContent = 'Save Key';\r\n                            }, 2000);\r\n                        }\r\n                        break;\r\n\r\n                    case 'error':\r\n                        // Handle any errors from the extension\r\n                        console.error('Extension error:', message.message);\r\n\r\n                        // Update UI for the specific provider that had an error\r\n                        if (message.provider) {\r\n                            const saveBtn = document.getElementById('save-' + message.provider);\r\n                            const status = document.getElementById('status-' + message.provider);\r\n\r\n                            if (saveBtn) {\r\n                                saveBtn.textContent = 'Save Key';\r\n                                saveBtn.disabled = false;\r\n                            }\r\n\r\n                            if (status) {\r\n                                status.textContent = 'Error: ' + message.message;\r\n                                status.className = 'status-indicator status-error';\r\n\r\n                                // Clear error message after 5 seconds\r\n                                setTimeout(() => {\r\n                                    status.textContent = 'Not Configured';\r\n                                    status.className = 'status-indicator status-missing';\r\n                                }, 5000);\r\n                            }\r\n                        } else {\r\n                            // Fallback: try to find which provider had the error\r\n                            const allProviders = ['anthropic', 'openai', 'deepseek', 'local'];\r\n                            allProviders.forEach(provider => {\r\n                                const saveBtn = document.getElementById('save-' + provider);\r\n                                if (saveBtn && saveBtn.disabled) {\r\n                                    saveBtn.textContent = 'Save Key';\r\n                                    saveBtn.disabled = false;\r\n                                }\r\n                            });\r\n                        }\r\n                        break;\r\n\r\n                    case 'providerStatus':\r\n                        // Update status indicators based on current API key status\r\n                        if (message.status) {\r\n                            Object.keys(message.status).forEach(provider => {\r\n                                const status = document.getElementById('status-' + provider);\r\n                                if (status) {\r\n                                    if (message.status[provider]) {\r\n                                        status.textContent = 'Configured ✅';\r\n                                        status.className = 'status-indicator status-configured';\r\n                                    } else {\r\n                                        status.textContent = 'Not Configured';\r\n                                        status.className = 'status-indicator status-missing';\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                        break;\r\n\r\n                    case 'voiceStatus':\r\n                        // Update voice settings status\r\n                        if (message.status) {\r\n                            updateVoiceStatus(message.status);\r\n                        }\r\n                        break;\r\n                }\r\n            });\r\n\r\n            // Voice Settings Functions\r\n            function initializeVoiceSettings() {\r\n                const voiceEngineSelect = document.getElementById('voiceEngine');\r\n                const googleApiKeySection = document.getElementById('googleApiKeySection');\r\n\r\n                // Show/hide Google API key section based on engine selection\r\n                voiceEngineSelect.addEventListener('change', () => {\r\n                    if (voiceEngineSelect.value === 'google') {\r\n                        googleApiKeySection.style.display = 'block';\r\n                    } else {\r\n                        googleApiKeySection.style.display = 'none';\r\n                    }\r\n                });\r\n\r\n                // Save voice settings\r\n                document.getElementById('saveVoiceSettings').addEventListener('click', () => {\r\n                    const enabled = document.getElementById('voiceEnabled').checked;\r\n                    const engine = document.getElementById('voiceEngine').value;\r\n\r\n                    vscode.postMessage({\r\n                        type: 'setVoiceSettings',\r\n                        settings: { enabled, engine }\r\n                    });\r\n                });\r\n\r\n                // Save Google API key\r\n                document.getElementById('saveGoogleApiKey').addEventListener('click', () => {\r\n                    const googleApiKey = document.getElementById('googleApiKey').value;\r\n                    if (googleApiKey.trim()) {\r\n                        vscode.postMessage({\r\n                            type: 'setGoogleApiKey',\r\n                            apiKey: googleApiKey.trim()\r\n                        });\r\n                        document.getElementById('googleApiKey').value = '';\r\n                    }\r\n                });\r\n\r\n                // Request current voice status\r\n                vscode.postMessage({ type: 'getVoiceStatus' });\r\n            }\r\n\r\n            function updateVoiceStatus(status) {\r\n                // Update checkboxes and selects\r\n                document.getElementById('voiceEnabled').checked = status.enabled;\r\n                document.getElementById('voiceEngine').value = status.engine;\r\n\r\n                // Show/hide Google API key section\r\n                const googleApiKeySection = document.getElementById('googleApiKeySection');\r\n                if (status.engine === 'google') {\r\n                    googleApiKeySection.style.display = 'block';\r\n                } else {\r\n                    googleApiKeySection.style.display = 'none';\r\n                }\r\n\r\n                // Update engine status indicators\r\n                const openaiStatusText = document.getElementById('openaiStatusText');\r\n                const googleStatusText = document.getElementById('googleStatusText');\r\n\r\n                if (status.engines.openai) {\r\n                    openaiStatusText.textContent = '✅ Available (using OpenAI key)';\r\n                    openaiStatusText.style.color = '#4CAF50';\r\n                } else {\r\n                    openaiStatusText.textContent = '❌ No OpenAI API key';\r\n                    openaiStatusText.style.color = '#f44336';\r\n                }\r\n\r\n                if (status.engines.google) {\r\n                    googleStatusText.textContent = '✅ Available';\r\n                    googleStatusText.style.color = '#4CAF50';\r\n                } else {\r\n                    googleStatusText.textContent = '❌ No Google API key';\r\n                    googleStatusText.style.color = '#f44336';\r\n                }\r\n            }\r\n\r\n            // Initialize voice settings when page loads\r\n            window.addEventListener('load', () => {\r\n                initializeVoiceSettings();\r\n            });\r\n        </script>\r\n    </body>\r\n    </html>`;\r\n  }\r\n\r\n  /**\r\n   * 📊 Send provider status to settings panel\r\n   */\r\n  async sendProviderStatus(webview) {\r\n    try {\r\n      const providers = [\"anthropic\", \"openai\", \"deepseek\", \"local\"];\r\n      const status = {};\r\n\r\n      for (const provider of providers) {\r\n        status[provider] = await this.agentController.aiClient.hasValidApiKey(\r\n          provider\r\n        );\r\n      }\r\n\r\n      webview.postMessage({ type: \"providerStatus\", status });\r\n    } catch (error) {\r\n      this.logger.error(\"Error sending provider status:\", error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 🎤 Send voice status to settings panel\r\n   */\r\n  async sendVoiceStatus(webview) {\r\n    try {\r\n      // Get voice settings from workspace state\r\n      const voiceSettings = this.context.workspaceState.get(\r\n        \"nox.voiceSettings\",\r\n        {\r\n          enabled: true,\r\n          engine: \"free\",\r\n          googleApiKey: \"\",\r\n        }\r\n      );\r\n\r\n      // Check engine availability\r\n      const engines = {\r\n        free: true, // Always available\r\n        openai: await this.agentController.aiClient.hasValidApiKey(\"openai\"),\r\n        google: !!voiceSettings.googleApiKey,\r\n      };\r\n\r\n      const status = {\r\n        enabled: voiceSettings.enabled,\r\n        engine: voiceSettings.engine,\r\n        engines: engines,\r\n      };\r\n\r\n      webview.postMessage({ type: \"voiceStatus\", status });\r\n    } catch (error) {\r\n      this.logger.error(\"Error sending voice status:\", error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 🎤 Set voice settings\r\n   */\r\n  async setVoiceSettings(settings) {\r\n    try {\r\n      // Get current settings\r\n      const currentSettings = this.context.workspaceState.get(\r\n        \"nox.voiceSettings\",\r\n        {\r\n          enabled: true,\r\n          engine: \"free\",\r\n          googleApiKey: \"\",\r\n        }\r\n      );\r\n\r\n      // Update with new settings\r\n      const updatedSettings = { ...currentSettings, ...settings };\r\n\r\n      // Save to workspace state\r\n      await this.context.workspaceState.update(\r\n        \"nox.voiceSettings\",\r\n        updatedSettings\r\n      );\r\n\r\n      // Update voice recording service if it exists\r\n      if (\r\n        this.chatSidebarProvider &&\r\n        this.chatSidebarProvider.voiceRecordingService\r\n      ) {\r\n        await this.chatSidebarProvider.voiceRecordingService.updateVoiceSettings(\r\n          updatedSettings\r\n        );\r\n      }\r\n\r\n      this.logger.info(\"🎤 Voice settings updated:\", updatedSettings);\r\n    } catch (error) {\r\n      this.logger.error(\"Error setting voice settings:\", error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 🎤 Set Google API key for voice\r\n   */\r\n  async setGoogleApiKey(apiKey) {\r\n    try {\r\n      // Get current settings\r\n      const currentSettings = this.context.workspaceState.get(\r\n        \"nox.voiceSettings\",\r\n        {\r\n          enabled: true,\r\n          engine: \"free\",\r\n          googleApiKey: \"\",\r\n        }\r\n      );\r\n\r\n      // Update Google API key\r\n      currentSettings.googleApiKey = apiKey;\r\n\r\n      // Save to workspace state\r\n      await this.context.workspaceState.update(\r\n        \"nox.voiceSettings\",\r\n        currentSettings\r\n      );\r\n\r\n      // Update voice recording service if it exists\r\n      if (\r\n        this.chatSidebarProvider &&\r\n        this.chatSidebarProvider.voiceRecordingService\r\n      ) {\r\n        await this.chatSidebarProvider.voiceRecordingService.updateVoiceSettings(\r\n          currentSettings\r\n        );\r\n      }\r\n\r\n      this.logger.info(\"🎤 Google API key updated for voice\");\r\n    } catch (error) {\r\n      this.logger.error(\"Error setting Google API key:\", error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 🔐 Generate nonce for CSP\r\n   */\r\n  getNonce() {\r\n    let text = \"\";\r\n    const possible =\r\n      \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n    for (let i = 0; i < 32; i++) {\r\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return text;\r\n  }\r\n\r\n  /**\r\n   * 🤖 Show provider switcher\r\n   */\r\n  async showProviderSwitcher() {\r\n    try {\r\n      const currentProvider =\r\n        this.agentController.aiClient.getCurrentProvider();\r\n      const configuredProviders =\r\n        await this.agentController.aiClient.getConfiguredProviders();\r\n\r\n      if (configuredProviders.length === 0) {\r\n        vscode.window\r\n          .showWarningMessage(\r\n            \"🔑 No API keys configured. Please set up API keys first!\",\r\n            \"Set API Keys\"\r\n          )\r\n          .then((selection) => {\r\n            if (selection === \"Set API Keys\") {\r\n              vscode.commands.executeCommand(\"nox.apiKeys\");\r\n            }\r\n          });\r\n        return;\r\n      }\r\n\r\n      const providerOptions = configuredProviders.map((provider) => ({\r\n        label: `${provider.name} ${\r\n          provider.id === currentProvider ? \"(Current)\" : \"\"\r\n        }`,\r\n        description: `Models: ${provider.models?.join(\", \") || \"Available\"}`,\r\n        id: provider.id,\r\n        isCurrent: provider.id === currentProvider,\r\n      }));\r\n\r\n      const selectedProvider = await vscode.window.showQuickPick(\r\n        providerOptions,\r\n        {\r\n          placeHolder: `🔄 Switch from ${currentProvider} to...`,\r\n          matchOnDescription: true,\r\n        }\r\n      );\r\n\r\n      if (selectedProvider && !selectedProvider.isCurrent) {\r\n        await this.agentController.aiClient.setProvider(selectedProvider.id);\r\n        vscode.window.showInformationMessage(\r\n          `🤖 Switched to ${selectedProvider.label.replace(\" (Current)\", \"\")}`\r\n        );\r\n      }\r\n    } catch (error) {\r\n      this.logger.error(\"Error in provider switcher:\", error);\r\n      vscode.window.showErrorMessage(\r\n        `Failed to switch provider: ${error.message}`\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 🎨 Show theme settings\r\n   */\r\n  async showThemeSettings() {\r\n    const themeOptions = [\r\n      {\r\n        label: \"🌌 Aurora Classic\",\r\n        description: \"Default blue-purple aurora theme\",\r\n        theme: \"classic\",\r\n      },\r\n      {\r\n        label: \"🔥 Fire Aurora\",\r\n        description: \"Warm orange-red aurora theme\",\r\n        theme: \"fire\",\r\n      },\r\n      {\r\n        label: \"🌿 Forest Aurora\",\r\n        description: \"Green-teal aurora theme\",\r\n        theme: \"forest\",\r\n      },\r\n      {\r\n        label: \"🌸 Sakura Aurora\",\r\n        description: \"Pink-purple cherry blossom theme\",\r\n        theme: \"sakura\",\r\n      },\r\n    ];\r\n\r\n    const selectedTheme = await vscode.window.showQuickPick(themeOptions, {\r\n      placeHolder: \"🎨 Choose your Aurora theme\",\r\n    });\r\n\r\n    if (selectedTheme) {\r\n      // TODO: Implement theme switching\r\n      vscode.window.showInformationMessage(\r\n        `🎨 Theme switching coming soon! Selected: ${selectedTheme.label}`\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 🔍 Show debug logs\r\n   */\r\n  async showDebugLogs() {\r\n    const logOptions = [\r\n      {\r\n        label: \"📋 View Current Logs\",\r\n        description: \"Show recent extension logs\",\r\n        action: \"view\",\r\n      },\r\n      {\r\n        label: \"📁 Open Log File\",\r\n        description: \"Open log file in editor\",\r\n        action: \"open\",\r\n      },\r\n      {\r\n        label: \"🗑️ Clear Logs\",\r\n        description: \"Clear all log history\",\r\n        action: \"clear\",\r\n      },\r\n      {\r\n        label: \"📊 Performance Metrics\",\r\n        description: \"View performance data\",\r\n        action: \"metrics\",\r\n      },\r\n    ];\r\n\r\n    const selectedOption = await vscode.window.showQuickPick(logOptions, {\r\n      placeHolder: \"🔍 Debug & Logs Options\",\r\n    });\r\n\r\n    if (selectedOption) {\r\n      switch (selectedOption.action) {\r\n        case \"view\":\r\n          // TODO: Show logs in output channel\r\n          vscode.window.showInformationMessage(\"📋 Log viewing coming soon!\");\r\n          break;\r\n        case \"open\":\r\n          // TODO: Open log file\r\n          vscode.window.showInformationMessage(\r\n            \"📁 Log file opening coming soon!\"\r\n          );\r\n          break;\r\n        case \"clear\":\r\n          // TODO: Clear logs\r\n          vscode.window.showInformationMessage(\"🗑️ Log clearing coming soon!\");\r\n          break;\r\n        case \"metrics\":\r\n          await vscode.commands.executeCommand(\"nox.dashboard\");\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 📖 Show help and documentation\r\n   */\r\n  async showHelp() {\r\n    const helpOptions = [\r\n      {\r\n        label: \"📖 User Guide\",\r\n        description: \"Complete guide to using Nox\",\r\n        action: \"guide\",\r\n      },\r\n      {\r\n        label: \"⌨️ Keyboard Shortcuts\",\r\n        description: \"List of all Nox commands and shortcuts\",\r\n        action: \"shortcuts\",\r\n      },\r\n      {\r\n        label: \"🌐 Online Documentation\",\r\n        description: \"Open documentation website\",\r\n        action: \"website\",\r\n      },\r\n      {\r\n        label: \"🐛 Report Issue\",\r\n        description: \"Report a bug or request feature\",\r\n        action: \"issue\",\r\n      },\r\n      {\r\n        label: \"ℹ️ About Nox\",\r\n        description: \"Version info and credits\",\r\n        action: \"about\",\r\n      },\r\n    ];\r\n\r\n    const selectedOption = await vscode.window.showQuickPick(helpOptions, {\r\n      placeHolder: \"📖 Help & Documentation\",\r\n    });\r\n\r\n    if (selectedOption) {\r\n      switch (selectedOption.action) {\r\n        case \"guide\":\r\n          vscode.window.showInformationMessage(\"📖 User guide coming soon!\");\r\n          break;\r\n        case \"shortcuts\":\r\n          await vscode.commands.executeCommand(\r\n            \"workbench.action.openGlobalKeybindings\",\r\n            \"nox\"\r\n          );\r\n          break;\r\n        case \"website\":\r\n          vscode.env.openExternal(\r\n            vscode.Uri.parse(\"https://hadep275.github.io/Agent-Nox/\")\r\n          );\r\n          break;\r\n        case \"issue\":\r\n          vscode.env.openExternal(\r\n            vscode.Uri.parse(\"https://github.com/hadep275/Agent-Nox/issues\")\r\n          );\r\n          break;\r\n        case \"about\":\r\n          vscode.window.showInformationMessage(\r\n            \"🦊 Nox v0.1.0 - Your clever AI coding fox\\n\\nBuilt with ❤️ for enterprise-scale development\"\r\n          );\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 🔄 Reset extension\r\n   */\r\n  async resetExtension() {\r\n    const confirmation = await vscode.window.showWarningMessage(\r\n      \"🔄 Reset Nox Extension?\\n\\nThis will clear all data including:\\n• Chat history\\n• API keys\\n• Settings\\n• Cached data\\n\\nThis cannot be undone!\",\r\n      { modal: true },\r\n      \"Reset Everything\",\r\n      \"Cancel\"\r\n    );\r\n\r\n    if (confirmation === \"Reset Everything\") {\r\n      try {\r\n        // Clear workspace state\r\n        const keys = this.context.workspaceState.keys();\r\n        for (const key of keys) {\r\n          if (key.startsWith(\"nox.\")) {\r\n            await this.context.workspaceState.update(key, undefined);\r\n          }\r\n        }\r\n\r\n        // Clear global state\r\n        const globalKeys = this.context.globalState.keys();\r\n        for (const key of globalKeys) {\r\n          if (key.startsWith(\"nox.\")) {\r\n            await this.context.globalState.update(key, undefined);\r\n          }\r\n        }\r\n\r\n        // Clear secrets (API keys)\r\n        const providers = [\"anthropic\", \"openai\", \"deepseek\", \"local\"];\r\n        for (const provider of providers) {\r\n          try {\r\n            await this.context.secrets.delete(`nox.${provider}.apiKey`);\r\n          } catch (error) {\r\n            // Ignore if key doesn't exist\r\n          }\r\n        }\r\n\r\n        vscode.window\r\n          .showInformationMessage(\r\n            \"🔄 Nox has been reset! Please reload VS Code to complete the reset.\",\r\n            \"Reload Now\"\r\n          )\r\n          .then((selection) => {\r\n            if (selection === \"Reload Now\") {\r\n              vscode.commands.executeCommand(\"workbench.action.reloadWindow\");\r\n            }\r\n          });\r\n\r\n        this.logger.info(\"🔄 Extension reset completed\");\r\n      } catch (error) {\r\n        this.logger.error(\"Error resetting extension:\", error);\r\n        vscode.window.showErrorMessage(\r\n          `Failed to reset extension: ${error.message}`\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Show welcome message for new users\r\n   */\r\n  async showWelcomeMessage() {\r\n    const hasShownWelcome = this.context.globalState.get(\r\n      \"nox.hasShownWelcome\",\r\n      false\r\n    );\r\n\r\n    if (!hasShownWelcome) {\r\n      const action = await vscode.window.showInformationMessage(\r\n        \"🦊 Welcome to Nox! Your clever AI coding fox is ready to help.\",\r\n        \"Start Chat\",\r\n        \"View Dashboard\",\r\n        \"Settings\"\r\n      );\r\n\r\n      switch (action) {\r\n        case \"Start Chat\":\r\n          await vscode.commands.executeCommand(\"nox.openChatPanel\");\r\n          break;\r\n        case \"View Dashboard\":\r\n          await vscode.commands.executeCommand(\"nox.dashboard\");\r\n          break;\r\n        case \"Settings\":\r\n          await vscode.commands.executeCommand(\"nox.settings\");\r\n          break;\r\n      }\r\n\r\n      await this.context.globalState.update(\"nox.hasShownWelcome\", true);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Show performance dashboard\r\n   */\r\n  async showDashboard() {\r\n    // TODO: Implement dashboard panel\r\n    vscode.window.showInformationMessage(\"Dashboard coming soon!\");\r\n  }\r\n\r\n  /**\r\n   * Show settings panel\r\n   */\r\n  async showSettings() {\r\n    // TODO: Implement settings panel\r\n    vscode.window.showInformationMessage(\"Settings coming soon!\");\r\n  }\r\n\r\n  /**\r\n   * Extension deactivation cleanup\r\n   */\r\n  async deactivate() {\r\n    try {\r\n      if (this.agentController) {\r\n        await this.agentController.cleanup();\r\n      }\r\n\r\n      if (this.performanceMonitor) {\r\n        await this.performanceMonitor.cleanup();\r\n      }\r\n\r\n      if (this.logger) {\r\n        this.logger.info(\"Agent extension deactivated\");\r\n        await this.logger.cleanup();\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error during extension deactivation:\", error);\r\n    }\r\n  }\r\n}\r\n\r\n// Global extension instance\r\nlet extensionInstance = null;\r\n\r\n/**\r\n * VS Code extension activation entry point\r\n */\r\nasync function activate(context) {\r\n  console.log(\"🦊 Nox extension is being activated...\");\r\n  console.log(\"🦊 Extension context:\", context.extensionPath);\r\n\r\n  try {\r\n    // Show immediate feedback\r\n    vscode.window.showInformationMessage(\"🦊 Nox extension is loading...\");\r\n\r\n    extensionInstance = new NoxExtension();\r\n    await extensionInstance.activate(context);\r\n\r\n    // Show success message\r\n    vscode.window.showInformationMessage(\r\n      \"🦊 Nox extension activated successfully! Try Ctrl+Shift+P and type 'Nox'\"\r\n    );\r\n\r\n    console.log(\"🦊 Nox extension activation completed successfully!\");\r\n  } catch (error) {\r\n    console.error(\"🦊 Nox extension activation failed:\", error);\r\n    vscode.window.showErrorMessage(\r\n      `🦊 Nox activation failed: ${error.message}`\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * VS Code extension deactivation entry point\r\n */\r\nasync function deactivate() {\r\n  if (extensionInstance) {\r\n    await extensionInstance.deactivate();\r\n    extensionInstance = null;\r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  activate,\r\n  deactivate,\r\n};\r\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\n/** @type {import('.')} */\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InvalidWebhookSignatureError = exports.ContentFilterFinishReasonError = exports.LengthFinishReasonError = exports.InternalServerError = exports.RateLimitError = exports.UnprocessableEntityError = exports.ConflictError = exports.NotFoundError = exports.PermissionDeniedError = exports.AuthenticationError = exports.BadRequestError = exports.APIConnectionTimeoutError = exports.APIConnectionError = exports.APIUserAbortError = exports.APIError = exports.OpenAIError = void 0;\nconst errors_1 = require(\"../internal/errors.js\");\nclass OpenAIError extends Error {\n}\nexports.OpenAIError = OpenAIError;\nclass APIError extends OpenAIError {\n    constructor(status, error, message, headers) {\n        super(`${APIError.makeMessage(status, error, message)}`);\n        this.status = status;\n        this.headers = headers;\n        this.requestID = headers?.get('x-request-id');\n        this.error = error;\n        const data = error;\n        this.code = data?.['code'];\n        this.param = data?.['param'];\n        this.type = data?.['type'];\n    }\n    static makeMessage(status, error, message) {\n        const msg = error?.message ?\n            typeof error.message === 'string' ?\n                error.message\n                : JSON.stringify(error.message)\n            : error ? JSON.stringify(error)\n                : message;\n        if (status && msg) {\n            return `${status} ${msg}`;\n        }\n        if (status) {\n            return `${status} status code (no body)`;\n        }\n        if (msg) {\n            return msg;\n        }\n        return '(no status code or body)';\n    }\n    static generate(status, errorResponse, message, headers) {\n        if (!status || !headers) {\n            return new APIConnectionError({ message, cause: (0, errors_1.castToError)(errorResponse) });\n        }\n        const error = errorResponse?.['error'];\n        if (status === 400) {\n            return new BadRequestError(status, error, message, headers);\n        }\n        if (status === 401) {\n            return new AuthenticationError(status, error, message, headers);\n        }\n        if (status === 403) {\n            return new PermissionDeniedError(status, error, message, headers);\n        }\n        if (status === 404) {\n            return new NotFoundError(status, error, message, headers);\n        }\n        if (status === 409) {\n            return new ConflictError(status, error, message, headers);\n        }\n        if (status === 422) {\n            return new UnprocessableEntityError(status, error, message, headers);\n        }\n        if (status === 429) {\n            return new RateLimitError(status, error, message, headers);\n        }\n        if (status >= 500) {\n            return new InternalServerError(status, error, message, headers);\n        }\n        return new APIError(status, error, message, headers);\n    }\n}\nexports.APIError = APIError;\nclass APIUserAbortError extends APIError {\n    constructor({ message } = {}) {\n        super(undefined, undefined, message || 'Request was aborted.', undefined);\n    }\n}\nexports.APIUserAbortError = APIUserAbortError;\nclass APIConnectionError extends APIError {\n    constructor({ message, cause }) {\n        super(undefined, undefined, message || 'Connection error.', undefined);\n        // in some environments the 'cause' property is already declared\n        // @ts-ignore\n        if (cause)\n            this.cause = cause;\n    }\n}\nexports.APIConnectionError = APIConnectionError;\nclass APIConnectionTimeoutError extends APIConnectionError {\n    constructor({ message } = {}) {\n        super({ message: message ?? 'Request timed out.' });\n    }\n}\nexports.APIConnectionTimeoutError = APIConnectionTimeoutError;\nclass BadRequestError extends APIError {\n}\nexports.BadRequestError = BadRequestError;\nclass AuthenticationError extends APIError {\n}\nexports.AuthenticationError = AuthenticationError;\nclass PermissionDeniedError extends APIError {\n}\nexports.PermissionDeniedError = PermissionDeniedError;\nclass NotFoundError extends APIError {\n}\nexports.NotFoundError = NotFoundError;\nclass ConflictError extends APIError {\n}\nexports.ConflictError = ConflictError;\nclass UnprocessableEntityError extends APIError {\n}\nexports.UnprocessableEntityError = UnprocessableEntityError;\nclass RateLimitError extends APIError {\n}\nexports.RateLimitError = RateLimitError;\nclass InternalServerError extends APIError {\n}\nexports.InternalServerError = InternalServerError;\nclass LengthFinishReasonError extends OpenAIError {\n    constructor() {\n        super(`Could not parse response content as the length limit was reached`);\n    }\n}\nexports.LengthFinishReasonError = LengthFinishReasonError;\nclass ContentFilterFinishReasonError extends OpenAIError {\n    constructor() {\n        super(`Could not parse response content as the request was rejected by the content filter`);\n    }\n}\nexports.ContentFilterFinishReasonError = ContentFilterFinishReasonError;\nclass InvalidWebhookSignatureError extends Error {\n    constructor(message) {\n        super(message);\n    }\n}\nexports.InvalidWebhookSignatureError = InvalidWebhookSignatureError;\n//# sourceMappingURL=error.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Alpha = void 0;\nconst tslib_1 = require(\"../../../internal/tslib.js\");\nconst resource_1 = require(\"../../../core/resource.js\");\nconst GradersAPI = tslib_1.__importStar(require(\"./graders.js\"));\nconst graders_1 = require(\"./graders.js\");\nclass Alpha extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.graders = new GradersAPI.Graders(this._client);\n    }\n}\nexports.Alpha = Alpha;\nAlpha.Graders = graders_1.Graders;\n//# sourceMappingURL=alpha.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VectorStores = void 0;\nconst tslib_1 = require(\"../../internal/tslib.js\");\nconst resource_1 = require(\"../../core/resource.js\");\nconst FileBatchesAPI = tslib_1.__importStar(require(\"./file-batches.js\"));\nconst file_batches_1 = require(\"./file-batches.js\");\nconst FilesAPI = tslib_1.__importStar(require(\"./files.js\"));\nconst files_1 = require(\"./files.js\");\nconst pagination_1 = require(\"../../core/pagination.js\");\nconst headers_1 = require(\"../../internal/headers.js\");\nconst path_1 = require(\"../../internal/utils/path.js\");\nclass VectorStores extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.files = new FilesAPI.Files(this._client);\n        this.fileBatches = new FileBatchesAPI.FileBatches(this._client);\n    }\n    /**\n     * Create a vector store.\n     */\n    create(body, options) {\n        return this._client.post('/vector_stores', {\n            body,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Retrieves a vector store.\n     */\n    retrieve(vectorStoreID, options) {\n        return this._client.get((0, path_1.path) `/vector_stores/${vectorStoreID}`, {\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Modifies a vector store.\n     */\n    update(vectorStoreID, body, options) {\n        return this._client.post((0, path_1.path) `/vector_stores/${vectorStoreID}`, {\n            body,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Returns a list of vector stores.\n     */\n    list(query = {}, options) {\n        return this._client.getAPIList('/vector_stores', (pagination_1.CursorPage), {\n            query,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Delete a vector store.\n     */\n    delete(vectorStoreID, options) {\n        return this._client.delete((0, path_1.path) `/vector_stores/${vectorStoreID}`, {\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Search a vector store for relevant chunks based on a query and file attributes\n     * filter.\n     */\n    search(vectorStoreID, body, options) {\n        return this._client.getAPIList((0, path_1.path) `/vector_stores/${vectorStoreID}/search`, (pagination_1.Page), {\n            body,\n            method: 'post',\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n}\nexports.VectorStores = VectorStores;\nVectorStores.Files = files_1.Files;\nVectorStores.FileBatches = file_batches_1.FileBatches;\n//# sourceMappingURL=vector-stores.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toFloat32Array = exports.fromBase64 = exports.toBase64 = void 0;\nconst error_1 = require(\"../../core/error.js\");\nconst bytes_1 = require(\"./bytes.js\");\nconst toBase64 = (data) => {\n    if (!data)\n        return '';\n    if (typeof globalThis.Buffer !== 'undefined') {\n        return globalThis.Buffer.from(data).toString('base64');\n    }\n    if (typeof data === 'string') {\n        data = (0, bytes_1.encodeUTF8)(data);\n    }\n    if (typeof btoa !== 'undefined') {\n        return btoa(String.fromCharCode.apply(null, data));\n    }\n    throw new error_1.OpenAIError('Cannot generate base64 string; Expected `Buffer` or `btoa` to be defined');\n};\nexports.toBase64 = toBase64;\nconst fromBase64 = (str) => {\n    if (typeof globalThis.Buffer !== 'undefined') {\n        const buf = globalThis.Buffer.from(str, 'base64');\n        return new Uint8Array(buf.buffer, buf.byteOffset, buf.byteLength);\n    }\n    if (typeof atob !== 'undefined') {\n        const bstr = atob(str);\n        const buf = new Uint8Array(bstr.length);\n        for (let i = 0; i < bstr.length; i++) {\n            buf[i] = bstr.charCodeAt(i);\n        }\n        return buf;\n    }\n    throw new error_1.OpenAIError('Cannot decode base64 string; Expected `Buffer` or `atob` to be defined');\n};\nexports.fromBase64 = fromBase64;\n/**\n * Converts a Base64 encoded string to a Float32Array.\n * @param base64Str - The Base64 encoded string.\n * @returns An Array of numbers interpreted as Float32 values.\n */\nconst toFloat32Array = (base64Str) => {\n    if (typeof Buffer !== 'undefined') {\n        // for Node.js environment\n        const buf = Buffer.from(base64Str, 'base64');\n        return Array.from(new Float32Array(buf.buffer, buf.byteOffset, buf.length / Float32Array.BYTES_PER_ELEMENT));\n    }\n    else {\n        // for legacy web platform APIs\n        const binaryStr = atob(base64Str);\n        const len = binaryStr.length;\n        const bytes = new Uint8Array(len);\n        for (let i = 0; i < len; i++) {\n            bytes[i] = binaryStr.charCodeAt(i);\n        }\n        return Array.from(new Float32Array(bytes.buffer));\n    }\n};\nexports.toFloat32Array = toFloat32Array;\n//# sourceMappingURL=base64.js.map","/**\n * Enterprise Cache Manager with multi-tier caching\n * Placeholder implementation for Phase 1\n */\nclass CacheManager {\n    constructor(context, logger) {\n        this.context = context;\n        this.logger = logger;\n        this.isInitialized = false;\n    }\n\n    /**\n     * Initialize cache manager\n     */\n    async initialize() {\n        try {\n            this.logger.info('Initializing Cache Manager...');\n            // TODO: Implement caching logic in Phase 2\n            this.isInitialized = true;\n            this.logger.info('Cache Manager initialized successfully');\n        } catch (error) {\n            this.logger.error('Failed to initialize Cache Manager:', error);\n            throw error;\n        }\n    }\n\n    /**\n     * Cleanup resources\n     */\n    async cleanup() {\n        try {\n            this.logger.info('Cleaning up Cache Manager...');\n            this.isInitialized = false;\n        } catch (error) {\n            this.logger.error('Error during Cache Manager cleanup:', error);\n        }\n    }\n}\n\nmodule.exports = CacheManager;\n","module.exports = require(\"events\");","'use strict';\n\n/** @type {import('./isNaN')} */\nmodule.exports = Number.isNaN || function isNaN(a) {\n\treturn a !== a;\n};\n","// API\nmodule.exports = abort;\n\n/**\n * Aborts leftover active jobs\n *\n * @param {object} state - current state object\n */\nfunction abort(state)\n{\n  Object.keys(state.jobs).forEach(clean.bind(state));\n\n  // reset leftover jobs\n  state.jobs = {};\n}\n\n/**\n * Cleans up leftover job by invoking abort function for the provided job id\n *\n * @this  state\n * @param {string|number} key - job id to abort\n */\nfunction clean(key)\n{\n  if (typeof this.jobs[key] == 'function')\n  {\n    this.jobs[key]();\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChatCompletionRunner = void 0;\nconst AbstractChatCompletionRunner_1 = require(\"./AbstractChatCompletionRunner.js\");\nconst chatCompletionUtils_1 = require(\"./chatCompletionUtils.js\");\nclass ChatCompletionRunner extends AbstractChatCompletionRunner_1.AbstractChatCompletionRunner {\n    static runTools(client, params, options) {\n        const runner = new ChatCompletionRunner();\n        const opts = {\n            ...options,\n            headers: { ...options?.headers, 'X-Stainless-Helper-Method': 'runTools' },\n        };\n        runner._run(() => runner._runTools(client, params, opts));\n        return runner;\n    }\n    _addMessage(message, emit = true) {\n        super._addMessage(message, emit);\n        if ((0, chatCompletionUtils_1.isAssistantMessage)(message) && message.content) {\n            this._emit('content', message.content);\n        }\n    }\n}\nexports.ChatCompletionRunner = ChatCompletionRunner;\n//# sourceMappingURL=ChatCompletionRunner.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ParsingToolFunction = void 0;\nexports.isRunnableFunctionWithParse = isRunnableFunctionWithParse;\nfunction isRunnableFunctionWithParse(fn) {\n    return typeof fn.parse === 'function';\n}\n/**\n * This is helper class for passing a `function` and `parse` where the `function`\n * argument type matches the `parse` return type.\n */\nclass ParsingToolFunction {\n    constructor(input) {\n        this.type = 'function';\n        this.function = input;\n    }\n}\nexports.ParsingToolFunction = ParsingToolFunction;\n//# sourceMappingURL=RunnableFunction.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"./tslib.js\");\ntslib_1.__exportStar(require(\"./utils/values.js\"), exports);\ntslib_1.__exportStar(require(\"./utils/base64.js\"), exports);\ntslib_1.__exportStar(require(\"./utils/env.js\"), exports);\ntslib_1.__exportStar(require(\"./utils/log.js\"), exports);\ntslib_1.__exportStar(require(\"./utils/uuid.js\"), exports);\ntslib_1.__exportStar(require(\"./utils/sleep.js\"), exports);\n//# sourceMappingURL=utils.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sleep = void 0;\nconst sleep = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\nexports.sleep = sleep;\n//# sourceMappingURL=sleep.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Evals = void 0;\nconst tslib_1 = require(\"../../internal/tslib.js\");\nconst resource_1 = require(\"../../core/resource.js\");\nconst RunsAPI = tslib_1.__importStar(require(\"./runs/runs.js\"));\nconst runs_1 = require(\"./runs/runs.js\");\nconst pagination_1 = require(\"../../core/pagination.js\");\nconst path_1 = require(\"../../internal/utils/path.js\");\nclass Evals extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.runs = new RunsAPI.Runs(this._client);\n    }\n    /**\n     * Create the structure of an evaluation that can be used to test a model's\n     * performance. An evaluation is a set of testing criteria and the config for a\n     * data source, which dictates the schema of the data used in the evaluation. After\n     * creating an evaluation, you can run it on different models and model parameters.\n     * We support several types of graders and datasources. For more information, see\n     * the [Evals guide](https://platform.openai.com/docs/guides/evals).\n     */\n    create(body, options) {\n        return this._client.post('/evals', { body, ...options });\n    }\n    /**\n     * Get an evaluation by ID.\n     */\n    retrieve(evalID, options) {\n        return this._client.get((0, path_1.path) `/evals/${evalID}`, options);\n    }\n    /**\n     * Update certain properties of an evaluation.\n     */\n    update(evalID, body, options) {\n        return this._client.post((0, path_1.path) `/evals/${evalID}`, { body, ...options });\n    }\n    /**\n     * List evaluations for a project.\n     */\n    list(query = {}, options) {\n        return this._client.getAPIList('/evals', (pagination_1.CursorPage), { query, ...options });\n    }\n    /**\n     * Delete an evaluation.\n     */\n    delete(evalID, options) {\n        return this._client.delete((0, path_1.path) `/evals/${evalID}`, options);\n    }\n}\nexports.Evals = Evals;\nEvals.Runs = runs_1.Runs;\n//# sourceMappingURL=evals.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.path = exports.createPathTagFunction = void 0;\nexports.encodeURIPath = encodeURIPath;\nconst error_1 = require(\"../../core/error.js\");\n/**\n * Percent-encode everything that isn't safe to have in a path without encoding safe chars.\n *\n * Taken from https://datatracker.ietf.org/doc/html/rfc3986#section-3.3:\n * > unreserved  = ALPHA / DIGIT / \"-\" / \".\" / \"_\" / \"~\"\n * > sub-delims  = \"!\" / \"$\" / \"&\" / \"'\" / \"(\" / \")\" / \"*\" / \"+\" / \",\" / \";\" / \"=\"\n * > pchar       = unreserved / pct-encoded / sub-delims / \":\" / \"@\"\n */\nfunction encodeURIPath(str) {\n    return str.replace(/[^A-Za-z0-9\\-._~!$&'()*+,;=:@]+/g, encodeURIComponent);\n}\nconst EMPTY = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.create(null));\nconst createPathTagFunction = (pathEncoder = encodeURIPath) => function path(statics, ...params) {\n    // If there are no params, no processing is needed.\n    if (statics.length === 1)\n        return statics[0];\n    let postPath = false;\n    const invalidSegments = [];\n    const path = statics.reduce((previousValue, currentValue, index) => {\n        if (/[?#]/.test(currentValue)) {\n            postPath = true;\n        }\n        const value = params[index];\n        let encoded = (postPath ? encodeURIComponent : pathEncoder)('' + value);\n        if (index !== params.length &&\n            (value == null ||\n                (typeof value === 'object' &&\n                    // handle values from other realms\n                    value.toString ===\n                        Object.getPrototypeOf(Object.getPrototypeOf(value.hasOwnProperty ?? EMPTY) ?? EMPTY)\n                            ?.toString))) {\n            encoded = value + '';\n            invalidSegments.push({\n                start: previousValue.length + currentValue.length,\n                length: encoded.length,\n                error: `Value of type ${Object.prototype.toString\n                    .call(value)\n                    .slice(8, -1)} is not a valid path parameter`,\n            });\n        }\n        return previousValue + currentValue + (index === params.length ? '' : encoded);\n    }, '');\n    const pathOnly = path.split(/[?#]/, 1)[0];\n    const invalidSegmentPattern = /(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)/gi;\n    let match;\n    // Find all invalid segments\n    while ((match = invalidSegmentPattern.exec(pathOnly)) !== null) {\n        invalidSegments.push({\n            start: match.index,\n            length: match[0].length,\n            error: `Value \"${match[0]}\" can\\'t be safely passed as a path parameter`,\n        });\n    }\n    invalidSegments.sort((a, b) => a.start - b.start);\n    if (invalidSegments.length > 0) {\n        let lastEnd = 0;\n        const underline = invalidSegments.reduce((acc, segment) => {\n            const spaces = ' '.repeat(segment.start - lastEnd);\n            const arrows = '^'.repeat(segment.length);\n            lastEnd = segment.start + segment.length;\n            return acc + spaces + arrows;\n        }, '');\n        throw new error_1.OpenAIError(`Path parameters result in path with invalid segments:\\n${invalidSegments\n            .map((e) => e.error)\n            .join('\\n')}\\n${path}\\n${underline}`);\n    }\n    return path;\n};\nexports.createPathTagFunction = createPathTagFunction;\n/**\n * URI-encodes path params and ensures no unsafe /./ or /../ path segments are introduced.\n */\nexports.path = (0, exports.createPathTagFunction)(encodeURIPath);\n//# sourceMappingURL=path.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Moderations = void 0;\nconst resource_1 = require(\"../core/resource.js\");\nclass Moderations extends resource_1.APIResource {\n    /**\n     * Classifies if text and/or image inputs are potentially harmful. Learn more in\n     * the [moderation guide](https://platform.openai.com/docs/guides/moderation).\n     */\n    create(body, options) {\n        return this._client.post('/moderations', { body, ...options });\n    }\n}\nexports.Moderations = Moderations;\n//# sourceMappingURL=moderations.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Content = void 0;\nconst resource_1 = require(\"../../../core/resource.js\");\nconst headers_1 = require(\"../../../internal/headers.js\");\nconst path_1 = require(\"../../../internal/utils/path.js\");\nclass Content extends resource_1.APIResource {\n    /**\n     * Retrieve Container File Content\n     */\n    retrieve(fileID, params, options) {\n        const { container_id } = params;\n        return this._client.get((0, path_1.path) `/containers/${container_id}/files/${fileID}/content`, {\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ Accept: 'application/binary' }, options?.headers]),\n            __binaryResponse: true,\n        });\n    }\n}\nexports.Content = Content;\n//# sourceMappingURL=content.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Speech = void 0;\nconst resource_1 = require(\"../../core/resource.js\");\nconst headers_1 = require(\"../../internal/headers.js\");\nclass Speech extends resource_1.APIResource {\n    /**\n     * Generates audio from the input text.\n     *\n     * @example\n     * ```ts\n     * const speech = await client.audio.speech.create({\n     *   input: 'input',\n     *   model: 'string',\n     *   voice: 'ash',\n     * });\n     *\n     * const content = await speech.blob();\n     * console.log(content);\n     * ```\n     */\n    create(body, options) {\n        return this._client.post('/audio/speech', {\n            body,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ Accept: 'application/octet-stream' }, options?.headers]),\n            __binaryResponse: true,\n        });\n    }\n}\nexports.Speech = Speech;\n//# sourceMappingURL=speech.js.map","\"use strict\";\nvar _ChatCompletionStream_instances, _ChatCompletionStream_params, _ChatCompletionStream_choiceEventStates, _ChatCompletionStream_currentChatCompletionSnapshot, _ChatCompletionStream_beginRequest, _ChatCompletionStream_getChoiceEventState, _ChatCompletionStream_addChunk, _ChatCompletionStream_emitToolCallDoneEvent, _ChatCompletionStream_emitContentDoneEvents, _ChatCompletionStream_endRequest, _ChatCompletionStream_getAutoParseableResponseFormat, _ChatCompletionStream_accumulateChatCompletion;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChatCompletionStream = void 0;\nconst tslib_1 = require(\"../internal/tslib.js\");\nconst parser_1 = require(\"../_vendor/partial-json-parser/parser.js\");\nconst error_1 = require(\"../error.js\");\nconst parser_2 = require(\"../lib/parser.js\");\nconst streaming_1 = require(\"../streaming.js\");\nconst AbstractChatCompletionRunner_1 = require(\"./AbstractChatCompletionRunner.js\");\nclass ChatCompletionStream extends AbstractChatCompletionRunner_1.AbstractChatCompletionRunner {\n    constructor(params) {\n        super();\n        _ChatCompletionStream_instances.add(this);\n        _ChatCompletionStream_params.set(this, void 0);\n        _ChatCompletionStream_choiceEventStates.set(this, void 0);\n        _ChatCompletionStream_currentChatCompletionSnapshot.set(this, void 0);\n        tslib_1.__classPrivateFieldSet(this, _ChatCompletionStream_params, params, \"f\");\n        tslib_1.__classPrivateFieldSet(this, _ChatCompletionStream_choiceEventStates, [], \"f\");\n    }\n    get currentChatCompletionSnapshot() {\n        return tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_currentChatCompletionSnapshot, \"f\");\n    }\n    /**\n     * Intended for use on the frontend, consuming a stream produced with\n     * `.toReadableStream()` on the backend.\n     *\n     * Note that messages sent to the model do not appear in `.on('message')`\n     * in this context.\n     */\n    static fromReadableStream(stream) {\n        const runner = new ChatCompletionStream(null);\n        runner._run(() => runner._fromReadableStream(stream));\n        return runner;\n    }\n    static createChatCompletion(client, params, options) {\n        const runner = new ChatCompletionStream(params);\n        runner._run(() => runner._runChatCompletion(client, { ...params, stream: true }, { ...options, headers: { ...options?.headers, 'X-Stainless-Helper-Method': 'stream' } }));\n        return runner;\n    }\n    async _createChatCompletion(client, params, options) {\n        super._createChatCompletion;\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted)\n                this.controller.abort();\n            signal.addEventListener('abort', () => this.controller.abort());\n        }\n        tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_beginRequest).call(this);\n        const stream = await client.chat.completions.create({ ...params, stream: true }, { ...options, signal: this.controller.signal });\n        this._connected();\n        for await (const chunk of stream) {\n            tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_addChunk).call(this, chunk);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new error_1.APIUserAbortError();\n        }\n        return this._addChatCompletion(tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_endRequest).call(this));\n    }\n    async _fromReadableStream(readableStream, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted)\n                this.controller.abort();\n            signal.addEventListener('abort', () => this.controller.abort());\n        }\n        tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_beginRequest).call(this);\n        this._connected();\n        const stream = streaming_1.Stream.fromReadableStream(readableStream, this.controller);\n        let chatId;\n        for await (const chunk of stream) {\n            if (chatId && chatId !== chunk.id) {\n                // A new request has been made.\n                this._addChatCompletion(tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_endRequest).call(this));\n            }\n            tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_addChunk).call(this, chunk);\n            chatId = chunk.id;\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new error_1.APIUserAbortError();\n        }\n        return this._addChatCompletion(tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_endRequest).call(this));\n    }\n    [(_ChatCompletionStream_params = new WeakMap(), _ChatCompletionStream_choiceEventStates = new WeakMap(), _ChatCompletionStream_currentChatCompletionSnapshot = new WeakMap(), _ChatCompletionStream_instances = new WeakSet(), _ChatCompletionStream_beginRequest = function _ChatCompletionStream_beginRequest() {\n        if (this.ended)\n            return;\n        tslib_1.__classPrivateFieldSet(this, _ChatCompletionStream_currentChatCompletionSnapshot, undefined, \"f\");\n    }, _ChatCompletionStream_getChoiceEventState = function _ChatCompletionStream_getChoiceEventState(choice) {\n        let state = tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_choiceEventStates, \"f\")[choice.index];\n        if (state) {\n            return state;\n        }\n        state = {\n            content_done: false,\n            refusal_done: false,\n            logprobs_content_done: false,\n            logprobs_refusal_done: false,\n            done_tool_calls: new Set(),\n            current_tool_call_index: null,\n        };\n        tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_choiceEventStates, \"f\")[choice.index] = state;\n        return state;\n    }, _ChatCompletionStream_addChunk = function _ChatCompletionStream_addChunk(chunk) {\n        if (this.ended)\n            return;\n        const completion = tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_accumulateChatCompletion).call(this, chunk);\n        this._emit('chunk', chunk, completion);\n        for (const choice of chunk.choices) {\n            const choiceSnapshot = completion.choices[choice.index];\n            if (choice.delta.content != null &&\n                choiceSnapshot.message?.role === 'assistant' &&\n                choiceSnapshot.message?.content) {\n                this._emit('content', choice.delta.content, choiceSnapshot.message.content);\n                this._emit('content.delta', {\n                    delta: choice.delta.content,\n                    snapshot: choiceSnapshot.message.content,\n                    parsed: choiceSnapshot.message.parsed,\n                });\n            }\n            if (choice.delta.refusal != null &&\n                choiceSnapshot.message?.role === 'assistant' &&\n                choiceSnapshot.message?.refusal) {\n                this._emit('refusal.delta', {\n                    delta: choice.delta.refusal,\n                    snapshot: choiceSnapshot.message.refusal,\n                });\n            }\n            if (choice.logprobs?.content != null && choiceSnapshot.message?.role === 'assistant') {\n                this._emit('logprobs.content.delta', {\n                    content: choice.logprobs?.content,\n                    snapshot: choiceSnapshot.logprobs?.content ?? [],\n                });\n            }\n            if (choice.logprobs?.refusal != null && choiceSnapshot.message?.role === 'assistant') {\n                this._emit('logprobs.refusal.delta', {\n                    refusal: choice.logprobs?.refusal,\n                    snapshot: choiceSnapshot.logprobs?.refusal ?? [],\n                });\n            }\n            const state = tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_getChoiceEventState).call(this, choiceSnapshot);\n            if (choiceSnapshot.finish_reason) {\n                tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_emitContentDoneEvents).call(this, choiceSnapshot);\n                if (state.current_tool_call_index != null) {\n                    tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_emitToolCallDoneEvent).call(this, choiceSnapshot, state.current_tool_call_index);\n                }\n            }\n            for (const toolCall of choice.delta.tool_calls ?? []) {\n                if (state.current_tool_call_index !== toolCall.index) {\n                    tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_emitContentDoneEvents).call(this, choiceSnapshot);\n                    // new tool call started, the previous one is done\n                    if (state.current_tool_call_index != null) {\n                        tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_emitToolCallDoneEvent).call(this, choiceSnapshot, state.current_tool_call_index);\n                    }\n                }\n                state.current_tool_call_index = toolCall.index;\n            }\n            for (const toolCallDelta of choice.delta.tool_calls ?? []) {\n                const toolCallSnapshot = choiceSnapshot.message.tool_calls?.[toolCallDelta.index];\n                if (!toolCallSnapshot?.type) {\n                    continue;\n                }\n                if (toolCallSnapshot?.type === 'function') {\n                    this._emit('tool_calls.function.arguments.delta', {\n                        name: toolCallSnapshot.function?.name,\n                        index: toolCallDelta.index,\n                        arguments: toolCallSnapshot.function.arguments,\n                        parsed_arguments: toolCallSnapshot.function.parsed_arguments,\n                        arguments_delta: toolCallDelta.function?.arguments ?? '',\n                    });\n                }\n                else {\n                    assertNever(toolCallSnapshot?.type);\n                }\n            }\n        }\n    }, _ChatCompletionStream_emitToolCallDoneEvent = function _ChatCompletionStream_emitToolCallDoneEvent(choiceSnapshot, toolCallIndex) {\n        const state = tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_getChoiceEventState).call(this, choiceSnapshot);\n        if (state.done_tool_calls.has(toolCallIndex)) {\n            // we've already fired the done event\n            return;\n        }\n        const toolCallSnapshot = choiceSnapshot.message.tool_calls?.[toolCallIndex];\n        if (!toolCallSnapshot) {\n            throw new Error('no tool call snapshot');\n        }\n        if (!toolCallSnapshot.type) {\n            throw new Error('tool call snapshot missing `type`');\n        }\n        if (toolCallSnapshot.type === 'function') {\n            const inputTool = tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\")?.tools?.find((tool) => (0, parser_2.isChatCompletionFunctionTool)(tool) && tool.function.name === toolCallSnapshot.function.name); // TS doesn't narrow based on isChatCompletionTool\n            this._emit('tool_calls.function.arguments.done', {\n                name: toolCallSnapshot.function.name,\n                index: toolCallIndex,\n                arguments: toolCallSnapshot.function.arguments,\n                parsed_arguments: (0, parser_2.isAutoParsableTool)(inputTool) ? inputTool.$parseRaw(toolCallSnapshot.function.arguments)\n                    : inputTool?.function.strict ? JSON.parse(toolCallSnapshot.function.arguments)\n                        : null,\n            });\n        }\n        else {\n            assertNever(toolCallSnapshot.type);\n        }\n    }, _ChatCompletionStream_emitContentDoneEvents = function _ChatCompletionStream_emitContentDoneEvents(choiceSnapshot) {\n        const state = tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_getChoiceEventState).call(this, choiceSnapshot);\n        if (choiceSnapshot.message.content && !state.content_done) {\n            state.content_done = true;\n            const responseFormat = tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_getAutoParseableResponseFormat).call(this);\n            this._emit('content.done', {\n                content: choiceSnapshot.message.content,\n                parsed: responseFormat ? responseFormat.$parseRaw(choiceSnapshot.message.content) : null,\n            });\n        }\n        if (choiceSnapshot.message.refusal && !state.refusal_done) {\n            state.refusal_done = true;\n            this._emit('refusal.done', { refusal: choiceSnapshot.message.refusal });\n        }\n        if (choiceSnapshot.logprobs?.content && !state.logprobs_content_done) {\n            state.logprobs_content_done = true;\n            this._emit('logprobs.content.done', { content: choiceSnapshot.logprobs.content });\n        }\n        if (choiceSnapshot.logprobs?.refusal && !state.logprobs_refusal_done) {\n            state.logprobs_refusal_done = true;\n            this._emit('logprobs.refusal.done', { refusal: choiceSnapshot.logprobs.refusal });\n        }\n    }, _ChatCompletionStream_endRequest = function _ChatCompletionStream_endRequest() {\n        if (this.ended) {\n            throw new error_1.OpenAIError(`stream has ended, this shouldn't happen`);\n        }\n        const snapshot = tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_currentChatCompletionSnapshot, \"f\");\n        if (!snapshot) {\n            throw new error_1.OpenAIError(`request ended without sending any chunks`);\n        }\n        tslib_1.__classPrivateFieldSet(this, _ChatCompletionStream_currentChatCompletionSnapshot, undefined, \"f\");\n        tslib_1.__classPrivateFieldSet(this, _ChatCompletionStream_choiceEventStates, [], \"f\");\n        return finalizeChatCompletion(snapshot, tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\"));\n    }, _ChatCompletionStream_getAutoParseableResponseFormat = function _ChatCompletionStream_getAutoParseableResponseFormat() {\n        const responseFormat = tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\")?.response_format;\n        if ((0, parser_2.isAutoParsableResponseFormat)(responseFormat)) {\n            return responseFormat;\n        }\n        return null;\n    }, _ChatCompletionStream_accumulateChatCompletion = function _ChatCompletionStream_accumulateChatCompletion(chunk) {\n        var _a, _b, _c, _d;\n        let snapshot = tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_currentChatCompletionSnapshot, \"f\");\n        const { choices, ...rest } = chunk;\n        if (!snapshot) {\n            snapshot = tslib_1.__classPrivateFieldSet(this, _ChatCompletionStream_currentChatCompletionSnapshot, {\n                ...rest,\n                choices: [],\n            }, \"f\");\n        }\n        else {\n            Object.assign(snapshot, rest);\n        }\n        for (const { delta, finish_reason, index, logprobs = null, ...other } of chunk.choices) {\n            let choice = snapshot.choices[index];\n            if (!choice) {\n                choice = snapshot.choices[index] = { finish_reason, index, message: {}, logprobs, ...other };\n            }\n            if (logprobs) {\n                if (!choice.logprobs) {\n                    choice.logprobs = Object.assign({}, logprobs);\n                }\n                else {\n                    const { content, refusal, ...rest } = logprobs;\n                    assertIsEmpty(rest);\n                    Object.assign(choice.logprobs, rest);\n                    if (content) {\n                        (_a = choice.logprobs).content ?? (_a.content = []);\n                        choice.logprobs.content.push(...content);\n                    }\n                    if (refusal) {\n                        (_b = choice.logprobs).refusal ?? (_b.refusal = []);\n                        choice.logprobs.refusal.push(...refusal);\n                    }\n                }\n            }\n            if (finish_reason) {\n                choice.finish_reason = finish_reason;\n                if (tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\") && (0, parser_2.hasAutoParseableInput)(tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\"))) {\n                    if (finish_reason === 'length') {\n                        throw new error_1.LengthFinishReasonError();\n                    }\n                    if (finish_reason === 'content_filter') {\n                        throw new error_1.ContentFilterFinishReasonError();\n                    }\n                }\n            }\n            Object.assign(choice, other);\n            if (!delta)\n                continue; // Shouldn't happen; just in case.\n            const { content, refusal, function_call, role, tool_calls, ...rest } = delta;\n            assertIsEmpty(rest);\n            Object.assign(choice.message, rest);\n            if (refusal) {\n                choice.message.refusal = (choice.message.refusal || '') + refusal;\n            }\n            if (role)\n                choice.message.role = role;\n            if (function_call) {\n                if (!choice.message.function_call) {\n                    choice.message.function_call = function_call;\n                }\n                else {\n                    if (function_call.name)\n                        choice.message.function_call.name = function_call.name;\n                    if (function_call.arguments) {\n                        (_c = choice.message.function_call).arguments ?? (_c.arguments = '');\n                        choice.message.function_call.arguments += function_call.arguments;\n                    }\n                }\n            }\n            if (content) {\n                choice.message.content = (choice.message.content || '') + content;\n                if (!choice.message.refusal && tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_getAutoParseableResponseFormat).call(this)) {\n                    choice.message.parsed = (0, parser_1.partialParse)(choice.message.content);\n                }\n            }\n            if (tool_calls) {\n                if (!choice.message.tool_calls)\n                    choice.message.tool_calls = [];\n                for (const { index, id, type, function: fn, ...rest } of tool_calls) {\n                    const tool_call = ((_d = choice.message.tool_calls)[index] ?? (_d[index] = {}));\n                    Object.assign(tool_call, rest);\n                    if (id)\n                        tool_call.id = id;\n                    if (type)\n                        tool_call.type = type;\n                    if (fn)\n                        tool_call.function ?? (tool_call.function = { name: fn.name ?? '', arguments: '' });\n                    if (fn?.name)\n                        tool_call.function.name = fn.name;\n                    if (fn?.arguments) {\n                        tool_call.function.arguments += fn.arguments;\n                        if ((0, parser_2.shouldParseToolCall)(tslib_1.__classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\"), tool_call)) {\n                            tool_call.function.parsed_arguments = (0, parser_1.partialParse)(tool_call.function.arguments);\n                        }\n                    }\n                }\n            }\n        }\n        return snapshot;\n    }, Symbol.asyncIterator)]() {\n        const pushQueue = [];\n        const readQueue = [];\n        let done = false;\n        this.on('chunk', (chunk) => {\n            const reader = readQueue.shift();\n            if (reader) {\n                reader.resolve(chunk);\n            }\n            else {\n                pushQueue.push(chunk);\n            }\n        });\n        this.on('end', () => {\n            done = true;\n            for (const reader of readQueue) {\n                reader.resolve(undefined);\n            }\n            readQueue.length = 0;\n        });\n        this.on('abort', (err) => {\n            done = true;\n            for (const reader of readQueue) {\n                reader.reject(err);\n            }\n            readQueue.length = 0;\n        });\n        this.on('error', (err) => {\n            done = true;\n            for (const reader of readQueue) {\n                reader.reject(err);\n            }\n            readQueue.length = 0;\n        });\n        return {\n            next: async () => {\n                if (!pushQueue.length) {\n                    if (done) {\n                        return { value: undefined, done: true };\n                    }\n                    return new Promise((resolve, reject) => readQueue.push({ resolve, reject })).then((chunk) => (chunk ? { value: chunk, done: false } : { value: undefined, done: true }));\n                }\n                const chunk = pushQueue.shift();\n                return { value: chunk, done: false };\n            },\n            return: async () => {\n                this.abort();\n                return { value: undefined, done: true };\n            },\n        };\n    }\n    toReadableStream() {\n        const stream = new streaming_1.Stream(this[Symbol.asyncIterator].bind(this), this.controller);\n        return stream.toReadableStream();\n    }\n}\nexports.ChatCompletionStream = ChatCompletionStream;\nfunction finalizeChatCompletion(snapshot, params) {\n    const { id, choices, created, model, system_fingerprint, ...rest } = snapshot;\n    const completion = {\n        ...rest,\n        id,\n        choices: choices.map(({ message, finish_reason, index, logprobs, ...choiceRest }) => {\n            if (!finish_reason) {\n                throw new error_1.OpenAIError(`missing finish_reason for choice ${index}`);\n            }\n            const { content = null, function_call, tool_calls, ...messageRest } = message;\n            const role = message.role; // this is what we expect; in theory it could be different which would make our types a slight lie but would be fine.\n            if (!role) {\n                throw new error_1.OpenAIError(`missing role for choice ${index}`);\n            }\n            if (function_call) {\n                const { arguments: args, name } = function_call;\n                if (args == null) {\n                    throw new error_1.OpenAIError(`missing function_call.arguments for choice ${index}`);\n                }\n                if (!name) {\n                    throw new error_1.OpenAIError(`missing function_call.name for choice ${index}`);\n                }\n                return {\n                    ...choiceRest,\n                    message: {\n                        content,\n                        function_call: { arguments: args, name },\n                        role,\n                        refusal: message.refusal ?? null,\n                    },\n                    finish_reason,\n                    index,\n                    logprobs,\n                };\n            }\n            if (tool_calls) {\n                return {\n                    ...choiceRest,\n                    index,\n                    finish_reason,\n                    logprobs,\n                    message: {\n                        ...messageRest,\n                        role,\n                        content,\n                        refusal: message.refusal ?? null,\n                        tool_calls: tool_calls.map((tool_call, i) => {\n                            const { function: fn, type, id, ...toolRest } = tool_call;\n                            const { arguments: args, name, ...fnRest } = fn || {};\n                            if (id == null) {\n                                throw new error_1.OpenAIError(`missing choices[${index}].tool_calls[${i}].id\\n${str(snapshot)}`);\n                            }\n                            if (type == null) {\n                                throw new error_1.OpenAIError(`missing choices[${index}].tool_calls[${i}].type\\n${str(snapshot)}`);\n                            }\n                            if (name == null) {\n                                throw new error_1.OpenAIError(`missing choices[${index}].tool_calls[${i}].function.name\\n${str(snapshot)}`);\n                            }\n                            if (args == null) {\n                                throw new error_1.OpenAIError(`missing choices[${index}].tool_calls[${i}].function.arguments\\n${str(snapshot)}`);\n                            }\n                            return { ...toolRest, id, type, function: { ...fnRest, name, arguments: args } };\n                        }),\n                    },\n                };\n            }\n            return {\n                ...choiceRest,\n                message: { ...messageRest, content, role, refusal: message.refusal ?? null },\n                finish_reason,\n                index,\n                logprobs,\n            };\n        }),\n        created,\n        model,\n        object: 'chat.completion',\n        ...(system_fingerprint ? { system_fingerprint } : {}),\n    };\n    return (0, parser_2.maybeParseChatCompletion)(completion, params);\n}\nfunction str(x) {\n    return JSON.stringify(x);\n}\n/**\n * Ensures the given argument is an empty object, useful for\n * asserting that all known properties on an object have been\n * destructured.\n */\nfunction assertIsEmpty(obj) {\n    return;\n}\nfunction assertNever(_x) { }\n//# sourceMappingURL=ChatCompletionStream.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GraderModels = void 0;\nconst resource_1 = require(\"../../core/resource.js\");\nclass GraderModels extends resource_1.APIResource {\n}\nexports.GraderModels = GraderModels;\n//# sourceMappingURL=grader-models.js.map","// const vscode = require('vscode'); // Will be used in Phase 2\nconst fs = require('fs').promises;\nconst path = require('path');\n\n/**\n * Enterprise performance monitoring with real-time metrics, cost tracking, and analytics\n */\nclass PerformanceMonitor {\n  constructor(context, logger) {\n    this.context = context;\n    this.logger = logger;\n    this.metrics = new Map();\n    this.timers = new Map();\n    this.costs = new Map();\n    this.sessionStart = Date.now();\n    this.metricsFile = null;\n    this.initializeMetricsStorage();\n  }\n\n  /**\n   * Initialize metrics storage\n   */\n  async initializeMetricsStorage() {\n    try {\n      const metricsDir = path.join(\n        this.context.globalStorageUri.fsPath,\n        'metrics'\n      );\n      await fs.mkdir(metricsDir, { recursive: true });\n\n      const timestamp = new Date().toISOString().split('T')[0];\n      this.metricsFile = path.join(metricsDir, `metrics_${timestamp}.json`);\n\n      this.logger.debug('Performance monitor initialized', {\n        metricsFile: this.metricsFile,\n      });\n    } catch (error) {\n      this.logger.error('Failed to initialize metrics storage:', error);\n    }\n  }\n\n  /**\n   * Record a performance metric\n   */\n  recordMetric(name, value, metadata = {}) {\n    const timestamp = Date.now();\n    const metric = {\n      name,\n      value,\n      timestamp,\n      sessionTime: timestamp - this.sessionStart,\n      ...metadata,\n    };\n\n    // Store in memory\n    if (!this.metrics.has(name)) {\n      this.metrics.set(name, []);\n    }\n    this.metrics.get(name).push(metric);\n\n    // Log for debugging\n    this.logger.logPerformance(name, value, metadata);\n\n    // Persist to file\n    this.persistMetric(metric);\n\n    return metric;\n  }\n\n  /**\n   * Start a performance timer\n   */\n  startTimer(name, metadata = {}) {\n    const timer = {\n      name,\n      startTime: Date.now(),\n      metadata,\n    };\n\n    this.timers.set(name, timer);\n    this.logger.debug(`Timer started: ${name}`, metadata);\n\n    return {\n      end: () => this.endTimer(name),\n    };\n  }\n\n  /**\n   * End a performance timer and record the metric\n   */\n  endTimer(name) {\n    const timer = this.timers.get(name);\n    if (!timer) {\n      this.logger.warn(`Timer not found: ${name}`);\n      return null;\n    }\n\n    const duration = Date.now() - timer.startTime;\n    this.timers.delete(name);\n\n    const metric = this.recordMetric(`${name}_duration`, duration, {\n      ...timer.metadata,\n      type: 'timer',\n    });\n\n    this.logger.debug(`Timer ended: ${name}`, { duration });\n    return metric;\n  }\n\n  /**\n   * Record API cost for tracking\n   */\n  recordCost(provider, model, tokens, cost, metadata = {}) {\n    const costEntry = {\n      provider,\n      model,\n      tokens,\n      cost,\n      timestamp: Date.now(),\n      ...metadata,\n    };\n\n    const key = `${provider}_${model}`;\n    if (!this.costs.has(key)) {\n      this.costs.set(key, []);\n    }\n    this.costs.get(key).push(costEntry);\n\n    this.recordMetric('api_cost', cost, {\n      provider,\n      model,\n      tokens,\n      type: 'cost',\n    });\n\n    this.logger.debug('API cost recorded', costEntry);\n    return costEntry;\n  }\n\n  /**\n   * Get performance statistics\n   */\n  getStats(metricName = null) {\n    if (metricName) {\n      const metrics = this.metrics.get(metricName) || [];\n      return this.calculateStats(metrics);\n    }\n\n    const allStats = {};\n    for (const [name, metrics] of this.metrics.entries()) {\n      allStats[name] = this.calculateStats(metrics);\n    }\n    return allStats;\n  }\n\n  /**\n   * Calculate statistics for a set of metrics\n   */\n  calculateStats(metrics) {\n    if (metrics.length === 0) {\n      return { count: 0, avg: 0, min: 0, max: 0, total: 0 };\n    }\n\n    const values = metrics.map((m) => m.value);\n    const total = values.reduce((sum, val) => sum + val, 0);\n    const avg = total / values.length;\n    const min = Math.min(...values);\n    const max = Math.max(...values);\n\n    return {\n      count: metrics.length,\n      avg: Math.round(avg * 100) / 100,\n      min,\n      max,\n      total: Math.round(total * 100) / 100,\n      latest: metrics[metrics.length - 1],\n    };\n  }\n\n  /**\n   * Get cost summary\n   */\n  getCostSummary() {\n    const summary = {\n      totalCost: 0,\n      byProvider: {},\n      byModel: {},\n      totalTokens: 0,\n    };\n\n    for (const [key, costs] of this.costs.entries()) {\n      const [provider, model] = key.split('_');\n\n      for (const cost of costs) {\n        summary.totalCost += cost.cost;\n        summary.totalTokens += cost.tokens;\n\n        if (!summary.byProvider[provider]) {\n          summary.byProvider[provider] = { cost: 0, tokens: 0, calls: 0 };\n        }\n        summary.byProvider[provider].cost += cost.cost;\n        summary.byProvider[provider].tokens += cost.tokens;\n        summary.byProvider[provider].calls += 1;\n\n        if (!summary.byModel[model]) {\n          summary.byModel[model] = { cost: 0, tokens: 0, calls: 0 };\n        }\n        summary.byModel[model].cost += cost.cost;\n        summary.byModel[model].tokens += cost.tokens;\n        summary.byModel[model].calls += 1;\n      }\n    }\n\n    // Round costs to 4 decimal places\n    summary.totalCost = Math.round(summary.totalCost * 10000) / 10000;\n    for (const provider in summary.byProvider) {\n      summary.byProvider[provider].cost =\n        Math.round(summary.byProvider[provider].cost * 10000) / 10000;\n    }\n    for (const model in summary.byModel) {\n      summary.byModel[model].cost =\n        Math.round(summary.byModel[model].cost * 10000) / 10000;\n    }\n\n    return summary;\n  }\n\n  /**\n   * Get system performance metrics\n   */\n  getSystemMetrics() {\n    const memUsage = process.memoryUsage();\n    const uptime = Date.now() - this.sessionStart;\n\n    return {\n      memory: {\n        rss: Math.round((memUsage.rss / 1024 / 1024) * 100) / 100, // MB\n        heapUsed: Math.round((memUsage.heapUsed / 1024 / 1024) * 100) / 100, // MB\n        heapTotal: Math.round((memUsage.heapTotal / 1024 / 1024) * 100) / 100, // MB\n        external: Math.round((memUsage.external / 1024 / 1024) * 100) / 100, // MB\n      },\n      uptime: uptime,\n      sessionStart: this.sessionStart,\n      activeTimers: this.timers.size,\n      metricsCount: Array.from(this.metrics.values()).reduce(\n        (sum, arr) => sum + arr.length,\n        0\n      ),\n    };\n  }\n\n  /**\n   * Persist metric to file\n   */\n  async persistMetric(metric) {\n    if (!this.metricsFile) return;\n\n    try {\n      const data = JSON.stringify(metric) + '\\n';\n      await fs.appendFile(this.metricsFile, data);\n    } catch (error) {\n      this.logger.error('Failed to persist metric:', error);\n    }\n  }\n\n  /**\n   * Export metrics for analysis\n   */\n  async exportMetrics(format = 'json') {\n    const data = {\n      session: {\n        start: this.sessionStart,\n        duration: Date.now() - this.sessionStart,\n      },\n      metrics: Object.fromEntries(this.metrics),\n      costs: Object.fromEntries(this.costs),\n      stats: this.getStats(),\n      costSummary: this.getCostSummary(),\n      system: this.getSystemMetrics(),\n    };\n\n    if (format === 'json') {\n      return JSON.stringify(data, null, 2);\n    }\n\n    // TODO: Add CSV, XML formats if needed\n    return data;\n  }\n\n  /**\n   * Clear old metrics to prevent memory leaks\n   */\n  clearOldMetrics(maxAge = 24 * 60 * 60 * 1000) {\n    // 24 hours default\n    const cutoff = Date.now() - maxAge;\n    let cleared = 0;\n\n    for (const [name, metrics] of this.metrics.entries()) {\n      const filtered = metrics.filter((m) => m.timestamp > cutoff);\n      this.metrics.set(name, filtered);\n      cleared += metrics.length - filtered.length;\n    }\n\n    for (const [key, costs] of this.costs.entries()) {\n      const filtered = costs.filter((c) => c.timestamp > cutoff);\n      this.costs.set(key, filtered);\n      cleared += costs.length - filtered.length;\n    }\n\n    if (cleared > 0) {\n      this.logger.debug(`Cleared ${cleared} old metrics`);\n    }\n  }\n\n  /**\n   * Cleanup resources\n   */\n  async cleanup() {\n    try {\n      // Clear any active timers\n      this.timers.clear();\n\n      // Export final metrics\n      const finalMetrics = await this.exportMetrics();\n      this.logger.debug('Final metrics exported', {\n        metricsSize: finalMetrics.length,\n      });\n    } catch (error) {\n      this.logger.error('Error during performance monitor cleanup:', error);\n    }\n  }\n}\n\nmodule.exports = PerformanceMonitor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RFC3986 = exports.RFC1738 = exports.formatters = exports.default_formatter = exports.default_format = void 0;\nexports.default_format = 'RFC3986';\nconst default_formatter = (v) => String(v);\nexports.default_formatter = default_formatter;\nexports.formatters = {\n    RFC1738: (v) => String(v).replace(/%20/g, '+'),\n    RFC3986: exports.default_formatter,\n};\nexports.RFC1738 = 'RFC1738';\nexports.RFC3986 = 'RFC3986';\n//# sourceMappingURL=formats.js.map","const vscode = require(\"vscode\");\n// const path = require('path'); // Will be used in Phase 2\n\n/**\n * Main Agent Controller - orchestrates all agent operations with enterprise-grade architecture\n */\nclass AgentController {\n  constructor(context, logger, performanceMonitor) {\n    this.context = context;\n    this.logger = logger;\n    this.performanceMonitor = performanceMonitor;\n\n    // Core components (will be initialized)\n    this.aiClient = null;\n    this.contextManager = null;\n    this.fileOps = null;\n    this.indexEngine = null;\n    this.cacheManager = null;\n\n    // State management\n    this.isInitialized = false;\n    this.workspacePath = null;\n    this.configuration = null;\n  }\n\n  /**\n   * Initialize the agent controller and all core components\n   */\n  async initialize() {\n    const timer = this.performanceMonitor.startTimer(\"agent_initialization\");\n\n    try {\n      this.logger.info(\"Initializing Agent Controller...\");\n\n      // Load configuration\n      await this.loadConfiguration();\n\n      // Initialize workspace\n      await this.initializeWorkspace();\n\n      // Initialize core components\n      await this.initializeCoreComponents();\n\n      // Validate initialization\n      await this.validateInitialization();\n\n      this.isInitialized = true;\n      timer.end();\n\n      this.logger.info(\"Agent Controller initialized successfully\");\n      this.performanceMonitor.recordMetric(\"initialization_success\", 1);\n    } catch (error) {\n      timer.end();\n      this.logger.error(\"Failed to initialize Agent Controller:\", error);\n      this.performanceMonitor.recordMetric(\"initialization_failure\", 1);\n      throw error;\n    }\n  }\n\n  /**\n   * Load and validate configuration\n   */\n  async loadConfiguration() {\n    try {\n      this.configuration = vscode.workspace.getConfiguration(\"nox\");\n\n      // Set default values if not configured\n      const aiProvider = this.configuration.get(\"aiProvider\", \"anthropic\");\n      const enableCaching = this.configuration.get(\"enableCaching\", true);\n      const enableTelemetry = this.configuration.get(\"enableTelemetry\", true);\n      const maxContextSize = this.configuration.get(\"maxContextSize\", 100000);\n      const logLevel = this.configuration.get(\"logLevel\", \"info\");\n\n      this.logger.info(\"🦊 Nox configuration loaded\", {\n        provider: aiProvider,\n        caching: enableCaching,\n        telemetry: enableTelemetry,\n        maxContextSize: maxContextSize,\n        logLevel: logLevel,\n      });\n\n      // Store configuration for easy access\n      this.configValues = {\n        aiProvider,\n        enableCaching,\n        enableTelemetry,\n        maxContextSize,\n        logLevel,\n      };\n    } catch (error) {\n      this.logger.error(\"Configuration loading failed:\", error);\n      // Use defaults if configuration fails\n      this.configValues = {\n        aiProvider: \"anthropic\",\n        enableCaching: true,\n        enableTelemetry: true,\n        maxContextSize: 100000,\n        logLevel: \"info\",\n      };\n      this.logger.info(\"🦊 Using default configuration values\");\n    }\n  }\n\n  /**\n   * Get configuration value with fallback\n   */\n  get(key, defaultValue = null) {\n    return this.configValues ? this.configValues[key] : defaultValue;\n  }\n\n  /**\n   * Initialize workspace context\n   */\n  async initializeWorkspace() {\n    try {\n      const workspaceFolders = vscode.workspace.workspaceFolders;\n\n      if (workspaceFolders && workspaceFolders.length > 0) {\n        this.workspacePath = workspaceFolders[0].uri.fsPath;\n        this.logger.info(\"Workspace detected\", { path: this.workspacePath });\n      } else {\n        this.logger.warn(\n          \"No workspace folder detected - some features may be limited\"\n        );\n      }\n    } catch (error) {\n      throw new Error(`Workspace initialization failed: ${error.message}`);\n    }\n  }\n\n  /**\n   * Initialize core components with dependency injection\n   */\n  async initializeCoreComponents() {\n    try {\n      // Import core modules (lazy loading for performance)\n      const AIClient = require(\"./aiClient\");\n      const ContextManager = require(\"./contextManager\");\n      const FileOps = require(\"./fileOps\");\n      const IndexEngine = require(\"./indexEngine\");\n      const CacheManager = require(\"../storage/cacheManager\");\n\n      // Initialize in dependency order\n      this.cacheManager = new CacheManager(this.context, this.logger);\n      await this.cacheManager.initialize();\n\n      this.aiClient = new AIClient(\n        this.context,\n        this.logger,\n        this.performanceMonitor\n      );\n      await this.aiClient.initialize(this.configuration);\n\n      this.fileOps = new FileOps(\n        this.context,\n        this.logger,\n        this.performanceMonitor\n      );\n      await this.fileOps.initialize();\n\n      this.contextManager = new ContextManager(\n        this.context,\n        this.logger,\n        this.performanceMonitor,\n        this.cacheManager\n      );\n      await this.contextManager.initialize();\n\n      this.indexEngine = new IndexEngine(\n        this.context,\n        this.logger,\n        this.performanceMonitor,\n        this.contextManager\n      );\n      await this.indexEngine.initialize(this.workspacePath);\n\n      this.logger.info(\"Core components initialized successfully\");\n    } catch (error) {\n      throw new Error(\n        `Core components initialization failed: ${error.message}`\n      );\n    }\n  }\n\n  /**\n   * Validate that all components are properly initialized\n   */\n  async validateInitialization() {\n    const components = [\n      { name: \"aiClient\", instance: this.aiClient },\n      { name: \"contextManager\", instance: this.contextManager },\n      { name: \"fileOps\", instance: this.fileOps },\n      { name: \"indexEngine\", instance: this.indexEngine },\n      { name: \"cacheManager\", instance: this.cacheManager },\n    ];\n\n    for (const component of components) {\n      if (!component.instance || !component.instance.isInitialized) {\n        throw new Error(\n          `Component ${component.name} failed to initialize properly`\n        );\n      }\n    }\n\n    this.logger.debug(\"All components validated successfully\");\n  }\n\n  /**\n   * Handle workspace folder changes\n   */\n  async handleWorkspaceChange(_event) {\n    try {\n      this.logger.info(\"Handling workspace change...\");\n\n      // Reinitialize workspace\n      await this.initializeWorkspace();\n\n      // Reinitialize index engine with new workspace\n      if (this.indexEngine) {\n        await this.indexEngine.reinitialize(this.workspacePath);\n      }\n\n      this.logger.info(\"Workspace change handled successfully\");\n    } catch (error) {\n      this.logger.error(\"Failed to handle workspace change:\", error);\n    }\n  }\n\n  /**\n   * Handle file changes for intelligent indexing\n   */\n  async handleFileChange(document) {\n    try {\n      if (!this.indexEngine || !this.isInitialized) return;\n\n      const filePath = document.uri.fsPath;\n      this.logger.debug(\"File changed, updating index\", { filePath });\n\n      await this.indexEngine.updateFileIndex(filePath, document.getText());\n    } catch (error) {\n      this.logger.error(\"Failed to handle file change:\", error);\n    }\n  }\n\n  /**\n   * Update configuration when settings change\n   */\n  async updateConfiguration() {\n    try {\n      this.logger.info(\"Updating configuration...\");\n\n      await this.loadConfiguration();\n\n      // Update AI client configuration\n      if (this.aiClient) {\n        await this.aiClient.updateConfiguration(this.configuration);\n      }\n\n      this.logger.info(\"Configuration updated successfully\");\n    } catch (error) {\n      this.logger.error(\"Failed to update configuration:\", error);\n    }\n  }\n\n  /**\n   * Get agent status and health information\n   */\n  getStatus() {\n    return {\n      initialized: this.isInitialized,\n      workspace: this.workspacePath,\n      components: {\n        aiClient: (this.aiClient && this.aiClient.isInitialized) || false,\n        contextManager:\n          (this.contextManager && this.contextManager.isInitialized) || false,\n        fileOps: (this.fileOps && this.fileOps.isInitialized) || false,\n        indexEngine:\n          (this.indexEngine && this.indexEngine.isInitialized) || false,\n        cacheManager:\n          (this.cacheManager && this.cacheManager.isInitialized) || false,\n      },\n      performance: this.performanceMonitor.getSystemMetrics(),\n      costs: this.performanceMonitor.getCostSummary(),\n    };\n  }\n\n  /**\n   * Execute an agent task with full orchestration\n   */\n  async executeTask(taskType, parameters = {}) {\n    if (!this.isInitialized) {\n      throw new Error(\"Agent controller not initialized\");\n    }\n\n    const timer = this.performanceMonitor.startTimer(`task_${taskType}`);\n\n    try {\n      this.logger.info(`Executing task: ${taskType}`, parameters);\n\n      // Task execution logic will be implemented in Phase 2\n      // For now, return a placeholder response\n      const result = {\n        taskType,\n        parameters,\n        status: \"completed\",\n        timestamp: Date.now(),\n        message: `Task ${taskType} executed successfully (placeholder)`,\n      };\n\n      timer.end();\n      this.performanceMonitor.recordMetric(`task_${taskType}_success`, 1);\n\n      return result;\n    } catch (error) {\n      timer.end();\n      this.performanceMonitor.recordMetric(`task_${taskType}_failure`, 1);\n      this.logger.error(`Task ${taskType} failed:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * Cleanup resources\n   */\n  async cleanup() {\n    try {\n      this.logger.info(\"Cleaning up Agent Controller...\");\n\n      const cleanupPromises = [];\n\n      if (this.indexEngine) {\n        cleanupPromises.push(this.indexEngine.cleanup());\n      }\n      if (this.contextManager) {\n        cleanupPromises.push(this.contextManager.cleanup());\n      }\n      if (this.aiClient) {\n        cleanupPromises.push(this.aiClient.cleanup());\n      }\n      if (this.fileOps) {\n        cleanupPromises.push(this.fileOps.cleanup());\n      }\n      if (this.cacheManager) {\n        cleanupPromises.push(this.cacheManager.cleanup());\n      }\n\n      await Promise.all(cleanupPromises);\n\n      this.isInitialized = false;\n      this.logger.info(\"Agent Controller cleanup completed\");\n    } catch (error) {\n      this.logger.error(\"Error during Agent Controller cleanup:\", error);\n    }\n  }\n}\n\nmodule.exports = AgentController;\n","module.exports = require(\"child_process\");","'use strict';\n\n/** @type {import('./uri')} */\nmodule.exports = URIError;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VERSION = void 0;\nexports.VERSION = '6.3.0'; // x-release-please-version\n//# sourceMappingURL=version.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nvar _AbstractPage_client;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationCursorPage = exports.CursorPage = exports.Page = exports.PagePromise = exports.AbstractPage = void 0;\nconst tslib_1 = require(\"../internal/tslib.js\");\nconst error_1 = require(\"./error.js\");\nconst parse_1 = require(\"../internal/parse.js\");\nconst api_promise_1 = require(\"./api-promise.js\");\nconst values_1 = require(\"../internal/utils/values.js\");\nclass AbstractPage {\n    constructor(client, response, body, options) {\n        _AbstractPage_client.set(this, void 0);\n        tslib_1.__classPrivateFieldSet(this, _AbstractPage_client, client, \"f\");\n        this.options = options;\n        this.response = response;\n        this.body = body;\n    }\n    hasNextPage() {\n        const items = this.getPaginatedItems();\n        if (!items.length)\n            return false;\n        return this.nextPageRequestOptions() != null;\n    }\n    async getNextPage() {\n        const nextOptions = this.nextPageRequestOptions();\n        if (!nextOptions) {\n            throw new error_1.OpenAIError('No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.');\n        }\n        return await tslib_1.__classPrivateFieldGet(this, _AbstractPage_client, \"f\").requestAPIList(this.constructor, nextOptions);\n    }\n    async *iterPages() {\n        let page = this;\n        yield page;\n        while (page.hasNextPage()) {\n            page = await page.getNextPage();\n            yield page;\n        }\n    }\n    async *[(_AbstractPage_client = new WeakMap(), Symbol.asyncIterator)]() {\n        for await (const page of this.iterPages()) {\n            for (const item of page.getPaginatedItems()) {\n                yield item;\n            }\n        }\n    }\n}\nexports.AbstractPage = AbstractPage;\n/**\n * This subclass of Promise will resolve to an instantiated Page once the request completes.\n *\n * It also implements AsyncIterable to allow auto-paginating iteration on an unawaited list call, eg:\n *\n *    for await (const item of client.items.list()) {\n *      console.log(item)\n *    }\n */\nclass PagePromise extends api_promise_1.APIPromise {\n    constructor(client, request, Page) {\n        super(client, request, async (client, props) => new Page(client, props.response, await (0, parse_1.defaultParseResponse)(client, props), props.options));\n    }\n    /**\n     * Allow auto-paginating iteration on an unawaited list call, eg:\n     *\n     *    for await (const item of client.items.list()) {\n     *      console.log(item)\n     *    }\n     */\n    async *[Symbol.asyncIterator]() {\n        const page = await this;\n        for await (const item of page) {\n            yield item;\n        }\n    }\n}\nexports.PagePromise = PagePromise;\n/**\n * Note: no pagination actually occurs yet, this is for forwards-compatibility.\n */\nclass Page extends AbstractPage {\n    constructor(client, response, body, options) {\n        super(client, response, body, options);\n        this.data = body.data || [];\n        this.object = body.object;\n    }\n    getPaginatedItems() {\n        return this.data ?? [];\n    }\n    nextPageRequestOptions() {\n        return null;\n    }\n}\nexports.Page = Page;\nclass CursorPage extends AbstractPage {\n    constructor(client, response, body, options) {\n        super(client, response, body, options);\n        this.data = body.data || [];\n        this.has_more = body.has_more || false;\n    }\n    getPaginatedItems() {\n        return this.data ?? [];\n    }\n    hasNextPage() {\n        if (this.has_more === false) {\n            return false;\n        }\n        return super.hasNextPage();\n    }\n    nextPageRequestOptions() {\n        const data = this.getPaginatedItems();\n        const id = data[data.length - 1]?.id;\n        if (!id) {\n            return null;\n        }\n        return {\n            ...this.options,\n            query: {\n                ...(0, values_1.maybeObj)(this.options.query),\n                after: id,\n            },\n        };\n    }\n}\nexports.CursorPage = CursorPage;\nclass ConversationCursorPage extends AbstractPage {\n    constructor(client, response, body, options) {\n        super(client, response, body, options);\n        this.data = body.data || [];\n        this.has_more = body.has_more || false;\n        this.last_id = body.last_id || '';\n    }\n    getPaginatedItems() {\n        return this.data ?? [];\n    }\n    hasNextPage() {\n        if (this.has_more === false) {\n            return false;\n        }\n        return super.hasNextPage();\n    }\n    nextPageRequestOptions() {\n        const cursor = this.last_id;\n        if (!cursor) {\n            return null;\n        }\n        return {\n            ...this.options,\n            query: {\n                ...(0, values_1.maybeObj)(this.options.query),\n                after: cursor,\n            },\n        };\n    }\n}\nexports.ConversationCursorPage = ConversationCursorPage;\n//# sourceMappingURL=pagination.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Permissions = void 0;\nconst resource_1 = require(\"../../../core/resource.js\");\nconst pagination_1 = require(\"../../../core/pagination.js\");\nconst path_1 = require(\"../../../internal/utils/path.js\");\nclass Permissions extends resource_1.APIResource {\n    /**\n     * **NOTE:** Calling this endpoint requires an [admin API key](../admin-api-keys).\n     *\n     * This enables organization owners to share fine-tuned models with other projects\n     * in their organization.\n     *\n     * @example\n     * ```ts\n     * // Automatically fetches more pages as needed.\n     * for await (const permissionCreateResponse of client.fineTuning.checkpoints.permissions.create(\n     *   'ft:gpt-4o-mini-2024-07-18:org:weather:B7R9VjQd',\n     *   { project_ids: ['string'] },\n     * )) {\n     *   // ...\n     * }\n     * ```\n     */\n    create(fineTunedModelCheckpoint, body, options) {\n        return this._client.getAPIList((0, path_1.path) `/fine_tuning/checkpoints/${fineTunedModelCheckpoint}/permissions`, (pagination_1.Page), { body, method: 'post', ...options });\n    }\n    /**\n     * **NOTE:** This endpoint requires an [admin API key](../admin-api-keys).\n     *\n     * Organization owners can use this endpoint to view all permissions for a\n     * fine-tuned model checkpoint.\n     *\n     * @example\n     * ```ts\n     * const permission =\n     *   await client.fineTuning.checkpoints.permissions.retrieve(\n     *     'ft-AF1WoRqd3aJAHsqc9NY7iL8F',\n     *   );\n     * ```\n     */\n    retrieve(fineTunedModelCheckpoint, query = {}, options) {\n        return this._client.get((0, path_1.path) `/fine_tuning/checkpoints/${fineTunedModelCheckpoint}/permissions`, {\n            query,\n            ...options,\n        });\n    }\n    /**\n     * **NOTE:** This endpoint requires an [admin API key](../admin-api-keys).\n     *\n     * Organization owners can use this endpoint to delete a permission for a\n     * fine-tuned model checkpoint.\n     *\n     * @example\n     * ```ts\n     * const permission =\n     *   await client.fineTuning.checkpoints.permissions.delete(\n     *     'cp_zc4Q7MP6XxulcVzj4MZdwsAB',\n     *     {\n     *       fine_tuned_model_checkpoint:\n     *         'ft:gpt-4o-mini-2024-07-18:org:weather:B7R9VjQd',\n     *     },\n     *   );\n     * ```\n     */\n    delete(permissionID, params, options) {\n        const { fine_tuned_model_checkpoint } = params;\n        return this._client.delete((0, path_1.path) `/fine_tuning/checkpoints/${fine_tuned_model_checkpoint}/permissions/${permissionID}`, options);\n    }\n}\nexports.Permissions = Permissions;\n//# sourceMappingURL=permissions.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=shared.js.map","const vscode = require(\"vscode\");\r\nconst axios = require(\"axios\");\r\n\r\n/**\r\n * 🦊 Nox AI Client - Multi-provider support with user-controlled API keys\r\n * Enterprise-grade AI client with secure API key management\r\n */\r\nclass AIClient {\r\n  constructor(context, logger, performanceMonitor) {\r\n    this.context = context;\r\n    this.logger = logger;\r\n    this.performanceMonitor = performanceMonitor;\r\n    this.isInitialized = false;\r\n    this.currentProvider = \"anthropic\";\r\n    this.currentModel = null; // Will be set to default model of current provider\r\n    this.providers = {\r\n      anthropic: {\r\n        name: \"🤖 Anthropic Claude\",\r\n        models: [\r\n          \"claude-sonnet-4-5-20250929\",\r\n          \"claude-sonnet-4-20250514\",\r\n          \"claude-3-5-haiku-20241022\",\r\n          \"claude-3-haiku-20240307\",\r\n        ],\r\n        baseUrl: \"https://api.anthropic.com/v1\",\r\n        defaultModel: \"claude-sonnet-4-5-20250929\",\r\n      },\r\n      openai: {\r\n        name: \"🧠 OpenAI GPT\",\r\n        models: [\"gpt-4\", \"gpt-4-turbo\", \"gpt-3.5-turbo\"],\r\n        baseUrl: \"https://api.openai.com/v1\",\r\n        defaultModel: \"gpt-4\",\r\n      },\r\n      deepseek: {\r\n        name: \"⚡ DeepSeek\",\r\n        models: [\"deepseek-chat\", \"deepseek-coder\"],\r\n        baseUrl: \"https://api.deepseek.com/v1\",\r\n        defaultModel: \"deepseek-chat\",\r\n      },\r\n      local: {\r\n        name: \"🏠 Local LLM\",\r\n        models: [\"ollama\", \"lm-studio\"],\r\n        baseUrl: \"http://localhost:11434\",\r\n        defaultModel: \"ollama\",\r\n      },\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 🔐 Get API key securely from VS Code SecretStorage\r\n   */\r\n  async getApiKey(provider) {\r\n    try {\r\n      const secretKey = `nox.${provider}.apiKey`;\r\n      const apiKey = await this.context.secrets.get(secretKey);\r\n\r\n      if (!apiKey) {\r\n        this.logger.warn(`🔑 No API key found for ${provider}`);\r\n        return null;\r\n      }\r\n\r\n      this.logger.info(`🔑 Retrieved API key for ${provider}`);\r\n      return apiKey;\r\n    } catch (error) {\r\n      this.logger.error(`Failed to retrieve API key for ${provider}:`, error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 🔐 Store API key securely in VS Code SecretStorage\r\n   */\r\n  async setApiKey(provider, apiKey) {\r\n    try {\r\n      const secretKey = `nox.${provider}.apiKey`;\r\n      await this.context.secrets.store(secretKey, apiKey);\r\n\r\n      this.logger.info(`🔑 Stored API key for ${provider} securely`);\r\n\r\n      // Also update VS Code settings for UI display (without the actual key)\r\n      const config = vscode.workspace.getConfiguration(\"nox\");\r\n      await config.update(\r\n        `${provider}.apiKey`,\r\n        \"••••••••\",\r\n        vscode.ConfigurationTarget.Global\r\n      );\r\n\r\n      return true;\r\n    } catch (error) {\r\n      this.logger.error(`Failed to store API key for ${provider}:`, error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 🔐 Remove API key from secure storage\r\n   */\r\n  async removeApiKey(provider) {\r\n    try {\r\n      const secretKey = `nox.${provider}.apiKey`;\r\n      await this.context.secrets.delete(secretKey);\r\n\r\n      // Also clear from VS Code settings\r\n      const config = vscode.workspace.getConfiguration(\"nox\");\r\n      await config.update(\r\n        `${provider}.apiKey`,\r\n        \"\",\r\n        vscode.ConfigurationTarget.Global\r\n      );\r\n\r\n      this.logger.info(`🔑 Removed API key for ${provider}`);\r\n      return true;\r\n    } catch (error) {\r\n      this.logger.error(`Failed to remove API key for ${provider}:`, error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 🔍 Check if provider has valid API key\r\n   */\r\n  async hasValidApiKey(provider) {\r\n    const apiKey = await this.getApiKey(provider);\r\n    return apiKey && apiKey.length > 0;\r\n  }\r\n\r\n  /**\r\n   * Initialize AI client with configuration\r\n   */\r\n  async initialize(configuration) {\r\n    try {\r\n      this.logger.info(\"🦊 Initializing Nox AI client...\");\r\n\r\n      this.currentProvider = configuration.get(\"aiProvider\", \"anthropic\");\r\n\r\n      // Set default model for current provider\r\n      this.currentModel = this.providers[this.currentProvider].defaultModel;\r\n\r\n      // Check for available API keys\r\n      const availableProviders = [];\r\n      for (const provider of Object.keys(this.providers)) {\r\n        if (await this.hasValidApiKey(provider)) {\r\n          availableProviders.push(provider);\r\n        }\r\n      }\r\n\r\n      this.logger.info(\r\n        `🔑 Available providers: ${availableProviders.join(\", \")}`\r\n      );\r\n\r\n      if (availableProviders.length === 0) {\r\n        this.logger.warn(\r\n          \"⚠️ No API keys configured. Please set up your API keys in Nox settings.\"\r\n        );\r\n      }\r\n\r\n      this.logger.info(\"🦊 Nox AI client initialized successfully\");\r\n      this.isInitialized = true;\r\n    } catch (error) {\r\n      this.logger.error(\"Failed to initialize AI Client:\", error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 🔄 Switch AI provider\r\n   */\r\n  async setProvider(provider) {\r\n    try {\r\n      if (!this.providers[provider]) {\r\n        throw new Error(`Unknown AI provider: ${provider}`);\r\n      }\r\n\r\n      const hasKey = await this.hasValidApiKey(provider);\r\n      if (!hasKey) {\r\n        throw new Error(\r\n          `No API key configured for ${provider}. Please set up your API key first.`\r\n        );\r\n      }\r\n\r\n      this.currentProvider = provider;\r\n      this.logger.info(\r\n        `🔄 Switched to AI provider: ${this.providers[provider].name}`\r\n      );\r\n\r\n      // Update configuration\r\n      const config = vscode.workspace.getConfiguration(\"nox\");\r\n      await config.update(\r\n        \"aiProvider\",\r\n        provider,\r\n        vscode.ConfigurationTarget.Global\r\n      );\r\n\r\n      return true;\r\n    } catch (error) {\r\n      this.logger.error(`Failed to switch provider to ${provider}:`, error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 📋 Get current provider info\r\n   */\r\n  getCurrentProvider() {\r\n    return {\r\n      id: this.currentProvider,\r\n      ...this.providers[this.currentProvider],\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 📋 Get all available providers\r\n   */\r\n  getAvailableProviders() {\r\n    return Object.keys(this.providers).map((id) => ({\r\n      id,\r\n      ...this.providers[id],\r\n    }));\r\n  }\r\n\r\n  /**\r\n   * 📋 Get providers with valid API keys\r\n   */\r\n  async getConfiguredProviders() {\r\n    const configured = [];\r\n    for (const provider of Object.keys(this.providers)) {\r\n      if (await this.hasValidApiKey(provider)) {\r\n        configured.push({\r\n          id: provider,\r\n          ...this.providers[provider],\r\n        });\r\n      }\r\n    }\r\n    return configured;\r\n  }\r\n\r\n  /**\r\n   * Update configuration\r\n   */\r\n  async updateConfiguration(configuration) {\r\n    try {\r\n      const newProvider = configuration.get(\"aiProvider\");\r\n      if (newProvider !== this.currentProvider) {\r\n        await this.setProvider(newProvider);\r\n      }\r\n    } catch (error) {\r\n      this.logger.error(\"Failed to update AI Client configuration:\", error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 🤖 Send request to AI provider - REAL IMPLEMENTATION\r\n   */\r\n  async sendRequest(prompt, options = {}) {\r\n    if (!this.isInitialized) {\r\n      throw new Error(\"AI Client not initialized\");\r\n    }\r\n\r\n    const timer = this.performanceMonitor.startTimer(\"ai_request\");\r\n    const provider = this.providers[this.currentProvider];\r\n\r\n    try {\r\n      this.logger.info(`🤖 Sending request to ${provider.name}...`);\r\n\r\n      // Get API key\r\n      const apiKey = await this.getApiKey(this.currentProvider);\r\n      if (!apiKey) {\r\n        throw new Error(\r\n          `No API key configured for ${provider.name}. Please set up your API key first.`\r\n        );\r\n      }\r\n\r\n      // Route to appropriate provider\r\n      let response;\r\n      const requestOptions = {\r\n        ...options,\r\n        model: options.model || this.currentModel,\r\n      };\r\n\r\n      switch (this.currentProvider) {\r\n        case \"anthropic\":\r\n          response = await this.callAnthropicAPI(\r\n            apiKey,\r\n            prompt,\r\n            requestOptions\r\n          );\r\n          break;\r\n        case \"openai\":\r\n          response = await this.callOpenAIAPI(apiKey, prompt, requestOptions);\r\n          break;\r\n        case \"deepseek\":\r\n          response = await this.callDeepSeekAPI(apiKey, prompt, requestOptions);\r\n          break;\r\n        case \"local\":\r\n          response = await this.callLocalAPI(prompt, requestOptions);\r\n          break;\r\n        default:\r\n          throw new Error(`Unsupported provider: ${this.currentProvider}`);\r\n      }\r\n\r\n      timer.end();\r\n      this.performanceMonitor.recordCost(\r\n        response.provider,\r\n        response.model,\r\n        response.tokens,\r\n        response.cost\r\n      );\r\n\r\n      this.logger.info(`🤖 Request completed in ${timer.duration}ms`);\r\n      return response;\r\n    } catch (error) {\r\n      timer.end();\r\n      this.logger.error(\"AI request failed:\", error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 🤖 Call Anthropic Claude API\r\n   */\r\n  async callAnthropicAPI(apiKey, prompt, options = {}) {\r\n    try {\r\n      const model = options.model || this.providers.anthropic.defaultModel;\r\n      const maxTokens = options.maxTokens || 4000;\r\n\r\n      const response = await axios.post(\r\n        \"https://api.anthropic.com/v1/messages\",\r\n        {\r\n          model: model,\r\n          max_tokens: maxTokens,\r\n          messages: [\r\n            {\r\n              role: \"user\",\r\n              content: prompt,\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"x-api-key\": apiKey,\r\n            \"anthropic-version\": \"2023-06-01\",\r\n          },\r\n          timeout: 60000, // 60 second timeout\r\n        }\r\n      );\r\n\r\n      const data = response.data;\r\n\r\n      return {\r\n        content: data.content[0].text,\r\n        provider: \"anthropic\",\r\n        model: model,\r\n        tokens: data.usage.input_tokens + data.usage.output_tokens,\r\n        cost: this.calculateAnthropicCost(data.usage, model),\r\n      };\r\n    } catch (error) {\r\n      this.logger.error(\"Anthropic API call failed:\", error);\r\n\r\n      if (error.response) {\r\n        const errorMessage =\r\n          error.response.data?.error?.message ||\r\n          error.response.data?.message ||\r\n          JSON.stringify(error.response.data);\r\n        throw new Error(\r\n          `Anthropic API error: ${error.response.status} - ${errorMessage}`\r\n        );\r\n      } else if (error.request) {\r\n        throw new Error(\"Anthropic API: No response received\");\r\n      } else {\r\n        throw new Error(`Anthropic API: ${error.message}`);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 🧠 Call OpenAI GPT API\r\n   */\r\n  async callOpenAIAPI(apiKey, prompt, options = {}) {\r\n    try {\r\n      const model = options.model || this.providers.openai.defaultModel;\r\n      const maxTokens = options.maxTokens || 4000;\r\n\r\n      const response = await axios.post(\r\n        \"https://api.openai.com/v1/chat/completions\",\r\n        {\r\n          model: model,\r\n          messages: [\r\n            {\r\n              role: \"user\",\r\n              content: prompt,\r\n            },\r\n          ],\r\n          max_tokens: maxTokens,\r\n        },\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${apiKey}`,\r\n          },\r\n          timeout: 60000, // 60 second timeout\r\n        }\r\n      );\r\n\r\n      const data = response.data;\r\n\r\n      return {\r\n        content: data.choices[0].message.content,\r\n        provider: \"openai\",\r\n        model: model,\r\n        tokens: data.usage.total_tokens,\r\n        cost: this.calculateOpenAICost(data.usage, model),\r\n      };\r\n    } catch (error) {\r\n      this.logger.error(\"OpenAI API call failed:\", error);\r\n\r\n      // Handle axios errors properly\r\n      if (error.response) {\r\n        const errorMessage =\r\n          error.response.data?.error?.message ||\r\n          error.response.data?.message ||\r\n          JSON.stringify(error.response.data);\r\n        throw new Error(\r\n          `OpenAI API error: ${error.response.status} - ${errorMessage}`\r\n        );\r\n      } else if (error.request) {\r\n        throw new Error(\"OpenAI API: No response received\");\r\n      } else {\r\n        throw new Error(`OpenAI API: ${error.message}`);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ⚡ Call DeepSeek API\r\n   */\r\n  async callDeepSeekAPI(apiKey, prompt, options = {}) {\r\n    try {\r\n      const model = options.model || this.providers.deepseek.defaultModel;\r\n      const maxTokens = options.maxTokens || 4000;\r\n\r\n      const response = await axios.post(\r\n        \"https://api.deepseek.com/v1/chat/completions\",\r\n        {\r\n          model: model,\r\n          messages: [\r\n            {\r\n              role: \"user\",\r\n              content: prompt,\r\n            },\r\n          ],\r\n          max_tokens: maxTokens,\r\n        },\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${apiKey}`,\r\n          },\r\n          timeout: 60000, // 60 second timeout\r\n        }\r\n      );\r\n\r\n      const data = response.data;\r\n\r\n      return {\r\n        content: data.choices[0].message.content,\r\n        provider: \"deepseek\",\r\n        model: model,\r\n        tokens: data.usage.total_tokens,\r\n        cost: this.calculateDeepSeekCost(data.usage, model),\r\n      };\r\n    } catch (error) {\r\n      this.logger.error(\"DeepSeek API call failed:\", error);\r\n\r\n      // Handle axios errors properly\r\n      if (error.response) {\r\n        throw new Error(\r\n          `DeepSeek API error: ${error.response.status} - ${\r\n            error.response.data.error?.message || error.response.data\r\n          }`\r\n        );\r\n      } else if (error.request) {\r\n        throw new Error(\"DeepSeek API: No response received\");\r\n      } else {\r\n        throw new Error(`DeepSeek API: ${error.message}`);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 🏠 Call Local LLM API (Ollama/LM Studio)\r\n   */\r\n  async callLocalAPI(prompt, options = {}) {\r\n    try {\r\n      const model = options.model || \"llama2\";\r\n      const baseUrl = options.baseUrl || this.providers.local.baseUrl;\r\n\r\n      const response = await axios.post(\r\n        `${baseUrl}/api/generate`,\r\n        {\r\n          model: model,\r\n          prompt: prompt,\r\n          stream: false,\r\n        },\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          timeout: 120000, // 2 minute timeout for local models\r\n        }\r\n      );\r\n\r\n      const data = response.data;\r\n\r\n      return {\r\n        content: data.response,\r\n        provider: \"local\",\r\n        model: model,\r\n        tokens: 0, // Local models don't track tokens\r\n        cost: 0, // Local models are free\r\n      };\r\n    } catch (error) {\r\n      this.logger.error(\"Local LLM API call failed:\", error);\r\n\r\n      // Handle axios errors properly\r\n      if (error.response) {\r\n        throw new Error(\r\n          `Local LLM API error: ${error.response.status} - ${error.response.data}`\r\n        );\r\n      } else if (error.request) {\r\n        throw new Error(\r\n          \"Local LLM API: No response received - is your local LLM server running?\"\r\n        );\r\n      } else {\r\n        throw new Error(`Local LLM API: ${error.message}`);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 💰 Calculate Anthropic API costs\r\n   */\r\n  calculateAnthropicCost(usage, model) {\r\n    // Anthropic pricing (as of 2024)\r\n    const pricing = {\r\n      \"claude-3-sonnet-20240229\": { input: 0.003, output: 0.015 }, // per 1K tokens\r\n      \"claude-3-haiku-20240307\": { input: 0.00025, output: 0.00125 },\r\n    };\r\n\r\n    const rates = pricing[model] || pricing[\"claude-3-sonnet-20240229\"];\r\n    return (\r\n      (usage.input_tokens * rates.input + usage.output_tokens * rates.output) /\r\n      1000\r\n    );\r\n  }\r\n\r\n  /**\r\n   * 💰 Calculate OpenAI API costs\r\n   */\r\n  calculateOpenAICost(usage, model) {\r\n    // OpenAI pricing (as of 2024)\r\n    const pricing = {\r\n      \"gpt-4\": { input: 0.03, output: 0.06 }, // per 1K tokens\r\n      \"gpt-4-turbo\": { input: 0.01, output: 0.03 },\r\n      \"gpt-3.5-turbo\": { input: 0.0005, output: 0.0015 },\r\n    };\r\n\r\n    const rates = pricing[model] || pricing[\"gpt-4\"];\r\n    return (\r\n      (usage.prompt_tokens * rates.input +\r\n        usage.completion_tokens * rates.output) /\r\n      1000\r\n    );\r\n  }\r\n\r\n  /**\r\n   * 💰 Calculate DeepSeek API costs\r\n   */\r\n  calculateDeepSeekCost(usage, model) {\r\n    // DeepSeek pricing (very competitive)\r\n    const pricing = {\r\n      \"deepseek-chat\": { input: 0.00014, output: 0.00028 }, // per 1K tokens\r\n      \"deepseek-coder\": { input: 0.00014, output: 0.00028 },\r\n    };\r\n\r\n    const rates = pricing[model] || pricing[\"deepseek-chat\"];\r\n    return (\r\n      (usage.prompt_tokens * rates.input +\r\n        usage.completion_tokens * rates.output) /\r\n      1000\r\n    );\r\n  }\r\n\r\n  /**\r\n   * 🔄 Set current provider\r\n   */\r\n  async setCurrentProvider(provider) {\r\n    if (!this.providers[provider]) {\r\n      throw new Error(`Unknown provider: ${provider}`);\r\n    }\r\n\r\n    this.currentProvider = provider;\r\n    this.currentModel = this.providers[provider].defaultModel;\r\n\r\n    // Update configuration\r\n    const config = vscode.workspace.getConfiguration(\"nox\");\r\n    await config.update(\r\n      \"aiProvider\",\r\n      provider,\r\n      vscode.ConfigurationTarget.Global\r\n    );\r\n\r\n    this.logger.info(`🔄 Current provider set to: ${provider}`);\r\n  }\r\n\r\n  /**\r\n   * 🔄 Set current model\r\n   */\r\n  async setCurrentModel(model) {\r\n    const provider = this.providers[this.currentProvider];\r\n    if (!provider.models.includes(model)) {\r\n      throw new Error(\r\n        `Model ${model} not available for provider ${this.currentProvider}`\r\n      );\r\n    }\r\n\r\n    this.currentModel = model;\r\n    this.logger.info(`🔄 Current model set to: ${model}`);\r\n  }\r\n\r\n  /**\r\n   * 📋 Get current provider ID (string)\r\n   */\r\n  getCurrentProviderId() {\r\n    return this.currentProvider;\r\n  }\r\n\r\n  /**\r\n   * 📋 Get current model\r\n   */\r\n  getCurrentModel() {\r\n    return (\r\n      this.currentModel || this.providers[this.currentProvider].defaultModel\r\n    );\r\n  }\r\n\r\n  /**\r\n   * 📋 Get all providers\r\n   */\r\n  getProviders() {\r\n    return this.providers;\r\n  }\r\n\r\n  /**\r\n   * 📋 Get models for current provider\r\n   */\r\n  getCurrentProviderModels() {\r\n    return this.providers[this.currentProvider].models;\r\n  }\r\n\r\n  /**\r\n   * 📋 Get models for specific provider\r\n   */\r\n  getProviderModels(provider) {\r\n    return this.providers[provider]?.models || [];\r\n  }\r\n\r\n  /**\r\n   * 🚨 Enhanced error message formatting\r\n   */\r\n  formatErrorMessage(error, provider) {\r\n    const errorInfo = this.categorizeError(error, provider);\r\n\r\n    return {\r\n      title: errorInfo.title,\r\n      message: errorInfo.message,\r\n      suggestion: errorInfo.suggestion,\r\n      category: errorInfo.category,\r\n      helpUrl: errorInfo.helpUrl,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 🔍 Categorize and enhance error messages\r\n   */\r\n  categorizeError(error, provider) {\r\n    const errorMessage = error.message || error.toString();\r\n\r\n    // API Key errors\r\n    if (\r\n      errorMessage.includes(\"401\") ||\r\n      errorMessage.includes(\"Unauthorized\") ||\r\n      errorMessage.includes(\"Invalid API key\")\r\n    ) {\r\n      return {\r\n        title: \"🔑 API Key Issue\",\r\n        message: `Your ${\r\n          this.providers[provider]?.name || provider\r\n        } API key appears to be invalid or missing.`,\r\n        suggestion: `Please check your API key in Nox Settings and ensure it's correctly configured for ${provider}.`,\r\n        category: \"api_key\",\r\n        helpUrl: this.getProviderHelpUrl(provider, \"api_key\"),\r\n      };\r\n    }\r\n\r\n    // Rate limit errors\r\n    if (\r\n      errorMessage.includes(\"429\") ||\r\n      errorMessage.includes(\"rate limit\") ||\r\n      errorMessage.includes(\"quota\")\r\n    ) {\r\n      return {\r\n        title: \"⏱️ Rate Limit Exceeded\",\r\n        message: `You've exceeded the rate limit for ${\r\n          this.providers[provider]?.name || provider\r\n        }.`,\r\n        suggestion:\r\n          \"Please wait a moment before trying again, or consider upgrading your API plan for higher limits.\",\r\n        category: \"rate_limit\",\r\n        helpUrl: this.getProviderHelpUrl(provider, \"rate_limit\"),\r\n      };\r\n    }\r\n\r\n    // Network errors\r\n    if (\r\n      errorMessage.includes(\"ENOTFOUND\") ||\r\n      errorMessage.includes(\"ECONNREFUSED\") ||\r\n      errorMessage.includes(\"timeout\")\r\n    ) {\r\n      return {\r\n        title: \"🌐 Network Connection Issue\",\r\n        message: \"Unable to connect to the AI service.\",\r\n        suggestion:\r\n          \"Please check your internet connection and try again. If using a local LLM, ensure the server is running.\",\r\n        category: \"network\",\r\n        helpUrl: this.getProviderHelpUrl(provider, \"network\"),\r\n      };\r\n    }\r\n\r\n    // Model errors\r\n    if (\r\n      errorMessage.includes(\"404\") ||\r\n      errorMessage.includes(\"model\") ||\r\n      errorMessage.includes(\"not found\")\r\n    ) {\r\n      return {\r\n        title: \"🤖 Model Not Available\",\r\n        message: `The selected model is not available or doesn't exist for ${\r\n          this.providers[provider]?.name || provider\r\n        }.`,\r\n        suggestion:\r\n          \"Please select a different model from the dropdown or check if your API plan includes access to this model.\",\r\n        category: \"model\",\r\n        helpUrl: this.getProviderHelpUrl(provider, \"model\"),\r\n      };\r\n    }\r\n\r\n    // Token/context errors\r\n    if (\r\n      errorMessage.includes(\"context\") ||\r\n      errorMessage.includes(\"token\") ||\r\n      errorMessage.includes(\"too long\")\r\n    ) {\r\n      return {\r\n        title: \"📏 Message Too Long\",\r\n        message: \"Your message exceeds the maximum token limit for this model.\",\r\n        suggestion:\r\n          \"Please shorten your message or break it into smaller parts.\",\r\n        category: \"context\",\r\n        helpUrl: this.getProviderHelpUrl(provider, \"context\"),\r\n      };\r\n    }\r\n\r\n    // Generic error\r\n    return {\r\n      title: \"❌ Unexpected Error\",\r\n      message: errorMessage,\r\n      suggestion:\r\n        \"Please try again. If the problem persists, check your API key and internet connection.\",\r\n      category: \"generic\",\r\n      helpUrl: this.getProviderHelpUrl(provider, \"generic\"),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 🔗 Get help URLs for different providers and error types\r\n   */\r\n  getProviderHelpUrl(provider, errorType) {\r\n    const helpUrls = {\r\n      anthropic: {\r\n        api_key: \"https://console.anthropic.com/account/keys\",\r\n        rate_limit: \"https://docs.anthropic.com/claude/reference/rate-limits\",\r\n        model: \"https://docs.anthropic.com/claude/docs/models-overview\",\r\n        network: \"https://docs.anthropic.com/claude/reference/getting-started\",\r\n        context:\r\n          \"https://docs.anthropic.com/claude/docs/models-overview#context-window\",\r\n        generic: \"https://docs.anthropic.com/claude/reference/errors\",\r\n      },\r\n      openai: {\r\n        api_key: \"https://platform.openai.com/account/api-keys\",\r\n        rate_limit: \"https://platform.openai.com/docs/guides/rate-limits\",\r\n        model: \"https://platform.openai.com/docs/models\",\r\n        network: \"https://platform.openai.com/docs/quickstart\",\r\n        context: \"https://platform.openai.com/docs/guides/text-generation\",\r\n        generic: \"https://platform.openai.com/docs/guides/error-codes\",\r\n      },\r\n      deepseek: {\r\n        api_key: \"https://platform.deepseek.com/api_keys\",\r\n        rate_limit: \"https://platform.deepseek.com/docs\",\r\n        model: \"https://platform.deepseek.com/docs\",\r\n        network: \"https://platform.deepseek.com/docs\",\r\n        context: \"https://platform.deepseek.com/docs\",\r\n        generic: \"https://platform.deepseek.com/docs\",\r\n      },\r\n      local: {\r\n        api_key: null,\r\n        rate_limit: null,\r\n        model: \"https://ollama.com/library\",\r\n        network: \"https://ollama.com/docs\",\r\n        context: \"https://ollama.com/docs\",\r\n        generic: \"https://ollama.com/docs\",\r\n      },\r\n    };\r\n\r\n    return helpUrls[provider]?.[errorType] || null;\r\n  }\r\n\r\n  /**\r\n   * Cleanup resources\r\n   */\r\n  async cleanup() {\r\n    try {\r\n      this.logger.info(\"Cleaning up AI Client...\");\r\n      this.isInitialized = false;\r\n    } catch (error) {\r\n      this.logger.error(\"Error during AI Client cleanup:\", error);\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = AIClient;\r\n","module.exports = require(\"https\");","const vscode = require(\"vscode\");\r\n\r\n/**\r\n * 🔑 Nox API Key Management Command\r\n * Handles secure API key configuration for all providers\r\n */\r\nclass ApiKeyCommand {\r\n  constructor(context, logger, aiClient) {\r\n    this.context = context;\r\n    this.logger = logger;\r\n    this.aiClient = aiClient;\r\n  }\r\n\r\n  /**\r\n   * 🔑 Main API key management command\r\n   */\r\n  async execute() {\r\n    try {\r\n      this.logger.info(\"🔑 Opening API key management...\");\r\n\r\n      const action = await vscode.window.showQuickPick([\r\n        {\r\n          label: \"🔑 Set API Key\",\r\n          description: \"Configure API key for an AI provider\",\r\n          action: \"set\"\r\n        },\r\n        {\r\n          label: \"👀 View Configured Providers\",\r\n          description: \"See which providers have API keys set\",\r\n          action: \"view\"\r\n        },\r\n        {\r\n          label: \"🔄 Switch Provider\",\r\n          description: \"Change the active AI provider\",\r\n          action: \"switch\"\r\n        },\r\n        {\r\n          label: \"🗑️ Remove API Key\",\r\n          description: \"Delete API key for a provider\",\r\n          action: \"remove\"\r\n        }\r\n      ], {\r\n        placeHolder: \"🦊 What would you like to do with API keys?\"\r\n      });\r\n\r\n      if (!action) return;\r\n\r\n      switch (action.action) {\r\n        case \"set\":\r\n          await this.setApiKey();\r\n          break;\r\n        case \"view\":\r\n          await this.viewConfiguredProviders();\r\n          break;\r\n        case \"switch\":\r\n          await this.switchProvider();\r\n          break;\r\n        case \"remove\":\r\n          await this.removeApiKey();\r\n          break;\r\n      }\r\n\r\n    } catch (error) {\r\n      this.logger.error(\"API key management failed:\", error);\r\n      vscode.window.showErrorMessage(`🦊 API key management failed: ${error.message}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 🔑 Set API key for a provider\r\n   */\r\n  async setApiKey() {\r\n    try {\r\n      // Select provider\r\n      const providers = this.aiClient.getAvailableProviders();\r\n      const selectedProvider = await vscode.window.showQuickPick(\r\n        providers.map(p => ({\r\n          label: p.name,\r\n          description: `Set API key for ${p.name}`,\r\n          id: p.id\r\n        })),\r\n        { placeHolder: \"🤖 Select AI provider\" }\r\n      );\r\n\r\n      if (!selectedProvider) return;\r\n\r\n      // Create webview panel for better API key input\r\n      await this.showApiKeyInputPanel(selectedProvider);\r\n\r\n    } catch (error) {\r\n      this.logger.error(\"Failed to set API key:\", error);\r\n      vscode.window.showErrorMessage(`🦊 API key management failed: ${error.message}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 🔑 Show API key input panel with better UX\r\n   */\r\n  async showApiKeyInputPanel(provider) {\r\n    const panel = vscode.window.createWebviewPanel(\r\n      'noxApiKey',\r\n      `🔑 ${provider.label} API Key`,\r\n      vscode.ViewColumn.One,\r\n      {\r\n        enableScripts: true,\r\n        retainContextWhenHidden: true\r\n      }\r\n    );\r\n\r\n    // Set webview content\r\n    panel.webview.html = this.getApiKeyInputHtml(provider);\r\n\r\n    // Handle messages from webview\r\n    panel.webview.onDidReceiveMessage(\r\n      async (message) => {\r\n        switch (message.type) {\r\n          case 'saveApiKey':\r\n            try {\r\n              const apiKey = message.apiKey?.trim();\r\n\r\n              if (!apiKey) {\r\n                panel.webview.postMessage({\r\n                  type: 'error',\r\n                  message: 'API key cannot be empty'\r\n                });\r\n                return;\r\n              }\r\n\r\n              if (apiKey.length < 10) {\r\n                panel.webview.postMessage({\r\n                  type: 'error',\r\n                  message: 'API key seems too short'\r\n                });\r\n                return;\r\n              }\r\n\r\n              // Store the API key securely\r\n              await this.aiClient.setApiKey(provider.id, apiKey);\r\n\r\n              // Show success\r\n              panel.webview.postMessage({\r\n                type: 'success',\r\n                message: `API key for ${provider.label} saved successfully!`\r\n              });\r\n\r\n              // Close panel after short delay\r\n              setTimeout(() => {\r\n                panel.dispose();\r\n              }, 2000);\r\n\r\n              vscode.window.showInformationMessage(\r\n                `🔑 API key for ${provider.label} has been stored securely!`\r\n              );\r\n\r\n              this.logger.info(`API key set for provider: ${provider.id}`);\r\n\r\n            } catch (error) {\r\n              this.logger.error(\"Failed to save API key:\", error);\r\n              panel.webview.postMessage({\r\n                type: 'error',\r\n                message: `Failed to save API key: ${error.message}`\r\n              });\r\n            }\r\n            break;\r\n\r\n          case 'cancel':\r\n            panel.dispose();\r\n            break;\r\n        }\r\n      },\r\n      undefined,\r\n      this.context.subscriptions\r\n    );\r\n  }\r\n\r\n  /**\r\n   * 🎨 Get HTML for API key input panel\r\n   */\r\n  getApiKeyInputHtml(provider) {\r\n    return `<!DOCTYPE html>\r\n    <html lang=\"en\">\r\n    <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>🔑 ${provider.label} API Key</title>\r\n        <style>\r\n            body {\r\n                font-family: var(--vscode-font-family);\r\n                background: var(--vscode-editor-background);\r\n                color: var(--vscode-editor-foreground);\r\n                padding: 20px;\r\n                margin: 0;\r\n            }\r\n\r\n            .container {\r\n                max-width: 500px;\r\n                margin: 0 auto;\r\n            }\r\n\r\n            .header {\r\n                text-align: center;\r\n                margin-bottom: 30px;\r\n            }\r\n\r\n            .provider-icon {\r\n                font-size: 48px;\r\n                margin-bottom: 10px;\r\n            }\r\n\r\n            .form-group {\r\n                margin-bottom: 20px;\r\n            }\r\n\r\n            label {\r\n                display: block;\r\n                margin-bottom: 8px;\r\n                font-weight: bold;\r\n                color: var(--vscode-input-foreground);\r\n            }\r\n\r\n            .input-container {\r\n                position: relative;\r\n                display: flex;\r\n                align-items: center;\r\n            }\r\n\r\n            input[type=\"password\"], input[type=\"text\"] {\r\n                width: 100%;\r\n                padding: 12px 40px 12px 12px;\r\n                border: 1px solid var(--vscode-input-border);\r\n                background: var(--vscode-input-background);\r\n                color: var(--vscode-input-foreground);\r\n                border-radius: 4px;\r\n                font-family: 'Courier New', monospace;\r\n                font-size: 14px;\r\n            }\r\n\r\n            input:focus {\r\n                outline: none;\r\n                border-color: var(--vscode-focusBorder);\r\n                box-shadow: 0 0 0 1px var(--vscode-focusBorder);\r\n            }\r\n\r\n            .toggle-btn {\r\n                position: absolute;\r\n                right: 8px;\r\n                background: none;\r\n                border: none;\r\n                color: var(--vscode-input-foreground);\r\n                cursor: pointer;\r\n                padding: 4px;\r\n                border-radius: 2px;\r\n                font-size: 16px;\r\n            }\r\n\r\n            .toggle-btn:hover {\r\n                background: var(--vscode-toolbar-hoverBackground);\r\n            }\r\n\r\n            .buttons {\r\n                display: flex;\r\n                gap: 12px;\r\n                justify-content: center;\r\n                margin-top: 30px;\r\n            }\r\n\r\n            button {\r\n                padding: 10px 20px;\r\n                border: none;\r\n                border-radius: 4px;\r\n                cursor: pointer;\r\n                font-weight: bold;\r\n                min-width: 100px;\r\n            }\r\n\r\n            .save-btn {\r\n                background: var(--vscode-button-background);\r\n                color: var(--vscode-button-foreground);\r\n            }\r\n\r\n            .save-btn:hover {\r\n                background: var(--vscode-button-hoverBackground);\r\n            }\r\n\r\n            .save-btn:disabled {\r\n                opacity: 0.5;\r\n                cursor: not-allowed;\r\n            }\r\n\r\n            .cancel-btn {\r\n                background: var(--vscode-button-secondaryBackground);\r\n                color: var(--vscode-button-secondaryForeground);\r\n            }\r\n\r\n            .cancel-btn:hover {\r\n                background: var(--vscode-button-secondaryHoverBackground);\r\n            }\r\n\r\n            .message {\r\n                margin-top: 15px;\r\n                padding: 10px;\r\n                border-radius: 4px;\r\n                text-align: center;\r\n                font-weight: bold;\r\n            }\r\n\r\n            .error {\r\n                background: var(--vscode-inputValidation-errorBackground);\r\n                color: var(--vscode-inputValidation-errorForeground);\r\n                border: 1px solid var(--vscode-inputValidation-errorBorder);\r\n            }\r\n\r\n            .success {\r\n                background: var(--vscode-terminal-ansiGreen);\r\n                color: var(--vscode-editor-background);\r\n            }\r\n\r\n            .help-text {\r\n                font-size: 12px;\r\n                color: var(--vscode-descriptionForeground);\r\n                margin-top: 8px;\r\n                line-height: 1.4;\r\n            }\r\n\r\n            .aurora-glow {\r\n                background: linear-gradient(45deg, #4c9aff, #8b5cf6, #10b981);\r\n                background-size: 200% 200%;\r\n                animation: aurora 3s ease-in-out infinite;\r\n                -webkit-background-clip: text;\r\n                -webkit-text-fill-color: transparent;\r\n                background-clip: text;\r\n            }\r\n\r\n            @keyframes aurora {\r\n                0%, 100% { background-position: 0% 50%; }\r\n                50% { background-position: 100% 50%; }\r\n            }\r\n        </style>\r\n    </head>\r\n    <body>\r\n        <div class=\"container\">\r\n            <div class=\"header\">\r\n                <div class=\"provider-icon\">🤖</div>\r\n                <h1 class=\"aurora-glow\">${provider.label} API Key</h1>\r\n                <p>Enter your API key to enable ${provider.label} integration</p>\r\n            </div>\r\n\r\n            <form id=\"apiKeyForm\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"apiKey\">🔑 API Key:</label>\r\n                    <div class=\"input-container\">\r\n                        <input type=\"password\" id=\"apiKey\" placeholder=\"Enter your ${provider.label} API key...\" autocomplete=\"off\">\r\n                        <button type=\"button\" class=\"toggle-btn\" id=\"toggleBtn\" title=\"Show/Hide API Key\">👁️</button>\r\n                    </div>\r\n                    <div class=\"help-text\">\r\n                        Your API key will be stored securely in VS Code's encrypted storage.\r\n                        ${this.getProviderHelp(provider.id)}\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"buttons\">\r\n                    <button type=\"submit\" class=\"save-btn\" id=\"saveBtn\">💾 Save API Key</button>\r\n                    <button type=\"button\" class=\"cancel-btn\" id=\"cancelBtn\">❌ Cancel</button>\r\n                </div>\r\n\r\n                <div id=\"message\" class=\"message\" style=\"display: none;\"></div>\r\n            </form>\r\n        </div>\r\n\r\n        <script>\r\n            const vscode = acquireVsCodeApi();\r\n            const apiKeyInput = document.getElementById('apiKey');\r\n            const toggleBtn = document.getElementById('toggleBtn');\r\n            const saveBtn = document.getElementById('saveBtn');\r\n            const cancelBtn = document.getElementById('cancelBtn');\r\n            const messageDiv = document.getElementById('message');\r\n            const form = document.getElementById('apiKeyForm');\r\n\r\n            // Toggle password visibility\r\n            toggleBtn.addEventListener('click', () => {\r\n                if (apiKeyInput.type === 'password') {\r\n                    apiKeyInput.type = 'text';\r\n                    toggleBtn.textContent = '🙈';\r\n                    toggleBtn.title = 'Hide API Key';\r\n                } else {\r\n                    apiKeyInput.type = 'password';\r\n                    toggleBtn.textContent = '👁️';\r\n                    toggleBtn.title = 'Show API Key';\r\n                }\r\n            });\r\n\r\n            // Form submission\r\n            form.addEventListener('submit', (e) => {\r\n                e.preventDefault();\r\n                const apiKey = apiKeyInput.value.trim();\r\n\r\n                if (!apiKey) {\r\n                    showMessage('API key cannot be empty', 'error');\r\n                    return;\r\n                }\r\n\r\n                if (apiKey.length < 10) {\r\n                    showMessage('API key seems too short', 'error');\r\n                    return;\r\n                }\r\n\r\n                saveBtn.disabled = true;\r\n                saveBtn.textContent = '💾 Saving...';\r\n\r\n                vscode.postMessage({\r\n                    type: 'saveApiKey',\r\n                    apiKey: apiKey\r\n                });\r\n            });\r\n\r\n            // Cancel button\r\n            cancelBtn.addEventListener('click', () => {\r\n                vscode.postMessage({ type: 'cancel' });\r\n            });\r\n\r\n            // Handle messages from extension\r\n            window.addEventListener('message', event => {\r\n                const message = event.data;\r\n\r\n                switch (message.type) {\r\n                    case 'error':\r\n                        showMessage(message.message, 'error');\r\n                        saveBtn.disabled = false;\r\n                        saveBtn.textContent = '💾 Save API Key';\r\n                        break;\r\n\r\n                    case 'success':\r\n                        showMessage(message.message, 'success');\r\n                        saveBtn.disabled = true;\r\n                        saveBtn.textContent = '✅ Saved!';\r\n                        break;\r\n                }\r\n            });\r\n\r\n            function showMessage(text, type) {\r\n                messageDiv.textContent = text;\r\n                messageDiv.className = 'message ' + type;\r\n                messageDiv.style.display = 'block';\r\n\r\n                if (type === 'error') {\r\n                    setTimeout(() => {\r\n                        messageDiv.style.display = 'none';\r\n                    }, 5000);\r\n                }\r\n            }\r\n\r\n            // Focus on input\r\n            apiKeyInput.focus();\r\n        </script>\r\n    </body>\r\n    </html>`;\r\n  }\r\n\r\n  /**\r\n   * 📖 Get provider-specific help text\r\n   */\r\n  getProviderHelp(providerId) {\r\n    const helpTexts = {\r\n      anthropic: \"Get your API key from: https://console.anthropic.com/\",\r\n      openai: \"Get your API key from: https://platform.openai.com/api-keys\",\r\n      deepseek: \"Get your API key from: https://platform.deepseek.com/\",\r\n      local: \"No API key needed for local models. Make sure Ollama or LM Studio is running.\"\r\n    };\r\n\r\n    return helpTexts[providerId] || \"Check your provider's documentation for API key instructions.\";\r\n  }\r\n\r\n  /**\r\n   * 👀 View configured providers\r\n   */\r\n  async viewConfiguredProviders() {\r\n    try {\r\n      const configuredProviders = await this.aiClient.getConfiguredProviders();\r\n      const currentProvider = this.aiClient.getCurrentProvider();\r\n\r\n      if (configuredProviders.length === 0) {\r\n        vscode.window.showInformationMessage(\r\n          \"🔑 No API keys configured yet. Use 'Set API Key' to get started!\"\r\n        );\r\n        return;\r\n      }\r\n\r\n      const items = configuredProviders.map(provider => ({\r\n        label: `${provider.id === currentProvider.id ? \"✅\" : \"⚪\"} ${provider.name}`,\r\n        description: provider.id === currentProvider.id ? \"Currently active\" : \"Available\",\r\n        detail: `Models: ${provider.models.join(\", \")}`\r\n      }));\r\n\r\n      await vscode.window.showQuickPick(items, {\r\n        placeHolder: \"🦊 Configured AI Providers\",\r\n        canPickMany: false\r\n      });\r\n\r\n    } catch (error) {\r\n      this.logger.error(\"Failed to view providers:\", error);\r\n      vscode.window.showErrorMessage(`Failed to view providers: ${error.message}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 🔄 Switch active provider\r\n   */\r\n  async switchProvider() {\r\n    try {\r\n      const configuredProviders = await this.aiClient.getConfiguredProviders();\r\n      const currentProvider = this.aiClient.getCurrentProvider();\r\n\r\n      if (configuredProviders.length === 0) {\r\n        vscode.window.showWarningMessage(\r\n          \"🔑 No API keys configured. Please set up API keys first!\"\r\n        );\r\n        return;\r\n      }\r\n\r\n      const selectedProvider = await vscode.window.showQuickPick(\r\n        configuredProviders\r\n          .filter(p => p.id !== currentProvider.id)\r\n          .map(p => ({\r\n            label: p.name,\r\n            description: `Switch to ${p.name}`,\r\n            detail: `Models: ${p.models.join(\", \")}`,\r\n            id: p.id\r\n          })),\r\n        { placeHolder: `🔄 Switch from ${currentProvider.name}` }\r\n      );\r\n\r\n      if (!selectedProvider) return;\r\n\r\n      await this.aiClient.setProvider(selectedProvider.id);\r\n\r\n      vscode.window.showInformationMessage(\r\n        `🔄 Switched to ${selectedProvider.label}!`\r\n      );\r\n\r\n    } catch (error) {\r\n      this.logger.error(\"Failed to switch provider:\", error);\r\n      vscode.window.showErrorMessage(`Failed to switch provider: ${error.message}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 🗑️ Remove API key\r\n   */\r\n  async removeApiKey() {\r\n    try {\r\n      const configuredProviders = await this.aiClient.getConfiguredProviders();\r\n\r\n      if (configuredProviders.length === 0) {\r\n        vscode.window.showInformationMessage(\"🔑 No API keys to remove.\");\r\n        return;\r\n      }\r\n\r\n      const selectedProvider = await vscode.window.showQuickPick(\r\n        configuredProviders.map(p => ({\r\n          label: `🗑️ ${p.name}`,\r\n          description: \"Remove API key\",\r\n          id: p.id\r\n        })),\r\n        { placeHolder: \"🗑️ Select provider to remove API key\" }\r\n      );\r\n\r\n      if (!selectedProvider) return;\r\n\r\n      // Confirm deletion\r\n      const confirm = await vscode.window.showWarningMessage(\r\n        `🗑️ Are you sure you want to remove the API key for ${selectedProvider.label}?`,\r\n        { modal: true },\r\n        \"Yes, Remove\",\r\n        \"Cancel\"\r\n      );\r\n\r\n      if (confirm !== \"Yes, Remove\") return;\r\n\r\n      await this.aiClient.removeApiKey(selectedProvider.id);\r\n\r\n      vscode.window.showInformationMessage(\r\n        `🗑️ API key for ${selectedProvider.label} has been removed.`\r\n      );\r\n\r\n    } catch (error) {\r\n      this.logger.error(\"Failed to remove API key:\", error);\r\n      vscode.window.showErrorMessage(`Failed to remove API key: ${error.message}`);\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = ApiKeyCommand;\r\n","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.safeJSON = exports.maybeCoerceBoolean = exports.maybeCoerceFloat = exports.maybeCoerceInteger = exports.coerceBoolean = exports.coerceFloat = exports.coerceInteger = exports.validatePositiveInteger = exports.ensurePresent = exports.isReadonlyArray = exports.isArray = exports.isAbsoluteURL = void 0;\nexports.maybeObj = maybeObj;\nexports.isEmptyObj = isEmptyObj;\nexports.hasOwn = hasOwn;\nexports.isObj = isObj;\nconst error_1 = require(\"../../core/error.js\");\n// https://url.spec.whatwg.org/#url-scheme-string\nconst startsWithSchemeRegexp = /^[a-z][a-z0-9+.-]*:/i;\nconst isAbsoluteURL = (url) => {\n    return startsWithSchemeRegexp.test(url);\n};\nexports.isAbsoluteURL = isAbsoluteURL;\nlet isArray = (val) => ((exports.isArray = Array.isArray), (0, exports.isArray)(val));\nexports.isArray = isArray;\nexports.isReadonlyArray = exports.isArray;\n/** Returns an object if the given value isn't an object, otherwise returns as-is */\nfunction maybeObj(x) {\n    if (typeof x !== 'object') {\n        return {};\n    }\n    return x ?? {};\n}\n// https://stackoverflow.com/a/34491287\nfunction isEmptyObj(obj) {\n    if (!obj)\n        return true;\n    for (const _k in obj)\n        return false;\n    return true;\n}\n// https://eslint.org/docs/latest/rules/no-prototype-builtins\nfunction hasOwn(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n}\nfunction isObj(obj) {\n    return obj != null && typeof obj === 'object' && !Array.isArray(obj);\n}\nconst ensurePresent = (value) => {\n    if (value == null) {\n        throw new error_1.OpenAIError(`Expected a value to be given but received ${value} instead.`);\n    }\n    return value;\n};\nexports.ensurePresent = ensurePresent;\nconst validatePositiveInteger = (name, n) => {\n    if (typeof n !== 'number' || !Number.isInteger(n)) {\n        throw new error_1.OpenAIError(`${name} must be an integer`);\n    }\n    if (n < 0) {\n        throw new error_1.OpenAIError(`${name} must be a positive integer`);\n    }\n    return n;\n};\nexports.validatePositiveInteger = validatePositiveInteger;\nconst coerceInteger = (value) => {\n    if (typeof value === 'number')\n        return Math.round(value);\n    if (typeof value === 'string')\n        return parseInt(value, 10);\n    throw new error_1.OpenAIError(`Could not coerce ${value} (type: ${typeof value}) into a number`);\n};\nexports.coerceInteger = coerceInteger;\nconst coerceFloat = (value) => {\n    if (typeof value === 'number')\n        return value;\n    if (typeof value === 'string')\n        return parseFloat(value);\n    throw new error_1.OpenAIError(`Could not coerce ${value} (type: ${typeof value}) into a number`);\n};\nexports.coerceFloat = coerceFloat;\nconst coerceBoolean = (value) => {\n    if (typeof value === 'boolean')\n        return value;\n    if (typeof value === 'string')\n        return value === 'true';\n    return Boolean(value);\n};\nexports.coerceBoolean = coerceBoolean;\nconst maybeCoerceInteger = (value) => {\n    if (value == null) {\n        return undefined;\n    }\n    return (0, exports.coerceInteger)(value);\n};\nexports.maybeCoerceInteger = maybeCoerceInteger;\nconst maybeCoerceFloat = (value) => {\n    if (value == null) {\n        return undefined;\n    }\n    return (0, exports.coerceFloat)(value);\n};\nexports.maybeCoerceFloat = maybeCoerceFloat;\nconst maybeCoerceBoolean = (value) => {\n    if (value == null) {\n        return undefined;\n    }\n    return (0, exports.coerceBoolean)(value);\n};\nexports.maybeCoerceBoolean = maybeCoerceBoolean;\nconst safeJSON = (text) => {\n    try {\n        return JSON.parse(text);\n    }\n    catch (err) {\n        return undefined;\n    }\n};\nexports.safeJSON = safeJSON;\n//# sourceMappingURL=values.js.map","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","'use strict';\n\n/** @type {import('.')} */\nvar $gOPD = require('./gOPD');\n\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InputItems = void 0;\nconst resource_1 = require(\"../../core/resource.js\");\nconst pagination_1 = require(\"../../core/pagination.js\");\nconst path_1 = require(\"../../internal/utils/path.js\");\nclass InputItems extends resource_1.APIResource {\n    /**\n     * Returns a list of input items for a given response.\n     *\n     * @example\n     * ```ts\n     * // Automatically fetches more pages as needed.\n     * for await (const responseItem of client.responses.inputItems.list(\n     *   'response_id',\n     * )) {\n     *   // ...\n     * }\n     * ```\n     */\n    list(responseID, query = {}, options) {\n        return this._client.getAPIList((0, path_1.path) `/responses/${responseID}/input_items`, (pagination_1.CursorPage), { query, ...options });\n    }\n}\nexports.InputItems = InputItems;\n//# sourceMappingURL=input-items.js.map","'use strict';\n\n/** @type {import('./pow')} */\nmodule.exports = Math.pow;\n","'use strict';\n\nmodule.exports = (flag, argv = process.argv) => {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n};\n","const path = require('path')\n\nfunction load (recorderName) {\n  try {\n    const recoderPath = path.resolve(__dirname, recorderName)\n    return require(recoderPath)\n  } catch (err) {\n    if (err.code === 'MODULE_NOT_FOUND') {\n      throw new Error(`No such recorder found: ${recorderName}`)\n    }\n\n    throw err\n  }\n}\n\nmodule.exports = {\n  load\n}\n","const vscode = require(\"vscode\");\nconst fs = require(\"fs\").promises;\nconst path = require(\"path\");\n\n/**\n * 🦊 Enterprise Context Manager for intelligent code context retrieval\n * Provides intelligent code snippet retrieval and workspace analysis\n */\nclass ContextManager {\n  constructor(context, logger, performanceMonitor, cacheManager) {\n    this.context = context;\n    this.logger = logger;\n    this.performanceMonitor = performanceMonitor;\n    this.cacheManager = cacheManager;\n    this.isInitialized = false;\n\n    // Context storage\n    this.fileIndex = new Map(); // filePath -> { content, symbols, lastModified }\n    this.symbolIndex = new Map(); // symbol -> [{ file, line, type }]\n    this.workspacePath = null;\n\n    // Configuration\n    this.maxFileSize = 1024 * 1024; // 1MB max file size\n    this.supportedExtensions = new Set([\n      \".js\",\n      \".ts\",\n      \".jsx\",\n      \".tsx\",\n      \".py\",\n      \".java\",\n      \".c\",\n      \".cpp\",\n      \".cs\",\n      \".go\",\n      \".rs\",\n      \".php\",\n      \".rb\",\n      \".swift\",\n      \".kt\",\n      \".scala\",\n      \".clj\",\n      \".html\",\n      \".css\",\n      \".scss\",\n      \".less\",\n      \".vue\",\n      \".svelte\",\n      \".json\",\n      \".xml\",\n      \".yaml\",\n      \".yml\",\n      \".toml\",\n      \".ini\",\n      \".cfg\",\n      \".conf\",\n    ]);\n\n    // Exclude patterns\n    this.excludePatterns = [\n      \"node_modules\",\n      \".git\",\n      \".vscode\",\n      \"dist\",\n      \"build\",\n      \"target\",\n      \".next\",\n      \".nuxt\",\n      \"coverage\",\n      \".nyc_output\",\n      \"logs\",\n      \"tmp\",\n      \"*.min.js\",\n      \"*.bundle.js\",\n      \"*.map\",\n    ];\n  }\n\n  /**\n   * Initialize context manager\n   */\n  async initialize() {\n    try {\n      this.logger.info(\"🦊 Initializing Context Manager...\");\n\n      // Get workspace path\n      const workspaceFolders = vscode.workspace.workspaceFolders;\n      if (workspaceFolders && workspaceFolders.length > 0) {\n        this.workspacePath = workspaceFolders[0].uri.fsPath;\n        this.logger.info(`📁 Workspace detected: ${this.workspacePath}`);\n      } else {\n        this.logger.warn(\"⚠️ No workspace folder detected\");\n        this.isInitialized = true;\n        return;\n      }\n\n      // Start initial indexing (async)\n      this.startInitialIndexing();\n\n      this.isInitialized = true;\n      this.logger.info(\"🦊 Context Manager initialized successfully\");\n    } catch (error) {\n      this.logger.error(\"Failed to initialize Context Manager:\", error);\n      throw error;\n    }\n  }\n\n  /**\n   * 🔍 Start initial workspace indexing (async)\n   */\n  async startInitialIndexing() {\n    try {\n      const timer = this.performanceMonitor.startTimer(\"initial_indexing\");\n      this.logger.info(\"🔍 Starting initial workspace indexing...\");\n\n      await this.scanWorkspace();\n\n      timer.end();\n      this.logger.info(`🔍 Initial indexing completed in ${timer.duration}ms`);\n      this.performanceMonitor.recordMetric(\n        \"files_indexed\",\n        this.fileIndex.size\n      );\n    } catch (error) {\n      this.logger.error(\"Initial indexing failed:\", error);\n    }\n  }\n\n  /**\n   * 📁 Scan workspace for files\n   */\n  async scanWorkspace() {\n    if (!this.workspacePath) return;\n\n    try {\n      await this.scanDirectory(this.workspacePath);\n    } catch (error) {\n      this.logger.error(\"Workspace scanning failed:\", error);\n    }\n  }\n\n  /**\n   * 📂 Recursively scan directory\n   */\n  async scanDirectory(dirPath, depth = 0) {\n    if (depth > 10) return; // Prevent infinite recursion\n\n    try {\n      const entries = await fs.readdir(dirPath, { withFileTypes: true });\n\n      for (const entry of entries) {\n        const fullPath = path.join(dirPath, entry.name);\n\n        // Skip excluded patterns\n        if (this.shouldExclude(entry.name, fullPath)) {\n          continue;\n        }\n\n        if (entry.isDirectory()) {\n          await this.scanDirectory(fullPath, depth + 1);\n        } else if (entry.isFile()) {\n          await this.indexFile(fullPath);\n        }\n      }\n    } catch (error) {\n      this.logger.debug(`Failed to scan directory ${dirPath}:`, error);\n    }\n  }\n\n  /**\n   * 📄 Index a single file\n   */\n  async indexFile(filePath) {\n    try {\n      // Check if file should be indexed\n      if (!this.shouldIndexFile(filePath)) {\n        return;\n      }\n\n      const stats = await fs.stat(filePath);\n\n      // Skip large files\n      if (stats.size > this.maxFileSize) {\n        this.logger.debug(\n          `Skipping large file: ${filePath} (${stats.size} bytes)`\n        );\n        return;\n      }\n\n      // Check if file is already indexed and up-to-date\n      const existing = this.fileIndex.get(filePath);\n      if (existing && existing.lastModified >= stats.mtime.getTime()) {\n        return;\n      }\n\n      // Read and index file content\n      const content = await fs.readFile(filePath, \"utf8\");\n      const symbols = this.extractSymbols(content, filePath);\n\n      const fileData = {\n        content,\n        symbols,\n        lastModified: stats.mtime.getTime(),\n        size: stats.size,\n        extension: path.extname(filePath),\n      };\n\n      this.fileIndex.set(filePath, fileData);\n\n      // Update symbol index\n      this.updateSymbolIndex(filePath, symbols);\n\n      this.logger.debug(\n        `📄 Indexed file: ${path.relative(this.workspacePath, filePath)}`\n      );\n    } catch (error) {\n      this.logger.debug(`Failed to index file ${filePath}:`, error);\n    }\n  }\n\n  /**\n   * 🔍 Extract symbols from file content\n   */\n  extractSymbols(content, filePath) {\n    const symbols = [];\n    const lines = content.split(\"\\n\");\n    const extension = path.extname(filePath);\n\n    for (let i = 0; i < lines.length; i++) {\n      const line = lines[i];\n      const lineNumber = i + 1;\n\n      // Extract different types of symbols based on file type\n      if ([\".js\", \".ts\", \".jsx\", \".tsx\"].includes(extension)) {\n        symbols.push(...this.extractJavaScriptSymbols(line, lineNumber));\n      } else if ([\".py\"].includes(extension)) {\n        symbols.push(...this.extractPythonSymbols(line, lineNumber));\n      } else if ([\".java\", \".cs\"].includes(extension)) {\n        symbols.push(...this.extractJavaSymbols(line, lineNumber));\n      }\n\n      // Generic patterns for all languages\n      symbols.push(...this.extractGenericSymbols(line, lineNumber));\n    }\n\n    return symbols;\n  }\n\n  /**\n   * 🔍 Extract JavaScript/TypeScript symbols\n   */\n  extractJavaScriptSymbols(line, lineNumber) {\n    const symbols = [];\n\n    // Functions\n    const functionMatch = line.match(\n      /(?:function\\s+|const\\s+|let\\s+|var\\s+)(\\w+)\\s*[=\\(]/\n    );\n    if (functionMatch) {\n      symbols.push({\n        name: functionMatch[1],\n        type: \"function\",\n        line: lineNumber,\n      });\n    }\n\n    // Classes\n    const classMatch = line.match(/class\\s+(\\w+)/);\n    if (classMatch) {\n      symbols.push({ name: classMatch[1], type: \"class\", line: lineNumber });\n    }\n\n    // Methods\n    const methodMatch = line.match(/(\\w+)\\s*\\([^)]*\\)\\s*{/);\n    if (methodMatch && !line.includes(\"function\") && !line.includes(\"=\")) {\n      symbols.push({ name: methodMatch[1], type: \"method\", line: lineNumber });\n    }\n\n    // Imports/Exports\n    const importMatch = line.match(/import\\s+.*from\\s+['\"]([^'\"]+)['\"]/);\n    if (importMatch) {\n      symbols.push({ name: importMatch[1], type: \"import\", line: lineNumber });\n    }\n\n    return symbols;\n  }\n\n  /**\n   * 🔍 Extract Python symbols\n   */\n  extractPythonSymbols(line, lineNumber) {\n    const symbols = [];\n\n    // Functions\n    const functionMatch = line.match(/def\\s+(\\w+)\\s*\\(/);\n    if (functionMatch) {\n      symbols.push({\n        name: functionMatch[1],\n        type: \"function\",\n        line: lineNumber,\n      });\n    }\n\n    // Classes\n    const classMatch = line.match(/class\\s+(\\w+)/);\n    if (classMatch) {\n      symbols.push({ name: classMatch[1], type: \"class\", line: lineNumber });\n    }\n\n    // Imports\n    const importMatch = line.match(/(?:from\\s+(\\w+)\\s+)?import\\s+(\\w+)/);\n    if (importMatch) {\n      symbols.push({\n        name: importMatch[2] || importMatch[1],\n        type: \"import\",\n        line: lineNumber,\n      });\n    }\n\n    return symbols;\n  }\n\n  /**\n   * 🔍 Extract Java/C# symbols\n   */\n  extractJavaSymbols(line, lineNumber) {\n    const symbols = [];\n\n    // Methods\n    const methodMatch = line.match(\n      /(?:public|private|protected)?\\s*(?:static)?\\s*\\w+\\s+(\\w+)\\s*\\(/\n    );\n    if (methodMatch) {\n      symbols.push({ name: methodMatch[1], type: \"method\", line: lineNumber });\n    }\n\n    // Classes\n    const classMatch = line.match(/(?:public|private)?\\s*class\\s+(\\w+)/);\n    if (classMatch) {\n      symbols.push({ name: classMatch[1], type: \"class\", line: lineNumber });\n    }\n\n    return symbols;\n  }\n\n  /**\n   * 🔍 Extract generic symbols (comments, TODOs, etc.)\n   */\n  extractGenericSymbols(line, lineNumber) {\n    const symbols = [];\n\n    // TODO comments\n    const todoMatch = line.match(\n      /(?:\\/\\/|#|\\/\\*)\\s*(TODO|FIXME|HACK|NOTE):\\s*(.+)/i\n    );\n    if (todoMatch) {\n      symbols.push({\n        name: `${todoMatch[1]}: ${todoMatch[2].trim()}`,\n        type: \"todo\",\n        line: lineNumber,\n      });\n    }\n\n    return symbols;\n  }\n\n  /**\n   * 🔄 Update symbol index\n   */\n  updateSymbolIndex(filePath, symbols) {\n    // Remove old symbols for this file\n    for (const [symbolName, locations] of this.symbolIndex.entries()) {\n      const filtered = locations.filter((loc) => loc.file !== filePath);\n      if (filtered.length === 0) {\n        this.symbolIndex.delete(symbolName);\n      } else {\n        this.symbolIndex.set(symbolName, filtered);\n      }\n    }\n\n    // Add new symbols\n    for (const symbol of symbols) {\n      const existing = this.symbolIndex.get(symbol.name) || [];\n      existing.push({\n        file: filePath,\n        line: symbol.line,\n        type: symbol.type,\n      });\n      this.symbolIndex.set(symbol.name, existing);\n    }\n  }\n\n  /**\n   * ❓ Should exclude file/directory\n   */\n  shouldExclude(name, fullPath) {\n    // Check exclude patterns\n    for (const pattern of this.excludePatterns) {\n      if (pattern.includes(\"*\")) {\n        const regex = new RegExp(pattern.replace(/\\*/g, \".*\"));\n        if (regex.test(name)) return true;\n      } else if (name === pattern || fullPath.includes(pattern)) {\n        return true;\n      }\n    }\n\n    // Skip hidden files/directories\n    if (name.startsWith(\".\") && name !== \".env\") {\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * ❓ Should index file\n   */\n  shouldIndexFile(filePath) {\n    const extension = path.extname(filePath);\n    return this.supportedExtensions.has(extension);\n  }\n\n  /**\n   * 🔍 Get relevant context for a query\n   */\n  async getContext(query, options = {}) {\n    if (!this.isInitialized) {\n      throw new Error(\"Context Manager not initialized\");\n    }\n\n    const timer = this.performanceMonitor.startTimer(\"context_retrieval\");\n\n    try {\n      const maxFiles = options.maxFiles || 10;\n      const maxLines = options.maxLines || 100;\n\n      // Search for relevant files and symbols\n      const relevantFiles = this.searchFiles(query, maxFiles);\n      const relevantSymbols = this.searchSymbols(query);\n\n      // Get file contents with context\n      const contextFiles = [];\n      for (const fileMatch of relevantFiles) {\n        const fileData = this.fileIndex.get(fileMatch.path);\n        if (fileData) {\n          contextFiles.push({\n            path: path.relative(this.workspacePath, fileMatch.path),\n            content: this.getRelevantLines(fileData.content, query, maxLines),\n            relevanceScore: fileMatch.score,\n            symbols: fileData.symbols.filter((s) =>\n              s.name.toLowerCase().includes(query.toLowerCase())\n            ),\n          });\n        }\n      }\n\n      timer.end();\n\n      const result = {\n        files: contextFiles,\n        symbols: relevantSymbols,\n        relevanceScore: this.calculateOverallRelevance(\n          contextFiles,\n          relevantSymbols\n        ),\n        query,\n        totalFiles: this.fileIndex.size,\n        searchTime: timer.duration,\n      };\n\n      this.logger.info(\n        `🔍 Context retrieved: ${contextFiles.length} files, ${relevantSymbols.length} symbols`\n      );\n      return result;\n    } catch (error) {\n      timer.end();\n      this.logger.error(\"Context retrieval failed:\", error);\n      throw error;\n    }\n  }\n\n  /**\n   * 🔍 Search files by content and name\n   */\n  searchFiles(query, maxFiles) {\n    const results = [];\n    const queryLower = query.toLowerCase();\n\n    for (const [filePath, fileData] of this.fileIndex.entries()) {\n      let score = 0;\n\n      // File name relevance\n      const fileName = path.basename(filePath).toLowerCase();\n      if (fileName.includes(queryLower)) {\n        score += 10;\n      }\n\n      // Content relevance\n      const contentLower = fileData.content.toLowerCase();\n      const matches = (contentLower.match(new RegExp(queryLower, \"g\")) || [])\n        .length;\n      score += matches;\n\n      // Symbol relevance\n      const symbolMatches = fileData.symbols.filter((s) =>\n        s.name.toLowerCase().includes(queryLower)\n      ).length;\n      score += symbolMatches * 5;\n\n      if (score > 0) {\n        results.push({ path: filePath, score });\n      }\n    }\n\n    // Sort by relevance and limit results\n    return results.sort((a, b) => b.score - a.score).slice(0, maxFiles);\n  }\n\n  /**\n   * 🔍 Search symbols\n   */\n  searchSymbols(query) {\n    const results = [];\n    const queryLower = query.toLowerCase();\n\n    for (const [symbolName, locations] of this.symbolIndex.entries()) {\n      if (symbolName.toLowerCase().includes(queryLower)) {\n        for (const location of locations) {\n          results.push({\n            name: symbolName,\n            file: path.relative(this.workspacePath, location.file),\n            line: location.line,\n            type: location.type,\n          });\n        }\n      }\n    }\n\n    return results.slice(0, 20); // Limit symbol results\n  }\n\n  /**\n   * 📄 Get relevant lines from file content\n   */\n  getRelevantLines(content, query, maxLines) {\n    const lines = content.split(\"\\n\");\n    const queryLower = query.toLowerCase();\n    const relevantLines = [];\n\n    // Find lines containing the query\n    for (let i = 0; i < lines.length; i++) {\n      if (lines[i].toLowerCase().includes(queryLower)) {\n        // Include context around matching lines\n        const start = Math.max(0, i - 2);\n        const end = Math.min(lines.length, i + 3);\n\n        for (let j = start; j < end; j++) {\n          if (!relevantLines.some((rl) => rl.number === j + 1)) {\n            relevantLines.push({\n              number: j + 1,\n              content: lines[j],\n              isMatch: j === i,\n            });\n          }\n        }\n      }\n    }\n\n    // If no matches, return first few lines\n    if (relevantLines.length === 0) {\n      for (let i = 0; i < Math.min(maxLines / 2, lines.length); i++) {\n        relevantLines.push({\n          number: i + 1,\n          content: lines[i],\n          isMatch: false,\n        });\n      }\n    }\n\n    // Sort by line number and limit\n    return relevantLines.sort((a, b) => a.number - b.number).slice(0, maxLines);\n  }\n\n  /**\n   * 📊 Calculate overall relevance score\n   */\n  calculateOverallRelevance(files, symbols) {\n    if (files.length === 0 && symbols.length === 0) return 0;\n\n    const fileScore =\n      files.reduce((sum, f) => sum + f.relevanceScore, 0) / files.length;\n    const symbolScore = symbols.length > 0 ? 0.8 : 0;\n\n    return Math.min(1, (fileScore + symbolScore) / 10);\n  }\n\n  /**\n   * 🔄 Update file index when file changes\n   */\n  async updateFileIndex(filePath, content) {\n    try {\n      if (!this.shouldIndexFile(filePath)) return;\n\n      const symbols = this.extractSymbols(content, filePath);\n      const fileData = {\n        content,\n        symbols,\n        lastModified: Date.now(),\n        size: content.length,\n        extension: path.extname(filePath),\n      };\n\n      this.fileIndex.set(filePath, fileData);\n      this.updateSymbolIndex(filePath, symbols);\n\n      this.logger.debug(\n        `🔄 Updated file index: ${path.relative(this.workspacePath, filePath)}`\n      );\n    } catch (error) {\n      this.logger.error(`Failed to update file index for ${filePath}:`, error);\n    }\n  }\n\n  /**\n   * 📊 Get context statistics\n   */\n  getStats() {\n    return {\n      totalFiles: this.fileIndex.size,\n      totalSymbols: this.symbolIndex.size,\n      supportedExtensions: Array.from(this.supportedExtensions),\n      workspacePath: this.workspacePath,\n    };\n  }\n\n  /**\n   * Cleanup resources\n   */\n  async cleanup() {\n    try {\n      this.logger.info(\"Cleaning up Context Manager...\");\n      this.fileIndex.clear();\n      this.symbolIndex.clear();\n      this.isInitialized = false;\n    } catch (error) {\n      this.logger.error(\"Error during Context Manager cleanup:\", error);\n    }\n  }\n}\n\nmodule.exports = ContextManager;\n","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Runs = void 0;\nconst tslib_1 = require(\"../../../internal/tslib.js\");\nconst resource_1 = require(\"../../../core/resource.js\");\nconst OutputItemsAPI = tslib_1.__importStar(require(\"./output-items.js\"));\nconst output_items_1 = require(\"./output-items.js\");\nconst pagination_1 = require(\"../../../core/pagination.js\");\nconst path_1 = require(\"../../../internal/utils/path.js\");\nclass Runs extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.outputItems = new OutputItemsAPI.OutputItems(this._client);\n    }\n    /**\n     * Kicks off a new run for a given evaluation, specifying the data source, and what\n     * model configuration to use to test. The datasource will be validated against the\n     * schema specified in the config of the evaluation.\n     */\n    create(evalID, body, options) {\n        return this._client.post((0, path_1.path) `/evals/${evalID}/runs`, { body, ...options });\n    }\n    /**\n     * Get an evaluation run by ID.\n     */\n    retrieve(runID, params, options) {\n        const { eval_id } = params;\n        return this._client.get((0, path_1.path) `/evals/${eval_id}/runs/${runID}`, options);\n    }\n    /**\n     * Get a list of runs for an evaluation.\n     */\n    list(evalID, query = {}, options) {\n        return this._client.getAPIList((0, path_1.path) `/evals/${evalID}/runs`, (pagination_1.CursorPage), {\n            query,\n            ...options,\n        });\n    }\n    /**\n     * Delete an eval run.\n     */\n    delete(runID, params, options) {\n        const { eval_id } = params;\n        return this._client.delete((0, path_1.path) `/evals/${eval_id}/runs/${runID}`, options);\n    }\n    /**\n     * Cancel an ongoing evaluation run.\n     */\n    cancel(runID, params, options) {\n        const { eval_id } = params;\n        return this._client.post((0, path_1.path) `/evals/${eval_id}/runs/${runID}`, options);\n    }\n}\nexports.Runs = Runs;\nRuns.OutputItems = output_items_1.OutputItems;\n//# sourceMappingURL=runs.js.map","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.formatWithOptions()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.formatWithOptions(exports.inspectOpts, ...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","/*!\n * mime-types\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar db = require('mime-db')\nvar extname = require('path').extname\n\n/**\n * Module variables.\n * @private\n */\n\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/\nvar TEXT_TYPE_REGEXP = /^text\\//i\n\n/**\n * Module exports.\n * @public\n */\n\nexports.charset = charset\nexports.charsets = { lookup: charset }\nexports.contentType = contentType\nexports.extension = extension\nexports.extensions = Object.create(null)\nexports.lookup = lookup\nexports.types = Object.create(null)\n\n// Populate the extensions/types maps\npopulateMaps(exports.extensions, exports.types)\n\n/**\n * Get the default charset for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction charset (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n  var mime = match && db[match[1].toLowerCase()]\n\n  if (mime && mime.charset) {\n    return mime.charset\n  }\n\n  // default text/* to utf-8\n  if (match && TEXT_TYPE_REGEXP.test(match[1])) {\n    return 'UTF-8'\n  }\n\n  return false\n}\n\n/**\n * Create a full Content-Type header given a MIME type or extension.\n *\n * @param {string} str\n * @return {boolean|string}\n */\n\nfunction contentType (str) {\n  // TODO: should this even be in this module?\n  if (!str || typeof str !== 'string') {\n    return false\n  }\n\n  var mime = str.indexOf('/') === -1\n    ? exports.lookup(str)\n    : str\n\n  if (!mime) {\n    return false\n  }\n\n  // TODO: use content-type or other module\n  if (mime.indexOf('charset') === -1) {\n    var charset = exports.charset(mime)\n    if (charset) mime += '; charset=' + charset.toLowerCase()\n  }\n\n  return mime\n}\n\n/**\n * Get the default extension for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction extension (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n\n  // get extensions\n  var exts = match && exports.extensions[match[1].toLowerCase()]\n\n  if (!exts || !exts.length) {\n    return false\n  }\n\n  return exts[0]\n}\n\n/**\n * Lookup the MIME type for a file path/extension.\n *\n * @param {string} path\n * @return {boolean|string}\n */\n\nfunction lookup (path) {\n  if (!path || typeof path !== 'string') {\n    return false\n  }\n\n  // get the extension (\"ext\" or \".ext\" or full path)\n  var extension = extname('x.' + path)\n    .toLowerCase()\n    .substr(1)\n\n  if (!extension) {\n    return false\n  }\n\n  return exports.types[extension] || false\n}\n\n/**\n * Populate the extensions and types maps.\n * @private\n */\n\nfunction populateMaps (extensions, types) {\n  // source preference (least -> most)\n  var preference = ['nginx', 'apache', undefined, 'iana']\n\n  Object.keys(db).forEach(function forEachMimeType (type) {\n    var mime = db[type]\n    var exts = mime.extensions\n\n    if (!exts || !exts.length) {\n      return\n    }\n\n    // mime -> extensions\n    extensions[type] = exts\n\n    // extension -> mime\n    for (var i = 0; i < exts.length; i++) {\n      var extension = exts[i]\n\n      if (types[extension]) {\n        var from = preference.indexOf(db[types[extension]].source)\n        var to = preference.indexOf(mime.source)\n\n        if (types[extension] !== 'application/octet-stream' &&\n          (from > to || (from === to && types[extension].substr(0, 12) === 'application/'))) {\n          // skip the remapping\n          continue\n        }\n      }\n\n      // set the extension -> mime\n      types[extension] = type\n    }\n  })\n}\n","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Messages = void 0;\nconst resource_1 = require(\"../../../core/resource.js\");\nconst pagination_1 = require(\"../../../core/pagination.js\");\nconst headers_1 = require(\"../../../internal/headers.js\");\nconst path_1 = require(\"../../../internal/utils/path.js\");\n/**\n * @deprecated The Assistants API is deprecated in favor of the Responses API\n */\nclass Messages extends resource_1.APIResource {\n    /**\n     * Create a message.\n     *\n     * @deprecated The Assistants API is deprecated in favor of the Responses API\n     */\n    create(threadID, body, options) {\n        return this._client.post((0, path_1.path) `/threads/${threadID}/messages`, {\n            body,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Retrieve a message.\n     *\n     * @deprecated The Assistants API is deprecated in favor of the Responses API\n     */\n    retrieve(messageID, params, options) {\n        const { thread_id } = params;\n        return this._client.get((0, path_1.path) `/threads/${thread_id}/messages/${messageID}`, {\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Modifies a message.\n     *\n     * @deprecated The Assistants API is deprecated in favor of the Responses API\n     */\n    update(messageID, params, options) {\n        const { thread_id, ...body } = params;\n        return this._client.post((0, path_1.path) `/threads/${thread_id}/messages/${messageID}`, {\n            body,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Returns a list of messages for a given thread.\n     *\n     * @deprecated The Assistants API is deprecated in favor of the Responses API\n     */\n    list(threadID, query = {}, options) {\n        return this._client.getAPIList((0, path_1.path) `/threads/${threadID}/messages`, (pagination_1.CursorPage), {\n            query,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Deletes a message.\n     *\n     * @deprecated The Assistants API is deprecated in favor of the Responses API\n     */\n    delete(messageID, params, options) {\n        const { thread_id } = params;\n        return this._client.delete((0, path_1.path) `/threads/${thread_id}/messages/${messageID}`, {\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n}\nexports.Messages = Messages;\n//# sourceMappingURL=messages.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Chat = void 0;\nconst tslib_1 = require(\"../../internal/tslib.js\");\nconst resource_1 = require(\"../../core/resource.js\");\nconst CompletionsAPI = tslib_1.__importStar(require(\"./completions/completions.js\"));\nconst completions_1 = require(\"./completions/completions.js\");\nclass Chat extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.completions = new CompletionsAPI.Completions(this._client);\n    }\n}\nexports.Chat = Chat;\nChat.Completions = completions_1.Completions;\n//# sourceMappingURL=chat.js.map","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Beta = void 0;\nconst tslib_1 = require(\"../../internal/tslib.js\");\nconst resource_1 = require(\"../../core/resource.js\");\nconst AssistantsAPI = tslib_1.__importStar(require(\"./assistants.js\"));\nconst assistants_1 = require(\"./assistants.js\");\nconst RealtimeAPI = tslib_1.__importStar(require(\"./realtime/realtime.js\"));\nconst realtime_1 = require(\"./realtime/realtime.js\");\nconst ChatKitAPI = tslib_1.__importStar(require(\"./chatkit/chatkit.js\"));\nconst chatkit_1 = require(\"./chatkit/chatkit.js\");\nconst ThreadsAPI = tslib_1.__importStar(require(\"./threads/threads.js\"));\nconst threads_1 = require(\"./threads/threads.js\");\nclass Beta extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.realtime = new RealtimeAPI.Realtime(this._client);\n        this.chatkit = new ChatKitAPI.ChatKit(this._client);\n        this.assistants = new AssistantsAPI.Assistants(this._client);\n        this.threads = new ThreadsAPI.Threads(this._client);\n    }\n}\nexports.Beta = Beta;\nBeta.Realtime = realtime_1.Realtime;\nBeta.ChatKit = chatkit_1.ChatKit;\nBeta.Assistants = assistants_1.Assistants;\nBeta.Threads = threads_1.Threads;\n//# sourceMappingURL=beta.js.map","'use strict';\n\n/** @type {import('./max')} */\nmodule.exports = Math.max;\n","var abort = require('./abort.js')\n  , async = require('./async.js')\n  ;\n\n// API\nmodule.exports = terminator;\n\n/**\n * Terminates jobs in the attached state context\n *\n * @this  AsyncKitState#\n * @param {function} callback - final callback to invoke after termination\n */\nfunction terminator(callback)\n{\n  if (!Object.keys(this.jobs).length)\n  {\n    return;\n  }\n\n  // fast forward iteration index\n  this.index = this.size;\n\n  // abort jobs\n  abort(this);\n\n  // send back results we have so far\n  async(callback)(null, this.results);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isToolMessage = exports.isAssistantMessage = void 0;\nexports.isPresent = isPresent;\nconst isAssistantMessage = (message) => {\n    return message?.role === 'assistant';\n};\nexports.isAssistantMessage = isAssistantMessage;\nconst isToolMessage = (message) => {\n    return message?.role === 'tool';\n};\nexports.isToolMessage = isToolMessage;\nfunction isPresent(obj) {\n    return obj != null;\n}\n//# sourceMappingURL=chatCompletionUtils.js.map","/**\n * Detect Electron renderer process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process !== 'undefined' && process.type === 'renderer') {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n","'use strict'\n\nconst assert = require('assert')\nconst debug = require('debug')('record')\nconst { spawn } = require('child_process')\nconst recorders = require('./recorders')\n\nclass Recording {\n  constructor (options = {}) {\n    const defaults = {\n      sampleRate: 16000,\n      channels: 1,\n      compress: false,\n      threshold: 0.5,\n      thresholdStart: null,\n      thresholdEnd: null,\n      silence: '1.0',\n      recorder: 'sox',\n      endOnSilence: false,\n      audioType: 'wav'\n    }\n\n    this.options = Object.assign(defaults, options)\n\n    const recorder = recorders.load(this.options.recorder)\n    const { cmd, args, spawnOptions = {} } = recorder(this.options)\n\n    this.cmd = cmd\n    this.args = args\n    this.cmdOptions = Object.assign({ encoding: 'binary', stdio: 'pipe' }, spawnOptions)\n\n    debug(`Started recording`)\n    debug(this.options)\n    debug(` ${this.cmd} ${this.args.join(' ')}`)\n\n    return this.start()\n  }\n\n  start () {\n    const { cmd, args, cmdOptions } = this\n\n    const cp = spawn(cmd, args, cmdOptions)\n    const rec = cp.stdout\n    const err = cp.stderr\n\n    this.process = cp // expose child process\n    this._stream = rec // expose output stream\n\n    cp.on('close', code => {\n      if (code === 0) return\n      rec.emit('error', `${this.cmd} has exited with error code ${code}.\n\nEnable debugging with the environment variable DEBUG=record.`\n      )\n    })\n\n    err.on('data', chunk => {\n      debug(`STDERR: ${chunk}`)\n    })\n\n    rec.on('data', chunk => {\n      debug(`Recording ${chunk.length} bytes`)\n    })\n\n    rec.on('end', () => {\n      debug('Recording ended')\n    })\n\n    return this\n  }\n\n  stop () {\n    assert(this.process, 'Recording not yet started')\n\n    this.process.kill()\n  }\n\n  pause () {\n    assert(this.process, 'Recording not yet started')\n\n    this.process.kill('SIGSTOP')\n    this._stream.pause()\n    debug('Paused recording')\n  }\n\n  resume () {\n    assert(this.process, 'Recording not yet started')\n\n    this.process.kill('SIGCONT')\n    this._stream.resume()\n    debug('Resumed recording')\n  }\n\n  isPaused () {\n    assert(this.process, 'Recording not yet started')\n\n    return this._stream.isPaused()\n  }\n\n  stream () {\n    assert(this._stream, 'Recording not yet started')\n\n    return this._stream\n  }\n}\n\nmodule.exports = {\n  record: (...args) => new Recording(...args)\n}\n","'use strict';\n\nvar parseUrl = require('url').parse;\n\nvar DEFAULT_PORTS = {\n  ftp: 21,\n  gopher: 70,\n  http: 80,\n  https: 443,\n  ws: 80,\n  wss: 443,\n};\n\nvar stringEndsWith = String.prototype.endsWith || function(s) {\n  return s.length <= this.length &&\n    this.indexOf(s, this.length - s.length) !== -1;\n};\n\n/**\n * @param {string|object} url - The URL, or the result from url.parse.\n * @return {string} The URL of the proxy that should handle the request to the\n *  given URL. If no proxy is set, this will be an empty string.\n */\nfunction getProxyForUrl(url) {\n  var parsedUrl = typeof url === 'string' ? parseUrl(url) : url || {};\n  var proto = parsedUrl.protocol;\n  var hostname = parsedUrl.host;\n  var port = parsedUrl.port;\n  if (typeof hostname !== 'string' || !hostname || typeof proto !== 'string') {\n    return '';  // Don't proxy URLs without a valid scheme or host.\n  }\n\n  proto = proto.split(':', 1)[0];\n  // Stripping ports in this way instead of using parsedUrl.hostname to make\n  // sure that the brackets around IPv6 addresses are kept.\n  hostname = hostname.replace(/:\\d*$/, '');\n  port = parseInt(port) || DEFAULT_PORTS[proto] || 0;\n  if (!shouldProxy(hostname, port)) {\n    return '';  // Don't proxy URLs that match NO_PROXY.\n  }\n\n  var proxy =\n    getEnv('npm_config_' + proto + '_proxy') ||\n    getEnv(proto + '_proxy') ||\n    getEnv('npm_config_proxy') ||\n    getEnv('all_proxy');\n  if (proxy && proxy.indexOf('://') === -1) {\n    // Missing scheme in proxy, default to the requested URL's scheme.\n    proxy = proto + '://' + proxy;\n  }\n  return proxy;\n}\n\n/**\n * Determines whether a given URL should be proxied.\n *\n * @param {string} hostname - The host name of the URL.\n * @param {number} port - The effective port of the URL.\n * @returns {boolean} Whether the given URL should be proxied.\n * @private\n */\nfunction shouldProxy(hostname, port) {\n  var NO_PROXY =\n    (getEnv('npm_config_no_proxy') || getEnv('no_proxy')).toLowerCase();\n  if (!NO_PROXY) {\n    return true;  // Always proxy if NO_PROXY is not set.\n  }\n  if (NO_PROXY === '*') {\n    return false;  // Never proxy if wildcard is set.\n  }\n\n  return NO_PROXY.split(/[,\\s]/).every(function(proxy) {\n    if (!proxy) {\n      return true;  // Skip zero-length hosts.\n    }\n    var parsedProxy = proxy.match(/^(.+):(\\d+)$/);\n    var parsedProxyHostname = parsedProxy ? parsedProxy[1] : proxy;\n    var parsedProxyPort = parsedProxy ? parseInt(parsedProxy[2]) : 0;\n    if (parsedProxyPort && parsedProxyPort !== port) {\n      return true;  // Skip if ports don't match.\n    }\n\n    if (!/^[.*]/.test(parsedProxyHostname)) {\n      // No wildcards, so stop proxying if there is an exact match.\n      return hostname !== parsedProxyHostname;\n    }\n\n    if (parsedProxyHostname.charAt(0) === '*') {\n      // Remove leading wildcard.\n      parsedProxyHostname = parsedProxyHostname.slice(1);\n    }\n    // Stop proxying if the hostname ends with the no_proxy host.\n    return !stringEndsWith.call(hostname, parsedProxyHostname);\n  });\n}\n\n/**\n * Get the value for an environment variable.\n *\n * @param {string} key - The name of the environment variable.\n * @return {string} The value of the environment variable.\n * @private\n */\nfunction getEnv(key) {\n  return process.env[key.toLowerCase()] || process.env[key.toUpperCase()] || '';\n}\n\nexports.getProxyForUrl = getProxyForUrl;\n","'use strict';\n\n/** @type {import('./gOPD')} */\nmodule.exports = Object.getOwnPropertyDescriptor;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\"use strict\";\nvar _ResponseStream_instances, _ResponseStream_params, _ResponseStream_currentResponseSnapshot, _ResponseStream_finalResponse, _ResponseStream_beginRequest, _ResponseStream_addEvent, _ResponseStream_endRequest, _ResponseStream_accumulateResponse;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ResponseStream = void 0;\nconst tslib_1 = require(\"../../internal/tslib.js\");\nconst error_1 = require(\"../../error.js\");\nconst EventStream_1 = require(\"../EventStream.js\");\nconst ResponsesParser_1 = require(\"../ResponsesParser.js\");\nclass ResponseStream extends EventStream_1.EventStream {\n    constructor(params) {\n        super();\n        _ResponseStream_instances.add(this);\n        _ResponseStream_params.set(this, void 0);\n        _ResponseStream_currentResponseSnapshot.set(this, void 0);\n        _ResponseStream_finalResponse.set(this, void 0);\n        tslib_1.__classPrivateFieldSet(this, _ResponseStream_params, params, \"f\");\n    }\n    static createResponse(client, params, options) {\n        const runner = new ResponseStream(params);\n        runner._run(() => runner._createOrRetrieveResponse(client, params, {\n            ...options,\n            headers: { ...options?.headers, 'X-Stainless-Helper-Method': 'stream' },\n        }));\n        return runner;\n    }\n    async _createOrRetrieveResponse(client, params, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted)\n                this.controller.abort();\n            signal.addEventListener('abort', () => this.controller.abort());\n        }\n        tslib_1.__classPrivateFieldGet(this, _ResponseStream_instances, \"m\", _ResponseStream_beginRequest).call(this);\n        let stream;\n        let starting_after = null;\n        if ('response_id' in params) {\n            stream = await client.responses.retrieve(params.response_id, { stream: true }, { ...options, signal: this.controller.signal, stream: true });\n            starting_after = params.starting_after ?? null;\n        }\n        else {\n            stream = await client.responses.create({ ...params, stream: true }, { ...options, signal: this.controller.signal });\n        }\n        this._connected();\n        for await (const event of stream) {\n            tslib_1.__classPrivateFieldGet(this, _ResponseStream_instances, \"m\", _ResponseStream_addEvent).call(this, event, starting_after);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new error_1.APIUserAbortError();\n        }\n        return tslib_1.__classPrivateFieldGet(this, _ResponseStream_instances, \"m\", _ResponseStream_endRequest).call(this);\n    }\n    [(_ResponseStream_params = new WeakMap(), _ResponseStream_currentResponseSnapshot = new WeakMap(), _ResponseStream_finalResponse = new WeakMap(), _ResponseStream_instances = new WeakSet(), _ResponseStream_beginRequest = function _ResponseStream_beginRequest() {\n        if (this.ended)\n            return;\n        tslib_1.__classPrivateFieldSet(this, _ResponseStream_currentResponseSnapshot, undefined, \"f\");\n    }, _ResponseStream_addEvent = function _ResponseStream_addEvent(event, starting_after) {\n        if (this.ended)\n            return;\n        const maybeEmit = (name, event) => {\n            if (starting_after == null || event.sequence_number > starting_after) {\n                this._emit(name, event);\n            }\n        };\n        const response = tslib_1.__classPrivateFieldGet(this, _ResponseStream_instances, \"m\", _ResponseStream_accumulateResponse).call(this, event);\n        maybeEmit('event', event);\n        switch (event.type) {\n            case 'response.output_text.delta': {\n                const output = response.output[event.output_index];\n                if (!output) {\n                    throw new error_1.OpenAIError(`missing output at index ${event.output_index}`);\n                }\n                if (output.type === 'message') {\n                    const content = output.content[event.content_index];\n                    if (!content) {\n                        throw new error_1.OpenAIError(`missing content at index ${event.content_index}`);\n                    }\n                    if (content.type !== 'output_text') {\n                        throw new error_1.OpenAIError(`expected content to be 'output_text', got ${content.type}`);\n                    }\n                    maybeEmit('response.output_text.delta', {\n                        ...event,\n                        snapshot: content.text,\n                    });\n                }\n                break;\n            }\n            case 'response.function_call_arguments.delta': {\n                const output = response.output[event.output_index];\n                if (!output) {\n                    throw new error_1.OpenAIError(`missing output at index ${event.output_index}`);\n                }\n                if (output.type === 'function_call') {\n                    maybeEmit('response.function_call_arguments.delta', {\n                        ...event,\n                        snapshot: output.arguments,\n                    });\n                }\n                break;\n            }\n            default:\n                maybeEmit(event.type, event);\n                break;\n        }\n    }, _ResponseStream_endRequest = function _ResponseStream_endRequest() {\n        if (this.ended) {\n            throw new error_1.OpenAIError(`stream has ended, this shouldn't happen`);\n        }\n        const snapshot = tslib_1.__classPrivateFieldGet(this, _ResponseStream_currentResponseSnapshot, \"f\");\n        if (!snapshot) {\n            throw new error_1.OpenAIError(`request ended without sending any events`);\n        }\n        tslib_1.__classPrivateFieldSet(this, _ResponseStream_currentResponseSnapshot, undefined, \"f\");\n        const parsedResponse = finalizeResponse(snapshot, tslib_1.__classPrivateFieldGet(this, _ResponseStream_params, \"f\"));\n        tslib_1.__classPrivateFieldSet(this, _ResponseStream_finalResponse, parsedResponse, \"f\");\n        return parsedResponse;\n    }, _ResponseStream_accumulateResponse = function _ResponseStream_accumulateResponse(event) {\n        let snapshot = tslib_1.__classPrivateFieldGet(this, _ResponseStream_currentResponseSnapshot, \"f\");\n        if (!snapshot) {\n            if (event.type !== 'response.created') {\n                throw new error_1.OpenAIError(`When snapshot hasn't been set yet, expected 'response.created' event, got ${event.type}`);\n            }\n            snapshot = tslib_1.__classPrivateFieldSet(this, _ResponseStream_currentResponseSnapshot, event.response, \"f\");\n            return snapshot;\n        }\n        switch (event.type) {\n            case 'response.output_item.added': {\n                snapshot.output.push(event.item);\n                break;\n            }\n            case 'response.content_part.added': {\n                const output = snapshot.output[event.output_index];\n                if (!output) {\n                    throw new error_1.OpenAIError(`missing output at index ${event.output_index}`);\n                }\n                const type = output.type;\n                const part = event.part;\n                if (type === 'message' && part.type !== 'reasoning_text') {\n                    output.content.push(part);\n                }\n                else if (type === 'reasoning' && part.type === 'reasoning_text') {\n                    if (!output.content) {\n                        output.content = [];\n                    }\n                    output.content.push(part);\n                }\n                break;\n            }\n            case 'response.output_text.delta': {\n                const output = snapshot.output[event.output_index];\n                if (!output) {\n                    throw new error_1.OpenAIError(`missing output at index ${event.output_index}`);\n                }\n                if (output.type === 'message') {\n                    const content = output.content[event.content_index];\n                    if (!content) {\n                        throw new error_1.OpenAIError(`missing content at index ${event.content_index}`);\n                    }\n                    if (content.type !== 'output_text') {\n                        throw new error_1.OpenAIError(`expected content to be 'output_text', got ${content.type}`);\n                    }\n                    content.text += event.delta;\n                }\n                break;\n            }\n            case 'response.function_call_arguments.delta': {\n                const output = snapshot.output[event.output_index];\n                if (!output) {\n                    throw new error_1.OpenAIError(`missing output at index ${event.output_index}`);\n                }\n                if (output.type === 'function_call') {\n                    output.arguments += event.delta;\n                }\n                break;\n            }\n            case 'response.reasoning_text.delta': {\n                const output = snapshot.output[event.output_index];\n                if (!output) {\n                    throw new error_1.OpenAIError(`missing output at index ${event.output_index}`);\n                }\n                if (output.type === 'reasoning') {\n                    const content = output.content?.[event.content_index];\n                    if (!content) {\n                        throw new error_1.OpenAIError(`missing content at index ${event.content_index}`);\n                    }\n                    if (content.type !== 'reasoning_text') {\n                        throw new error_1.OpenAIError(`expected content to be 'reasoning_text', got ${content.type}`);\n                    }\n                    content.text += event.delta;\n                }\n                break;\n            }\n            case 'response.completed': {\n                tslib_1.__classPrivateFieldSet(this, _ResponseStream_currentResponseSnapshot, event.response, \"f\");\n                break;\n            }\n        }\n        return snapshot;\n    }, Symbol.asyncIterator)]() {\n        const pushQueue = [];\n        const readQueue = [];\n        let done = false;\n        this.on('event', (event) => {\n            const reader = readQueue.shift();\n            if (reader) {\n                reader.resolve(event);\n            }\n            else {\n                pushQueue.push(event);\n            }\n        });\n        this.on('end', () => {\n            done = true;\n            for (const reader of readQueue) {\n                reader.resolve(undefined);\n            }\n            readQueue.length = 0;\n        });\n        this.on('abort', (err) => {\n            done = true;\n            for (const reader of readQueue) {\n                reader.reject(err);\n            }\n            readQueue.length = 0;\n        });\n        this.on('error', (err) => {\n            done = true;\n            for (const reader of readQueue) {\n                reader.reject(err);\n            }\n            readQueue.length = 0;\n        });\n        return {\n            next: async () => {\n                if (!pushQueue.length) {\n                    if (done) {\n                        return { value: undefined, done: true };\n                    }\n                    return new Promise((resolve, reject) => readQueue.push({ resolve, reject })).then((event) => (event ? { value: event, done: false } : { value: undefined, done: true }));\n                }\n                const event = pushQueue.shift();\n                return { value: event, done: false };\n            },\n            return: async () => {\n                this.abort();\n                return { value: undefined, done: true };\n            },\n        };\n    }\n    /**\n     * @returns a promise that resolves with the final Response, or rejects\n     * if an error occurred or the stream ended prematurely without producing a REsponse.\n     */\n    async finalResponse() {\n        await this.done();\n        const response = tslib_1.__classPrivateFieldGet(this, _ResponseStream_finalResponse, \"f\");\n        if (!response)\n            throw new error_1.OpenAIError('stream ended without producing a ChatCompletion');\n        return response;\n    }\n}\nexports.ResponseStream = ResponseStream;\nfunction finalizeResponse(snapshot, params) {\n    return (0, ResponsesParser_1.maybeParseResponse)(snapshot, params);\n}\n//# sourceMappingURL=ResponseStream.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toFile = toFile;\nconst uploads_1 = require(\"./uploads.js\");\nconst uploads_2 = require(\"./uploads.js\");\n/**\n * This check adds the arrayBuffer() method type because it is available and used at runtime\n */\nconst isBlobLike = (value) => value != null &&\n    typeof value === 'object' &&\n    typeof value.size === 'number' &&\n    typeof value.type === 'string' &&\n    typeof value.text === 'function' &&\n    typeof value.slice === 'function' &&\n    typeof value.arrayBuffer === 'function';\n/**\n * This check adds the arrayBuffer() method type because it is available and used at runtime\n */\nconst isFileLike = (value) => value != null &&\n    typeof value === 'object' &&\n    typeof value.name === 'string' &&\n    typeof value.lastModified === 'number' &&\n    isBlobLike(value);\nconst isResponseLike = (value) => value != null &&\n    typeof value === 'object' &&\n    typeof value.url === 'string' &&\n    typeof value.blob === 'function';\n/**\n * Helper for creating a {@link File} to pass to an SDK upload method from a variety of different data formats\n * @param value the raw content of the file. Can be an {@link Uploadable}, BlobLikePart, or AsyncIterable of BlobLikeParts\n * @param {string=} name the name of the file. If omitted, toFile will try to determine a file name from bits if possible\n * @param {Object=} options additional properties\n * @param {string=} options.type the MIME type of the content\n * @param {number=} options.lastModified the last modified timestamp\n * @returns a {@link File} with the given properties\n */\nasync function toFile(value, name, options) {\n    (0, uploads_2.checkFileSupport)();\n    // If it's a promise, resolve it.\n    value = await value;\n    // If we've been given a `File` we don't need to do anything\n    if (isFileLike(value)) {\n        if (value instanceof File) {\n            return value;\n        }\n        return (0, uploads_1.makeFile)([await value.arrayBuffer()], value.name);\n    }\n    if (isResponseLike(value)) {\n        const blob = await value.blob();\n        name || (name = new URL(value.url).pathname.split(/[\\\\/]/).pop());\n        return (0, uploads_1.makeFile)(await getBytes(blob), name, options);\n    }\n    const parts = await getBytes(value);\n    name || (name = (0, uploads_1.getName)(value));\n    if (!options?.type) {\n        const type = parts.find((part) => typeof part === 'object' && 'type' in part && part.type);\n        if (typeof type === 'string') {\n            options = { ...options, type };\n        }\n    }\n    return (0, uploads_1.makeFile)(parts, name, options);\n}\nasync function getBytes(value) {\n    let parts = [];\n    if (typeof value === 'string' ||\n        ArrayBuffer.isView(value) || // includes Uint8Array, Buffer, etc.\n        value instanceof ArrayBuffer) {\n        parts.push(value);\n    }\n    else if (isBlobLike(value)) {\n        parts.push(value instanceof Blob ? value : await value.arrayBuffer());\n    }\n    else if ((0, uploads_1.isAsyncIterable)(value) // includes Readable, ReadableStream, etc.\n    ) {\n        for await (const chunk of value) {\n            parts.push(...(await getBytes(chunk))); // TODO, consider validating?\n        }\n    }\n    else {\n        const constructor = value?.constructor?.name;\n        throw new Error(`Unexpected data type: ${typeof value}${constructor ? `; constructor: ${constructor}` : ''}${propsForError(value)}`);\n    }\n    return parts;\n}\nfunction propsForError(value) {\n    if (typeof value !== 'object' || value === null)\n        return '';\n    const props = Object.getOwnPropertyNames(value);\n    return `; props: [${props.map((p) => `\"${p}\"`).join(', ')}]`;\n}\n//# sourceMappingURL=to-file.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"./internal/tslib.js\");\n/** @deprecated Import from ./core/streaming instead */\ntslib_1.__exportStar(require(\"./core/streaming.js\"), exports);\n//# sourceMappingURL=streaming.js.map","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","/**\n * 🎤 Voice Recording Service\n * Handles microphone recording and speech-to-text transcription\n */\n\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst os = require(\"os\");\nconst vscode = require(\"vscode\");\n\nclass VoiceRecordingService {\n  constructor(logger, context) {\n    this.logger = logger;\n    this.context = context;\n    this.recorder = null;\n    this.isRecording = false;\n    this.audioFile = null;\n    this.speechClient = null;\n    this.openai = null;\n    this.voiceSettings = null;\n\n    // Load voice settings and initialize services\n    this.loadVoiceSettings();\n    // Initialize engines asynchronously\n    this.initializeVoiceEngines().catch((error) => {\n      this.logger.error(\"🎤 Failed to initialize voice engines:\", error);\n    });\n  }\n\n  /**\n   * Load voice settings from Nox workspace state\n   */\n  loadVoiceSettings() {\n    try {\n      // Load from Nox workspace state (like chat history)\n      const savedSettings = this.context.workspaceState.get(\n        \"nox.voiceSettings\",\n        {}\n      );\n\n      this.voiceSettings = {\n        enabled:\n          savedSettings.enabled !== undefined ? savedSettings.enabled : true,\n        engine: savedSettings.engine || \"free\",\n        googleApiKey: savedSettings.googleApiKey || \"\",\n      };\n\n      this.logger.info(\"🎤 Voice settings loaded from Nox storage:\", {\n        enabled: this.voiceSettings.enabled,\n        engine: this.voiceSettings.engine,\n        hasGoogleKey: !!this.voiceSettings.googleApiKey,\n      });\n    } catch (error) {\n      this.logger.error(\"🎤 Failed to load voice settings:\", error);\n      // Fallback to defaults\n      this.voiceSettings = {\n        enabled: true,\n        engine: \"free\",\n        googleApiKey: \"\",\n      };\n    }\n  }\n\n  /**\n   * Save voice settings to Nox workspace state\n   */\n  async saveVoiceSettings() {\n    try {\n      await this.context.workspaceState.update(\n        \"nox.voiceSettings\",\n        this.voiceSettings\n      );\n      this.logger.info(\"🎤 Voice settings saved to Nox storage\");\n    } catch (error) {\n      this.logger.error(\"🎤 Failed to save voice settings:\", error);\n    }\n  }\n\n  /**\n   * Initialize voice engines based on settings\n   */\n  async initializeVoiceEngines() {\n    try {\n      // Initialize OpenAI if we have an API key (reuse from chat settings)\n      await this.initializeOpenAI();\n\n      // Initialize Google Speech if we have an API key\n      this.initializeGoogleSpeech();\n\n      this.logger.info(\"🎤 Voice engines initialized\");\n    } catch (error) {\n      this.logger.error(\"🎤 Failed to initialize voice engines:\", error);\n    }\n  }\n\n  /**\n   * Initialize OpenAI client for Whisper API\n   */\n  async initializeOpenAI() {\n    try {\n      // Get OpenAI API key from secure storage (reuse existing key)\n      const openaiApiKey = await this.context.secrets.get(\"nox.openai.apiKey\");\n\n      if (openaiApiKey) {\n        const OpenAI = require(\"openai\");\n        this.openai = new OpenAI({\n          apiKey: openaiApiKey,\n        });\n        this.logger.info(\"🎤 OpenAI Whisper API initialized\");\n      } else {\n        this.logger.warn(\"🎤 OpenAI API key not found - Whisper unavailable\");\n      }\n    } catch (error) {\n      this.logger.error(\"🎤 Failed to initialize OpenAI:\", error);\n    }\n  }\n\n  /**\n   * Initialize Google Speech-to-Text client\n   */\n  initializeGoogleSpeech() {\n    try {\n      // Use API key from voice settings if available\n      if (this.voiceSettings?.googleApiKey) {\n        const speech = require(\"@google-cloud/speech\");\n        this.speechClient = new speech.SpeechClient({\n          apiKey: this.voiceSettings.googleApiKey,\n        });\n        this.logger.info(\n          \"🎤 Google Speech-to-Text API initialized with API key\"\n        );\n      } else {\n        // Fallback to environment credentials\n        const credentialsPath = process.env.GOOGLE_APPLICATION_CREDENTIALS;\n        if (credentialsPath || process.env.GOOGLE_CLOUD_PROJECT) {\n          const speech = require(\"@google-cloud/speech\");\n          this.speechClient = new speech.SpeechClient();\n          this.logger.info(\n            \"🎤 Google Speech-to-Text API initialized with environment credentials\"\n          );\n        } else {\n          this.logger.warn(\n            \"🎤 Google Cloud credentials not found - Google Speech unavailable\"\n          );\n        }\n      }\n    } catch (error) {\n      this.logger.error(\"🎤 Failed to initialize Google Speech:\", error);\n    }\n  }\n\n  /**\n   * Start recording audio from microphone\n   */\n  async startRecording() {\n    try {\n      if (this.isRecording) {\n        throw new Error(\"Recording already in progress\");\n      }\n\n      this.logger.info(\"🎤 Starting voice recording...\");\n\n      // Try to import node-record-lpcm16\n      let record;\n      try {\n        record = require(\"node-record-lpcm16\");\n      } catch (error) {\n        throw new Error(\n          \"node-record-lpcm16 not available. Please install: npm install node-record-lpcm16\"\n        );\n      }\n\n      // Create temporary audio file\n      const tempDir = os.tmpdir();\n      this.audioFile = path.join(tempDir, `nox-voice-${Date.now()}.wav`);\n\n      // Configure recording options\n      const recordingOptions = {\n        sampleRateHertz: 16000,\n        threshold: 0.5,\n        verbose: false,\n        recordProgram: \"rec\", // Use SoX for recording\n        silence: \"1.0s\",\n      };\n\n      // Start recording\n      this.recorder = record.record(recordingOptions);\n\n      // Pipe audio to file\n      const fileStream = fs.createWriteStream(this.audioFile);\n      this.recorder.stream().pipe(fileStream);\n\n      this.isRecording = true;\n      this.logger.info(`🎤 Recording started, saving to: ${this.audioFile}`);\n\n      return {\n        success: true,\n        message: \"Recording started\",\n      };\n    } catch (error) {\n      this.logger.error(\"🎤 Failed to start recording:\", error);\n      return {\n        success: false,\n        error: error.message,\n      };\n    }\n  }\n\n  /**\n   * Stop recording and transcribe audio\n   */\n  async stopRecording() {\n    try {\n      if (!this.isRecording || !this.recorder) {\n        throw new Error(\"No recording in progress\");\n      }\n\n      this.logger.info(\"🎤 Stopping voice recording...\");\n\n      // Stop the recorder\n      this.recorder.stop();\n      this.isRecording = false;\n\n      // Wait a moment for file to be written\n      await new Promise((resolve) => setTimeout(resolve, 500));\n\n      // Check if audio file exists and has content\n      if (!fs.existsSync(this.audioFile)) {\n        throw new Error(\"Audio file was not created\");\n      }\n\n      const stats = fs.statSync(this.audioFile);\n      if (stats.size === 0) {\n        throw new Error(\"Audio file is empty\");\n      }\n\n      this.logger.info(\n        `🎤 Audio file created: ${this.audioFile} (${stats.size} bytes)`\n      );\n\n      // Transcribe the audio\n      const transcription = await this.transcribeAudio(this.audioFile);\n\n      // Clean up audio file\n      try {\n        fs.unlinkSync(this.audioFile);\n        this.logger.info(\"🎤 Temporary audio file cleaned up\");\n      } catch (cleanupError) {\n        this.logger.warn(\"🎤 Failed to clean up audio file:\", cleanupError);\n      }\n\n      return {\n        success: true,\n        text: transcription,\n        message: \"Recording completed and transcribed\",\n      };\n    } catch (error) {\n      this.logger.error(\"🎤 Failed to stop recording:\", error);\n\n      // Clean up on error\n      if (this.audioFile && fs.existsSync(this.audioFile)) {\n        try {\n          fs.unlinkSync(this.audioFile);\n        } catch (cleanupError) {\n          this.logger.warn(\n            \"🎤 Failed to clean up audio file on error:\",\n            cleanupError\n          );\n        }\n      }\n\n      return {\n        success: false,\n        error: error.message,\n      };\n    }\n  }\n\n  /**\n   * Transcribe audio file to text using selected engine\n   */\n  async transcribeAudio(audioFilePath) {\n    try {\n      // Check if voice is enabled\n      if (!this.voiceSettings?.enabled) {\n        throw new Error(\"Voice input is disabled in settings\");\n      }\n\n      // Use selected engine\n      switch (this.voiceSettings.engine) {\n        case \"openai\":\n          if (this.openai) {\n            return await this.transcribeWithWhisper(audioFilePath);\n          } else {\n            this.logger.warn(\n              \"🎤 OpenAI not available, falling back to free engine\"\n            );\n            return await this.transcribeWithVosk(audioFilePath);\n          }\n\n        case \"google\":\n          if (this.speechClient) {\n            return await this.transcribeWithGoogle(audioFilePath);\n          } else {\n            this.logger.warn(\n              \"🎤 Google Speech not available, falling back to free engine\"\n            );\n            return await this.transcribeWithVosk(audioFilePath);\n          }\n\n        case \"free\":\n        default:\n          return await this.transcribeWithVosk(audioFilePath);\n      }\n    } catch (error) {\n      this.logger.error(\"🎤 Transcription failed:\", error);\n      return \"Sorry, I could not understand the audio. Please try again.\";\n    }\n  }\n\n  /**\n   * Transcribe using free Vosk engine (offline)\n   */\n  async transcribeWithVosk(audioFilePath) {\n    try {\n      this.logger.info(\"🎤 Transcribing with Vosk (free engine)...\");\n\n      // For now, use mock transcription as placeholder\n      // TODO: Implement actual Vosk integration in Phase 3\n      return await this.mockTranscription();\n    } catch (error) {\n      this.logger.error(\"🎤 Vosk transcription failed:\", error);\n      throw error;\n    }\n  }\n\n  /**\n   * Transcribe using OpenAI Whisper API\n   */\n  async transcribeWithWhisper(audioFilePath) {\n    try {\n      this.logger.info(\"🎤 Transcribing with OpenAI Whisper...\");\n\n      const transcription = await this.openai.audio.transcriptions.create({\n        file: fs.createReadStream(audioFilePath),\n        model: \"whisper-1\",\n        language: \"en\", // Can be made configurable\n      });\n\n      const text = transcription.text.trim();\n      this.logger.info(`🎤 Whisper transcription: \"${text}\"`);\n\n      return text || \"No speech detected. Please try again.\";\n    } catch (error) {\n      this.logger.error(\"🎤 Whisper transcription failed:\", error);\n      throw error;\n    }\n  }\n\n  /**\n   * Transcribe using Google Speech-to-Text API\n   */\n  async transcribeWithGoogle(audioFilePath) {\n    try {\n      this.logger.info(\"🎤 Transcribing with Google Speech-to-Text...\");\n\n      // Read audio file\n      const audioBytes = fs.readFileSync(audioFilePath).toString(\"base64\");\n\n      // Configure request\n      const request = {\n        audio: {\n          content: audioBytes,\n        },\n        config: {\n          encoding: \"LINEAR16\",\n          sampleRateHertz: 16000,\n          languageCode: \"en-US\",\n        },\n      };\n\n      // Perform transcription\n      const [response] = await this.speechClient.recognize(request);\n      const transcription = response.results\n        .map((result) => result.alternatives[0].transcript)\n        .join(\"\\n\");\n\n      const text = transcription.trim();\n      this.logger.info(`🎤 Google Speech transcription: \"${text}\"`);\n\n      return text || \"No speech detected. Please try again.\";\n    } catch (error) {\n      this.logger.error(\"🎤 Google Speech transcription failed:\", error);\n      throw error;\n    }\n  }\n\n  /**\n   * Mock transcription for testing/fallback\n   */\n  async mockTranscription() {\n    this.logger.info(\"🎤 Using mock transcription (free engine placeholder)\");\n\n    // Simulate processing time\n    await new Promise((resolve) => setTimeout(resolve, 1000));\n\n    const mockResponses = [\n      \"Hello, this is a test voice message\",\n      \"Can you help me with my code?\",\n      \"Please explain this function\",\n      \"What does this error mean?\",\n      \"How do I fix this bug?\",\n    ];\n\n    const randomResponse =\n      mockResponses[Math.floor(Math.random() * mockResponses.length)];\n    this.logger.info(`🎤 Mock transcription: \"${randomResponse}\"`);\n\n    return randomResponse;\n  }\n\n  /**\n   * Cancel current recording\n   */\n  async cancelRecording() {\n    try {\n      if (this.isRecording && this.recorder) {\n        this.recorder.stop();\n        this.isRecording = false;\n\n        // Clean up audio file\n        if (this.audioFile && fs.existsSync(this.audioFile)) {\n          fs.unlinkSync(this.audioFile);\n        }\n\n        this.logger.info(\"🎤 Recording cancelled\");\n      }\n    } catch (error) {\n      this.logger.error(\"🎤 Failed to cancel recording:\", error);\n    }\n  }\n\n  /**\n   * Check if recording is currently active and get engine status\n   */\n  getRecordingStatus() {\n    return {\n      isRecording: this.isRecording,\n      voiceEnabled: this.voiceSettings?.enabled || false,\n      selectedEngine: this.voiceSettings?.engine || \"free\",\n      engines: {\n        free: true, // Always available\n        openai: !!this.openai,\n        google: !!this.speechClient,\n      },\n    };\n  }\n\n  /**\n   * Get detailed voice engine status for settings UI\n   */\n  getVoiceEngineStatus() {\n    return {\n      enabled: this.voiceSettings?.enabled || false,\n      selectedEngine: this.voiceSettings?.engine || \"free\",\n      engines: {\n        free: {\n          available: true,\n          name: \"Free (Vosk)\",\n          description: \"100% free offline voice recognition\",\n        },\n        openai: {\n          available: !!this.openai,\n          name: \"OpenAI Whisper\",\n          description: \"High-accuracy cloud transcription\",\n          requiresKey: true,\n          hasKey: !!this.openai,\n        },\n        google: {\n          available: !!this.speechClient,\n          name: \"Google Speech\",\n          description: \"Google Cloud Speech-to-Text\",\n          requiresKey: true,\n          hasKey: !!this.speechClient,\n        },\n      },\n    };\n  }\n\n  /**\n   * Update voice settings (called when settings change)\n   */\n  async updateVoiceSettings(newSettings) {\n    if (newSettings) {\n      this.voiceSettings = { ...this.voiceSettings, ...newSettings };\n      await this.saveVoiceSettings();\n    } else {\n      this.loadVoiceSettings();\n    }\n    await this.initializeVoiceEngines();\n    this.logger.info(\"🎤 Voice settings updated\");\n  }\n}\n\nmodule.exports = VoiceRecordingService;\n","module.exports = require(\"path\");","module.exports = require(\"crypto\");","module.exports = require(\"url\");","'use strict';\n\n/** @type {import('./reflectApply')} */\nmodule.exports = typeof Reflect !== 'undefined' && Reflect && Reflect.apply;\n","'use strict';\n\nvar callBind = require('call-bind-apply-helpers');\nvar gOPD = require('gopd');\n\nvar hasProtoAccessor;\ntry {\n\t// eslint-disable-next-line no-extra-parens, no-proto\n\thasProtoAccessor = /** @type {{ __proto__?: typeof Array.prototype }} */ ([]).__proto__ === Array.prototype;\n} catch (e) {\n\tif (!e || typeof e !== 'object' || !('code' in e) || e.code !== 'ERR_PROTO_ACCESS') {\n\t\tthrow e;\n\t}\n}\n\n// eslint-disable-next-line no-extra-parens\nvar desc = !!hasProtoAccessor && gOPD && gOPD(Object.prototype, /** @type {keyof typeof Object.prototype} */ ('__proto__'));\n\nvar $Object = Object;\nvar $getPrototypeOf = $Object.getPrototypeOf;\n\n/** @type {import('./get')} */\nmodule.exports = desc && typeof desc.get === 'function'\n\t? callBind([desc.get])\n\t: typeof $getPrototypeOf === 'function'\n\t\t? /** @type {import('./get')} */ function getDunder(value) {\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\treturn $getPrototypeOf(value == null ? value : $Object(value));\n\t\t}\n\t\t: false;\n","const vscode = require(\"vscode\");\nconst fs = require(\"fs\").promises;\nconst path = require(\"path\");\n\n/**\n * 🦊 Enterprise File Operations with atomic operations and rollback\n * Provides safe multi-file editing capabilities with enterprise-grade error handling\n */\nclass FileOps {\n  constructor(context, logger, performanceMonitor) {\n    this.context = context;\n    this.logger = logger;\n    this.performanceMonitor = performanceMonitor;\n    this.isInitialized = false;\n\n    // Operation tracking\n    this.activeOperations = new Map(); // operationId -> operation details\n    this.backupStorage = new Map(); // filePath -> backup content\n    this.operationHistory = []; // History of completed operations\n\n    // Configuration\n    this.maxBackupSize = 10 * 1024 * 1024; // 10MB max backup size\n    this.maxHistorySize = 100; // Keep last 100 operations\n  }\n\n  /**\n   * Initialize file operations\n   */\n  async initialize() {\n    try {\n      this.logger.info(\"🦊 Initializing File Operations...\");\n\n      // Setup workspace edit capabilities\n      this.workspaceEdit = vscode.workspace;\n\n      // Initialize backup storage\n      await this.initializeBackupStorage();\n\n      this.isInitialized = true;\n      this.logger.info(\"🦊 File Operations initialized successfully\");\n    } catch (error) {\n      this.logger.error(\"Failed to initialize File Operations:\", error);\n      throw error;\n    }\n  }\n\n  /**\n   * 💾 Initialize backup storage\n   */\n  async initializeBackupStorage() {\n    try {\n      // Clear old backups on startup\n      this.backupStorage.clear();\n      this.logger.debug(\"📁 Backup storage initialized\");\n    } catch (error) {\n      this.logger.error(\"Failed to initialize backup storage:\", error);\n    }\n  }\n\n  /**\n   * 📝 Create a new file with content\n   */\n  async createFile(filePath, content, options = {}) {\n    if (!this.isInitialized) {\n      throw new Error(\"File Operations not initialized\");\n    }\n\n    const timer = this.performanceMonitor.startTimer(\"file_create\");\n    const operationId = this.generateOperationId();\n\n    try {\n      this.logger.info(`📝 Creating file: ${filePath}`);\n\n      // Check if file already exists\n      const uri = vscode.Uri.file(filePath);\n      try {\n        await vscode.workspace.fs.stat(uri);\n        if (!options.overwrite) {\n          throw new Error(`File already exists: ${filePath}`);\n        }\n      } catch (error) {\n        // File doesn't exist, which is what we want for creation\n        if (error.code !== \"FileNotFound\") {\n          throw error;\n        }\n      }\n\n      // Create workspace edit\n      const edit = new vscode.WorkspaceEdit();\n      edit.createFile(uri, { overwrite: options.overwrite || false });\n\n      if (content) {\n        edit.insert(uri, new vscode.Position(0, 0), content);\n      }\n\n      // Track operation\n      this.activeOperations.set(operationId, {\n        type: \"create\",\n        files: [filePath],\n        timestamp: Date.now(),\n        edit,\n      });\n\n      // Apply edit\n      const success = await vscode.workspace.applyEdit(edit);\n\n      if (!success) {\n        throw new Error(`Failed to create file: ${filePath}`);\n      }\n\n      // Complete operation\n      this.completeOperation(operationId, \"create\", [filePath]);\n      timer.end();\n\n      this.logger.info(`📝 File created successfully: ${filePath}`);\n      return { success: true, filePath, operationId };\n    } catch (error) {\n      timer.end();\n      this.failOperation(operationId, error);\n      this.logger.error(`Failed to create file ${filePath}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * ✏️ Edit file content with atomic operations\n   */\n  async editFile(filePath, edits, options = {}) {\n    if (!this.isInitialized) {\n      throw new Error(\"File Operations not initialized\");\n    }\n\n    const timer = this.performanceMonitor.startTimer(\"file_edit\");\n    const operationId = this.generateOperationId();\n\n    try {\n      this.logger.info(`✏️ Editing file: ${filePath}`);\n\n      const uri = vscode.Uri.file(filePath);\n\n      // Create backup if requested\n      if (options.createBackup !== false) {\n        await this.createBackup(filePath);\n      }\n\n      // Create workspace edit\n      const edit = new vscode.WorkspaceEdit();\n\n      // Apply edits (edits should be array of {range, text})\n      for (const editItem of edits) {\n        if (editItem.range) {\n          // Replace text in range\n          edit.replace(uri, editItem.range, editItem.text || \"\");\n        } else if (editItem.position) {\n          // Insert text at position\n          edit.insert(uri, editItem.position, editItem.text || \"\");\n        } else if (editItem.line !== undefined) {\n          // Replace entire line\n          const lineRange = new vscode.Range(\n            new vscode.Position(editItem.line, 0),\n            new vscode.Position(editItem.line + 1, 0)\n          );\n          edit.replace(uri, lineRange, editItem.text + \"\\n\");\n        }\n      }\n\n      // Track operation\n      this.activeOperations.set(operationId, {\n        type: \"edit\",\n        files: [filePath],\n        timestamp: Date.now(),\n        edit,\n        backupCreated: options.createBackup !== false,\n      });\n\n      // Apply edit\n      const success = await vscode.workspace.applyEdit(edit);\n\n      if (!success) {\n        throw new Error(`Failed to edit file: ${filePath}`);\n      }\n\n      // Complete operation\n      this.completeOperation(operationId, \"edit\", [filePath]);\n      timer.end();\n\n      this.logger.info(`✏️ File edited successfully: ${filePath}`);\n      return {\n        success: true,\n        filePath,\n        operationId,\n        editsApplied: edits.length,\n      };\n    } catch (error) {\n      timer.end();\n      this.failOperation(operationId, error);\n\n      // Attempt rollback if backup exists\n      if (options.createBackup !== false) {\n        try {\n          await this.rollbackFile(filePath);\n          this.logger.info(\n            `🔄 Rolled back file after edit failure: ${filePath}`\n          );\n        } catch (rollbackError) {\n          this.logger.error(\n            `Failed to rollback file ${filePath}:`,\n            rollbackError\n          );\n        }\n      }\n\n      this.logger.error(`Failed to edit file ${filePath}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * 🗑️ Delete file safely\n   */\n  async deleteFile(filePath, options = {}) {\n    if (!this.isInitialized) {\n      throw new Error(\"File Operations not initialized\");\n    }\n\n    const timer = this.performanceMonitor.startTimer(\"file_delete\");\n    const operationId = this.generateOperationId();\n\n    try {\n      this.logger.info(`🗑️ Deleting file: ${filePath}`);\n\n      const uri = vscode.Uri.file(filePath);\n\n      // Create backup if requested\n      if (options.createBackup !== false) {\n        await this.createBackup(filePath);\n      }\n\n      // Create workspace edit\n      const edit = new vscode.WorkspaceEdit();\n      edit.deleteFile(uri, { recursive: options.recursive || false });\n\n      // Track operation\n      this.activeOperations.set(operationId, {\n        type: \"delete\",\n        files: [filePath],\n        timestamp: Date.now(),\n        edit,\n        backupCreated: options.createBackup !== false,\n      });\n\n      // Apply edit\n      const success = await vscode.workspace.applyEdit(edit);\n\n      if (!success) {\n        throw new Error(`Failed to delete file: ${filePath}`);\n      }\n\n      // Complete operation\n      this.completeOperation(operationId, \"delete\", [filePath]);\n      timer.end();\n\n      this.logger.info(`🗑️ File deleted successfully: ${filePath}`);\n      return { success: true, filePath, operationId };\n    } catch (error) {\n      timer.end();\n      this.failOperation(operationId, error);\n      this.logger.error(`Failed to delete file ${filePath}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * 📋 Copy file\n   */\n  async copyFile(sourcePath, targetPath, options = {}) {\n    if (!this.isInitialized) {\n      throw new Error(\"File Operations not initialized\");\n    }\n\n    const timer = this.performanceMonitor.startTimer(\"file_copy\");\n    const operationId = this.generateOperationId();\n\n    try {\n      this.logger.info(`📋 Copying file: ${sourcePath} -> ${targetPath}`);\n\n      const sourceUri = vscode.Uri.file(sourcePath);\n      const targetUri = vscode.Uri.file(targetPath);\n\n      // Read source content\n      const sourceContent = await vscode.workspace.fs.readFile(sourceUri);\n\n      // Create workspace edit\n      const edit = new vscode.WorkspaceEdit();\n      edit.createFile(targetUri, { overwrite: options.overwrite || false });\n      edit.insert(\n        targetUri,\n        new vscode.Position(0, 0),\n        Buffer.from(sourceContent).toString(\"utf8\")\n      );\n\n      // Track operation\n      this.activeOperations.set(operationId, {\n        type: \"copy\",\n        files: [sourcePath, targetPath],\n        timestamp: Date.now(),\n        edit,\n      });\n\n      // Apply edit\n      const success = await vscode.workspace.applyEdit(edit);\n\n      if (!success) {\n        throw new Error(`Failed to copy file: ${sourcePath} -> ${targetPath}`);\n      }\n\n      // Complete operation\n      this.completeOperation(operationId, \"copy\", [sourcePath, targetPath]);\n      timer.end();\n\n      this.logger.info(\n        `📋 File copied successfully: ${sourcePath} -> ${targetPath}`\n      );\n      return { success: true, sourcePath, targetPath, operationId };\n    } catch (error) {\n      timer.end();\n      this.failOperation(operationId, error);\n      this.logger.error(\n        `Failed to copy file ${sourcePath} -> ${targetPath}:`,\n        error\n      );\n      throw error;\n    }\n  }\n\n  /**\n   * 🔄 Move/rename file\n   */\n  async moveFile(sourcePath, targetPath, options = {}) {\n    if (!this.isInitialized) {\n      throw new Error(\"File Operations not initialized\");\n    }\n\n    const timer = this.performanceMonitor.startTimer(\"file_move\");\n    const operationId = this.generateOperationId();\n\n    try {\n      this.logger.info(`🔄 Moving file: ${sourcePath} -> ${targetPath}`);\n\n      const sourceUri = vscode.Uri.file(sourcePath);\n      const targetUri = vscode.Uri.file(targetPath);\n\n      // Create backup if requested\n      if (options.createBackup !== false) {\n        await this.createBackup(sourcePath);\n      }\n\n      // Create workspace edit\n      const edit = new vscode.WorkspaceEdit();\n      edit.renameFile(sourceUri, targetUri, {\n        overwrite: options.overwrite || false,\n      });\n\n      // Track operation\n      this.activeOperations.set(operationId, {\n        type: \"move\",\n        files: [sourcePath, targetPath],\n        timestamp: Date.now(),\n        edit,\n        backupCreated: options.createBackup !== false,\n      });\n\n      // Apply edit\n      const success = await vscode.workspace.applyEdit(edit);\n\n      if (!success) {\n        throw new Error(`Failed to move file: ${sourcePath} -> ${targetPath}`);\n      }\n\n      // Complete operation\n      this.completeOperation(operationId, \"move\", [sourcePath, targetPath]);\n      timer.end();\n\n      this.logger.info(\n        `🔄 File moved successfully: ${sourcePath} -> ${targetPath}`\n      );\n      return { success: true, sourcePath, targetPath, operationId };\n    } catch (error) {\n      timer.end();\n      this.failOperation(operationId, error);\n      this.logger.error(\n        `Failed to move file ${sourcePath} -> ${targetPath}:`,\n        error\n      );\n      throw error;\n    }\n  }\n\n  /**\n   * 🔄 Batch operations - apply multiple file operations atomically\n   */\n  async batchOperations(operations, options = {}) {\n    if (!this.isInitialized) {\n      throw new Error(\"File Operations not initialized\");\n    }\n\n    const timer = this.performanceMonitor.startTimer(\"batch_operations\");\n    const operationId = this.generateOperationId();\n\n    try {\n      this.logger.info(\n        `🔄 Executing batch operations: ${operations.length} operations`\n      );\n\n      // Create backups for all files if requested\n      const filesToBackup = new Set();\n      if (options.createBackup !== false) {\n        for (const op of operations) {\n          if (\n            op.type === \"edit\" ||\n            op.type === \"delete\" ||\n            op.type === \"move\"\n          ) {\n            filesToBackup.add(op.filePath || op.sourcePath);\n          }\n        }\n\n        for (const filePath of filesToBackup) {\n          await this.createBackup(filePath);\n        }\n      }\n\n      // Create single workspace edit for all operations\n      const edit = new vscode.WorkspaceEdit();\n      const affectedFiles = [];\n\n      for (const operation of operations) {\n        affectedFiles.push(operation.filePath || operation.sourcePath);\n\n        switch (operation.type) {\n          case \"create\":\n            const createUri = vscode.Uri.file(operation.filePath);\n            edit.createFile(createUri, {\n              overwrite: operation.overwrite || false,\n            });\n            if (operation.content) {\n              edit.insert(\n                createUri,\n                new vscode.Position(0, 0),\n                operation.content\n              );\n            }\n            break;\n\n          case \"edit\":\n            const editUri = vscode.Uri.file(operation.filePath);\n            for (const editItem of operation.edits || []) {\n              if (editItem.range) {\n                edit.replace(editUri, editItem.range, editItem.text || \"\");\n              } else if (editItem.position) {\n                edit.insert(editUri, editItem.position, editItem.text || \"\");\n              }\n            }\n            break;\n\n          case \"delete\":\n            const deleteUri = vscode.Uri.file(operation.filePath);\n            edit.deleteFile(deleteUri, {\n              recursive: operation.recursive || false,\n            });\n            break;\n\n          case \"move\":\n            const moveSourceUri = vscode.Uri.file(operation.sourcePath);\n            const moveTargetUri = vscode.Uri.file(operation.targetPath);\n            edit.renameFile(moveSourceUri, moveTargetUri, {\n              overwrite: operation.overwrite || false,\n            });\n            affectedFiles.push(operation.targetPath);\n            break;\n\n          case \"copy\":\n            // Copy requires reading content first\n            const copySourceUri = vscode.Uri.file(operation.sourcePath);\n            const copyTargetUri = vscode.Uri.file(operation.targetPath);\n            const copyContent = await vscode.workspace.fs.readFile(\n              copySourceUri\n            );\n            edit.createFile(copyTargetUri, {\n              overwrite: operation.overwrite || false,\n            });\n            edit.insert(\n              copyTargetUri,\n              new vscode.Position(0, 0),\n              Buffer.from(copyContent).toString(\"utf8\")\n            );\n            affectedFiles.push(operation.targetPath);\n            break;\n        }\n      }\n\n      // Track operation\n      this.activeOperations.set(operationId, {\n        type: \"batch\",\n        files: affectedFiles,\n        timestamp: Date.now(),\n        edit,\n        operationCount: operations.length,\n        backupCreated: options.createBackup !== false,\n      });\n\n      // Apply all edits atomically\n      const success = await vscode.workspace.applyEdit(edit);\n\n      if (!success) {\n        throw new Error(\"Failed to apply batch operations\");\n      }\n\n      // Complete operation\n      this.completeOperation(operationId, \"batch\", affectedFiles);\n      timer.end();\n\n      this.logger.info(\n        `🔄 Batch operations completed successfully: ${operations.length} operations`\n      );\n      return {\n        success: true,\n        operationId,\n        operationsCount: operations.length,\n        affectedFiles: affectedFiles.length,\n      };\n    } catch (error) {\n      timer.end();\n      this.failOperation(operationId, error);\n\n      // Attempt rollback if backups exist\n      if (options.createBackup !== false) {\n        try {\n          await this.rollbackBatch(Array.from(filesToBackup));\n          this.logger.info(\"🔄 Rolled back batch operations after failure\");\n        } catch (rollbackError) {\n          this.logger.error(\n            \"Failed to rollback batch operations:\",\n            rollbackError\n          );\n        }\n      }\n\n      this.logger.error(\"Failed to execute batch operations:\", error);\n      throw error;\n    }\n  }\n\n  /**\n   * 💾 Create backup of file\n   */\n  async createBackup(filePath) {\n    try {\n      const uri = vscode.Uri.file(filePath);\n      const content = await vscode.workspace.fs.readFile(uri);\n      const contentString = Buffer.from(content).toString(\"utf8\");\n\n      // Check backup size limit\n      if (contentString.length > this.maxBackupSize) {\n        this.logger.warn(\n          `File too large for backup: ${filePath} (${contentString.length} bytes)`\n        );\n        return false;\n      }\n\n      this.backupStorage.set(filePath, {\n        content: contentString,\n        timestamp: Date.now(),\n        size: contentString.length,\n      });\n\n      this.logger.debug(`💾 Created backup for: ${filePath}`);\n      return true;\n    } catch (error) {\n      this.logger.error(`Failed to create backup for ${filePath}:`, error);\n      return false;\n    }\n  }\n\n  /**\n   * 🔄 Rollback file from backup\n   */\n  async rollbackFile(filePath) {\n    try {\n      const backup = this.backupStorage.get(filePath);\n      if (!backup) {\n        throw new Error(`No backup found for file: ${filePath}`);\n      }\n\n      const uri = vscode.Uri.file(filePath);\n      const edit = new vscode.WorkspaceEdit();\n\n      // Replace entire file content with backup\n      const document = await vscode.workspace.openTextDocument(uri);\n      const fullRange = new vscode.Range(\n        document.positionAt(0),\n        document.positionAt(document.getText().length)\n      );\n\n      edit.replace(uri, fullRange, backup.content);\n\n      const success = await vscode.workspace.applyEdit(edit);\n      if (!success) {\n        throw new Error(`Failed to apply rollback for: ${filePath}`);\n      }\n\n      this.logger.info(`🔄 Rolled back file: ${filePath}`);\n      return true;\n    } catch (error) {\n      this.logger.error(`Failed to rollback file ${filePath}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * 🔄 Rollback multiple files from backup\n   */\n  async rollbackBatch(filePaths) {\n    const results = [];\n\n    for (const filePath of filePaths) {\n      try {\n        await this.rollbackFile(filePath);\n        results.push({ filePath, success: true });\n      } catch (error) {\n        results.push({ filePath, success: false, error: error.message });\n      }\n    }\n\n    return results;\n  }\n\n  /**\n   * 🆔 Generate unique operation ID\n   */\n  generateOperationId() {\n    return `op_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n  }\n\n  /**\n   * ✅ Complete operation\n   */\n  completeOperation(operationId, type, files) {\n    const operation = this.activeOperations.get(operationId);\n    if (operation) {\n      this.activeOperations.delete(operationId);\n\n      // Add to history\n      this.operationHistory.push({\n        id: operationId,\n        type,\n        files,\n        timestamp: operation.timestamp,\n        duration: Date.now() - operation.timestamp,\n        status: \"completed\",\n      });\n\n      // Limit history size\n      if (this.operationHistory.length > this.maxHistorySize) {\n        this.operationHistory.shift();\n      }\n\n      this.performanceMonitor.recordMetric(`file_operation_${type}_success`, 1);\n    }\n  }\n\n  /**\n   * ❌ Fail operation\n   */\n  failOperation(operationId, error) {\n    const operation = this.activeOperations.get(operationId);\n    if (operation) {\n      this.activeOperations.delete(operationId);\n\n      // Add to history\n      this.operationHistory.push({\n        id: operationId,\n        type: operation.type,\n        files: operation.files,\n        timestamp: operation.timestamp,\n        duration: Date.now() - operation.timestamp,\n        status: \"failed\",\n        error: error.message,\n      });\n\n      // Limit history size\n      if (this.operationHistory.length > this.maxHistorySize) {\n        this.operationHistory.shift();\n      }\n\n      this.performanceMonitor.recordMetric(\n        `file_operation_${operation.type}_failure`,\n        1\n      );\n    }\n  }\n\n  /**\n   * 📊 Get operation statistics\n   */\n  getStats() {\n    const completedOps = this.operationHistory.filter(\n      (op) => op.status === \"completed\"\n    );\n    const failedOps = this.operationHistory.filter(\n      (op) => op.status === \"failed\"\n    );\n\n    return {\n      activeOperations: this.activeOperations.size,\n      totalOperations: this.operationHistory.length,\n      completedOperations: completedOps.length,\n      failedOperations: failedOps.length,\n      backupsStored: this.backupStorage.size,\n      averageDuration:\n        completedOps.length > 0\n          ? completedOps.reduce((sum, op) => sum + op.duration, 0) /\n            completedOps.length\n          : 0,\n    };\n  }\n\n  /**\n   * 📋 Get operation history\n   */\n  getHistory(limit = 20) {\n    return this.operationHistory.slice(-limit).reverse(); // Most recent first\n  }\n\n  /**\n   * 🧹 Clear old backups\n   */\n  clearOldBackups(maxAge = 3600000) {\n    // 1 hour default\n    const now = Date.now();\n    const toDelete = [];\n\n    for (const [filePath, backup] of this.backupStorage.entries()) {\n      if (now - backup.timestamp > maxAge) {\n        toDelete.push(filePath);\n      }\n    }\n\n    for (const filePath of toDelete) {\n      this.backupStorage.delete(filePath);\n    }\n\n    if (toDelete.length > 0) {\n      this.logger.debug(`🧹 Cleared ${toDelete.length} old backups`);\n    }\n\n    return toDelete.length;\n  }\n\n  /**\n   * Cleanup resources\n   */\n  async cleanup() {\n    try {\n      this.logger.info(\"Cleaning up File Operations...\");\n      this.activeOperations.clear();\n      this.backupStorage.clear();\n      this.operationHistory = [];\n      this.isInitialized = false;\n    } catch (error) {\n      this.logger.error(\"Error during File Operations cleanup:\", error);\n    }\n  }\n}\n\nmodule.exports = FileOps;\n","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.readEnv = void 0;\n/**\n * Read an environment variable.\n *\n * Trims beginning and trailing whitespace.\n *\n * Will return undefined if the environment variable doesn't exist or cannot be accessed.\n */\nconst readEnv = (env) => {\n    if (typeof globalThis.process !== 'undefined') {\n        return globalThis.process.env?.[env]?.trim() ?? undefined;\n    }\n    if (typeof globalThis.Deno !== 'undefined') {\n        return globalThis.Deno.env?.get?.(env)?.trim();\n    }\n    return undefined;\n};\nexports.readEnv = readEnv;\n//# sourceMappingURL=env.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Images = void 0;\nconst resource_1 = require(\"../core/resource.js\");\nconst uploads_1 = require(\"../internal/uploads.js\");\nclass Images extends resource_1.APIResource {\n    /**\n     * Creates a variation of a given image. This endpoint only supports `dall-e-2`.\n     *\n     * @example\n     * ```ts\n     * const imagesResponse = await client.images.createVariation({\n     *   image: fs.createReadStream('otter.png'),\n     * });\n     * ```\n     */\n    createVariation(body, options) {\n        return this._client.post('/images/variations', (0, uploads_1.multipartFormRequestOptions)({ body, ...options }, this._client));\n    }\n    edit(body, options) {\n        return this._client.post('/images/edits', (0, uploads_1.multipartFormRequestOptions)({ body, ...options, stream: body.stream ?? false }, this._client));\n    }\n    generate(body, options) {\n        return this._client.post('/images/generations', { body, ...options, stream: body.stream ?? false });\n    }\n}\nexports.Images = Images;\n//# sourceMappingURL=images.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FallbackEncoder = void 0;\nconst FallbackEncoder = ({ headers, body }) => {\n    return {\n        bodyHeaders: {\n            'content-type': 'application/json',\n        },\n        body: JSON.stringify(body),\n    };\n};\nexports.FallbackEncoder = FallbackEncoder;\n//# sourceMappingURL=request-options.js.map","const vscode = require('vscode');\nconst fs = require('fs').promises;\nconst path = require('path');\n\n/**\n * Enterprise-grade logger with structured logging, multiple outputs, and performance tracking\n */\nclass Logger {\n    constructor(context) {\n        this.context = context;\n        this.logLevel = this.getLogLevel();\n        this.outputChannel = vscode.window.createOutputChannel('Agent');\n        this.logFile = null;\n        this.sessionId = this.generateSessionId();\n        this.initializeLogFile();\n    }\n\n    /**\n     * Get configured log level from settings\n     */\n    getLogLevel() {\n        const config = vscode.workspace.getConfiguration('agent');\n        const level = config.get('logLevel', 'info');\n        \n        const levels = { debug: 0, info: 1, warn: 2, error: 3 };\n        return levels[level] || 1;\n    }\n\n    /**\n     * Generate unique session ID for tracking\n     */\n    generateSessionId() {\n        return `agent_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    }\n\n    /**\n     * Initialize log file for persistent logging\n     */\n    async initializeLogFile() {\n        try {\n            const logDir = path.join(this.context.globalStorageUri.fsPath, 'logs');\n            await fs.mkdir(logDir, { recursive: true });\n            \n            const timestamp = new Date().toISOString().split('T')[0];\n            this.logFile = path.join(logDir, `agent_${timestamp}.log`);\n            \n            // Write session start marker\n            await this.writeToFile('INFO', 'Logger initialized', { sessionId: this.sessionId });\n            \n        } catch (error) {\n            console.error('Failed to initialize log file:', error);\n        }\n    }\n\n    /**\n     * Format log message with timestamp and metadata\n     */\n    formatMessage(level, message, metadata = {}) {\n        const timestamp = new Date().toISOString();\n        const logEntry = {\n            timestamp,\n            level,\n            sessionId: this.sessionId,\n            message,\n            ...metadata\n        };\n        \n        return JSON.stringify(logEntry);\n    }\n\n    /**\n     * Write log entry to file\n     */\n    async writeToFile(level, message, metadata = {}) {\n        if (!this.logFile) return;\n        \n        try {\n            const formattedMessage = this.formatMessage(level, message, metadata);\n            await fs.appendFile(this.logFile, formattedMessage + '\\n');\n        } catch (error) {\n            console.error('Failed to write to log file:', error);\n        }\n    }\n\n    /**\n     * Write to VS Code output channel\n     */\n    writeToOutput(level, message, metadata = {}) {\n        const timestamp = new Date().toLocaleTimeString();\n        const metadataStr = Object.keys(metadata).length > 0 ? ` | ${JSON.stringify(metadata)}` : '';\n        const outputMessage = `[${timestamp}] ${level}: ${message}${metadataStr}`;\n        \n        this.outputChannel.appendLine(outputMessage);\n    }\n\n    /**\n     * Check if message should be logged based on level\n     */\n    shouldLog(level) {\n        const levels = { debug: 0, info: 1, warn: 2, error: 3 };\n        return levels[level] >= this.logLevel;\n    }\n\n    /**\n     * Debug level logging\n     */\n    debug(message, metadata = {}) {\n        if (!this.shouldLog('debug')) return;\n        \n        this.writeToOutput('DEBUG', message, metadata);\n        this.writeToFile('DEBUG', message, metadata);\n    }\n\n    /**\n     * Info level logging\n     */\n    info(message, metadata = {}) {\n        if (!this.shouldLog('info')) return;\n        \n        this.writeToOutput('INFO', message, metadata);\n        this.writeToFile('INFO', message, metadata);\n    }\n\n    /**\n     * Warning level logging\n     */\n    warn(message, metadata = {}) {\n        if (!this.shouldLog('warn')) return;\n        \n        this.writeToOutput('WARN', message, metadata);\n        this.writeToFile('WARN', message, metadata);\n    }\n\n    /**\n     * Error level logging\n     */\n    error(message, error = null, metadata = {}) {\n        if (!this.shouldLog('error')) return;\n        \n        const errorMetadata = {\n            ...metadata,\n            ...(error && {\n                errorMessage: error.message,\n                errorStack: error.stack,\n                errorName: error.name\n            })\n        };\n        \n        this.writeToOutput('ERROR', message, errorMetadata);\n        this.writeToFile('ERROR', message, errorMetadata);\n    }\n\n    /**\n     * Performance timing helper\n     */\n    time(label) {\n        const startTime = Date.now();\n        return {\n            end: () => {\n                const duration = Date.now() - startTime;\n                this.debug(`Timer ${label} completed`, { duration, label });\n                return duration;\n            }\n        };\n    }\n\n    /**\n     * Log API call with timing and metadata\n     */\n    logApiCall(provider, model, tokens, duration, cost = null) {\n        this.info('AI API call completed', {\n            provider,\n            model,\n            tokens,\n            duration,\n            cost,\n            type: 'api_call'\n        });\n    }\n\n    /**\n     * Log user action for analytics\n     */\n    logUserAction(action, metadata = {}) {\n        this.info('User action', {\n            action,\n            ...metadata,\n            type: 'user_action'\n        });\n    }\n\n    /**\n     * Log performance metric\n     */\n    logPerformance(metric, value, metadata = {}) {\n        this.debug('Performance metric', {\n            metric,\n            value,\n            ...metadata,\n            type: 'performance'\n        });\n    }\n\n    /**\n     * Show output channel to user\n     */\n    show() {\n        this.outputChannel.show();\n    }\n\n    /**\n     * Cleanup resources\n     */\n    async cleanup() {\n        try {\n            await this.writeToFile('INFO', 'Logger cleanup initiated');\n            this.outputChannel.dispose();\n        } catch (error) {\n            console.error('Error during logger cleanup:', error);\n        }\n    }\n}\n\nmodule.exports = Logger;\n","var debug;\n\nmodule.exports = function () {\n  if (!debug) {\n    try {\n      /* eslint global-require: off */\n      debug = require(\"debug\")(\"follow-redirects\");\n    }\n    catch (error) { /* */ }\n    if (typeof debug !== \"function\") {\n      debug = function () { /* */ };\n    }\n  }\n  debug.apply(null, arguments);\n};\n","/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module exports.\n */\n\nmodule.exports = require('./db.json')\n","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Translations = void 0;\nconst resource_1 = require(\"../../core/resource.js\");\nconst uploads_1 = require(\"../../internal/uploads.js\");\nclass Translations extends resource_1.APIResource {\n    create(body, options) {\n        return this._client.post('/audio/translations', (0, uploads_1.multipartFormRequestOptions)({ body, ...options, __metadata: { model: body.model } }, this._client));\n    }\n}\nexports.Translations = Translations;\n//# sourceMappingURL=translations.js.map","'use strict';\nconst os = require('os');\nconst tty = require('tty');\nconst hasFlag = require('has-flag');\n\nconst {env} = process;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false') ||\n\thasFlag('color=never')) {\n\tforceColor = 0;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = 1;\n}\n\nif ('FORCE_COLOR' in env) {\n\tif (env.FORCE_COLOR === 'true') {\n\t\tforceColor = 1;\n\t} else if (env.FORCE_COLOR === 'false') {\n\t\tforceColor = 0;\n\t} else {\n\t\tforceColor = env.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(haveStream, streamIsTTY) {\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'GITHUB_ACTIONS', 'BUILDKITE'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream, stream && stream.isTTY);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: translateLevel(supportsColor(true, tty.isatty(1))),\n\tstderr: translateLevel(supportsColor(true, tty.isatty(2)))\n};\n","import crypto from 'crypto';\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto.randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport { unsafeStringify } from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nlet _nodeId;\n\nlet _clockseq; // Previous uuid creation time\n\n\nlet _lastMSecs = 0;\nlet _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  let i = buf && offset || 0;\n  const b = buf || new Array(16);\n  options = options || {};\n  let node = options.node || _nodeId;\n  let clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  let msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (let n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || unsafeStringify(b);\n}\n\nexport default v1;","import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  let v;\n  const arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;","import { unsafeStringify } from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport const DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport const URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function v35(name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    var _namespace;\n\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (((_namespace = namespace) === null || _namespace === void 0 ? void 0 : _namespace.length) !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    let bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (let i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return unsafeStringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","import crypto from 'crypto';\n\nfunction md5(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return crypto.createHash('md5').update(bytes).digest();\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nconst v3 = v35('v3', 0x30, md5);\nexport default v3;","import crypto from 'crypto';\nexport default {\n  randomUUID: crypto.randomUUID\n};","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nconst v5 = v35('v5', 0x50, sha1);\nexport default v5;","import crypto from 'crypto';\n\nfunction sha1(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return crypto.createHash('sha1').update(bytes).digest();\n}\n\nexport default sha1;","export default '00000000-0000-0000-0000-000000000000';","import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.slice(14, 15), 16);\n}\n\nexport default version;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChatCompletionStreamingRunner = void 0;\nconst ChatCompletionStream_1 = require(\"./ChatCompletionStream.js\");\nclass ChatCompletionStreamingRunner extends ChatCompletionStream_1.ChatCompletionStream {\n    static fromReadableStream(stream) {\n        const runner = new ChatCompletionStreamingRunner(null);\n        runner._run(() => runner._fromReadableStream(stream));\n        return runner;\n    }\n    static runTools(client, params, options) {\n        const runner = new ChatCompletionStreamingRunner(\n        // @ts-expect-error TODO these types are incompatible\n        params);\n        const opts = {\n            ...options,\n            headers: { ...options?.headers, 'X-Stainless-Helper-Method': 'runTools' },\n        };\n        runner._run(() => runner._runTools(client, params, opts));\n        return runner;\n    }\n}\nexports.ChatCompletionStreamingRunner = ChatCompletionStreamingRunner;\n//# sourceMappingURL=ChatCompletionStreamingRunner.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Steps = void 0;\nconst resource_1 = require(\"../../../../core/resource.js\");\nconst pagination_1 = require(\"../../../../core/pagination.js\");\nconst headers_1 = require(\"../../../../internal/headers.js\");\nconst path_1 = require(\"../../../../internal/utils/path.js\");\n/**\n * @deprecated The Assistants API is deprecated in favor of the Responses API\n */\nclass Steps extends resource_1.APIResource {\n    /**\n     * Retrieves a run step.\n     *\n     * @deprecated The Assistants API is deprecated in favor of the Responses API\n     */\n    retrieve(stepID, params, options) {\n        const { thread_id, run_id, ...query } = params;\n        return this._client.get((0, path_1.path) `/threads/${thread_id}/runs/${run_id}/steps/${stepID}`, {\n            query,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n    /**\n     * Returns a list of run steps belonging to a run.\n     *\n     * @deprecated The Assistants API is deprecated in favor of the Responses API\n     */\n    list(runID, params, options) {\n        const { thread_id, ...query } = params;\n        return this._client.getAPIList((0, path_1.path) `/threads/${thread_id}/runs/${runID}/steps`, (pagination_1.CursorPage), {\n            query,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'assistants=v2' }, options?.headers]),\n        });\n    }\n}\nexports.Steps = Steps;\n//# sourceMappingURL=steps.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.maybeParseResponse = maybeParseResponse;\nexports.parseResponse = parseResponse;\nexports.hasAutoParseableInput = hasAutoParseableInput;\nexports.makeParseableResponseTool = makeParseableResponseTool;\nexports.isAutoParsableTool = isAutoParsableTool;\nexports.shouldParseToolCall = shouldParseToolCall;\nexports.validateInputTools = validateInputTools;\nexports.addOutputText = addOutputText;\nconst error_1 = require(\"../error.js\");\nconst parser_1 = require(\"../lib/parser.js\");\nfunction maybeParseResponse(response, params) {\n    if (!params || !hasAutoParseableInput(params)) {\n        return {\n            ...response,\n            output_parsed: null,\n            output: response.output.map((item) => {\n                if (item.type === 'function_call') {\n                    return {\n                        ...item,\n                        parsed_arguments: null,\n                    };\n                }\n                if (item.type === 'message') {\n                    return {\n                        ...item,\n                        content: item.content.map((content) => ({\n                            ...content,\n                            parsed: null,\n                        })),\n                    };\n                }\n                else {\n                    return item;\n                }\n            }),\n        };\n    }\n    return parseResponse(response, params);\n}\nfunction parseResponse(response, params) {\n    const output = response.output.map((item) => {\n        if (item.type === 'function_call') {\n            return {\n                ...item,\n                parsed_arguments: parseToolCall(params, item),\n            };\n        }\n        if (item.type === 'message') {\n            const content = item.content.map((content) => {\n                if (content.type === 'output_text') {\n                    return {\n                        ...content,\n                        parsed: parseTextFormat(params, content.text),\n                    };\n                }\n                return content;\n            });\n            return {\n                ...item,\n                content,\n            };\n        }\n        return item;\n    });\n    const parsed = Object.assign({}, response, { output });\n    if (!Object.getOwnPropertyDescriptor(response, 'output_text')) {\n        addOutputText(parsed);\n    }\n    Object.defineProperty(parsed, 'output_parsed', {\n        enumerable: true,\n        get() {\n            for (const output of parsed.output) {\n                if (output.type !== 'message') {\n                    continue;\n                }\n                for (const content of output.content) {\n                    if (content.type === 'output_text' && content.parsed !== null) {\n                        return content.parsed;\n                    }\n                }\n            }\n            return null;\n        },\n    });\n    return parsed;\n}\nfunction parseTextFormat(params, content) {\n    if (params.text?.format?.type !== 'json_schema') {\n        return null;\n    }\n    if ('$parseRaw' in params.text?.format) {\n        const text_format = params.text?.format;\n        return text_format.$parseRaw(content);\n    }\n    return JSON.parse(content);\n}\nfunction hasAutoParseableInput(params) {\n    if ((0, parser_1.isAutoParsableResponseFormat)(params.text?.format)) {\n        return true;\n    }\n    return false;\n}\nfunction makeParseableResponseTool(tool, { parser, callback, }) {\n    const obj = { ...tool };\n    Object.defineProperties(obj, {\n        $brand: {\n            value: 'auto-parseable-tool',\n            enumerable: false,\n        },\n        $parseRaw: {\n            value: parser,\n            enumerable: false,\n        },\n        $callback: {\n            value: callback,\n            enumerable: false,\n        },\n    });\n    return obj;\n}\nfunction isAutoParsableTool(tool) {\n    return tool?.['$brand'] === 'auto-parseable-tool';\n}\nfunction getInputToolByName(input_tools, name) {\n    return input_tools.find((tool) => tool.type === 'function' && tool.name === name);\n}\nfunction parseToolCall(params, toolCall) {\n    const inputTool = getInputToolByName(params.tools ?? [], toolCall.name);\n    return {\n        ...toolCall,\n        ...toolCall,\n        parsed_arguments: isAutoParsableTool(inputTool) ? inputTool.$parseRaw(toolCall.arguments)\n            : inputTool?.strict ? JSON.parse(toolCall.arguments)\n                : null,\n    };\n}\nfunction shouldParseToolCall(params, toolCall) {\n    if (!params) {\n        return false;\n    }\n    const inputTool = getInputToolByName(params.tools ?? [], toolCall.name);\n    return isAutoParsableTool(inputTool) || inputTool?.strict || false;\n}\nfunction validateInputTools(tools) {\n    for (const tool of tools ?? []) {\n        if (tool.type !== 'function') {\n            throw new error_1.OpenAIError(`Currently only \\`function\\` tool types support auto-parsing; Received \\`${tool.type}\\``);\n        }\n        if (tool.function.strict !== true) {\n            throw new error_1.OpenAIError(`The \\`${tool.function.name}\\` tool is not marked with \\`strict: true\\`. Only strict function tools can be auto-parsed`);\n        }\n    }\n}\nfunction addOutputText(rsp) {\n    const texts = [];\n    for (const output of rsp.output) {\n        if (output.type !== 'message') {\n            continue;\n        }\n        for (const content of output.content) {\n            if (content.type === 'output_text') {\n                texts.push(content.text);\n            }\n        }\n    }\n    rsp.output_text = texts.join('');\n}\n//# sourceMappingURL=ResponsesParser.js.map","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\tlet m;\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\t// eslint-disable-next-line no-return-assign\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug') || exports.storage.getItem('DEBUG') ;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Files = void 0;\nconst tslib_1 = require(\"../../../internal/tslib.js\");\nconst resource_1 = require(\"../../../core/resource.js\");\nconst ContentAPI = tslib_1.__importStar(require(\"./content.js\"));\nconst content_1 = require(\"./content.js\");\nconst pagination_1 = require(\"../../../core/pagination.js\");\nconst headers_1 = require(\"../../../internal/headers.js\");\nconst uploads_1 = require(\"../../../internal/uploads.js\");\nconst path_1 = require(\"../../../internal/utils/path.js\");\nclass Files extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.content = new ContentAPI.Content(this._client);\n    }\n    /**\n     * Create a Container File\n     *\n     * You can send either a multipart/form-data request with the raw file content, or\n     * a JSON request with a file ID.\n     */\n    create(containerID, body, options) {\n        return this._client.post((0, path_1.path) `/containers/${containerID}/files`, (0, uploads_1.multipartFormRequestOptions)({ body, ...options }, this._client));\n    }\n    /**\n     * Retrieve Container File\n     */\n    retrieve(fileID, params, options) {\n        const { container_id } = params;\n        return this._client.get((0, path_1.path) `/containers/${container_id}/files/${fileID}`, options);\n    }\n    /**\n     * List Container files\n     */\n    list(containerID, query = {}, options) {\n        return this._client.getAPIList((0, path_1.path) `/containers/${containerID}/files`, (pagination_1.CursorPage), {\n            query,\n            ...options,\n        });\n    }\n    /**\n     * Delete Container File\n     */\n    delete(fileID, params, options) {\n        const { container_id } = params;\n        return this._client.delete((0, path_1.path) `/containers/${container_id}/files/${fileID}`, {\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ Accept: '*/*' }, options?.headers]),\n        });\n    }\n}\nexports.Files = Files;\nFiles.Content = content_1.Content;\n//# sourceMappingURL=files.js.map","const vscode = require('vscode');\nconst fs = require('fs').promises;\nconst path = require('path');\nconst { v4: uuidv4 } = require('uuid');\n\n/**\n * Enterprise Audit Logger for compliance and change tracking\n */\nclass AuditLogger {\n  constructor(context, logger) {\n    this.context = context;\n    this.logger = logger;\n    this.auditFile = null;\n    this.sessionId = uuidv4();\n    this.initializeAuditLog();\n  }\n\n  /**\n   * Initialize audit log file\n   */\n  async initializeAuditLog() {\n    try {\n      const auditDir = path.join(this.context.globalStorageUri.fsPath, 'audit');\n      await fs.mkdir(auditDir, { recursive: true });\n\n      const timestamp = new Date().toISOString().split('T')[0];\n      this.auditFile = path.join(auditDir, `audit_${timestamp}.log`);\n\n      // Write session start\n      await this.logEvent('SESSION_START', {\n        sessionId: this.sessionId,\n        timestamp: new Date().toISOString(),\n        version: vscode.version,\n        workspace:\n          (vscode.workspace.workspaceFolders &&\n            vscode.workspace.workspaceFolders[0] &&\n            vscode.workspace.workspaceFolders[0].uri.fsPath) ||\n          'none',\n      });\n\n      this.logger.debug('Audit logger initialized', {\n        auditFile: this.auditFile,\n      });\n    } catch (error) {\n      this.logger.error('Failed to initialize audit log:', error);\n    }\n  }\n\n  /**\n   * Log an audit event\n   */\n  async logEvent(eventType, data = {}) {\n    if (!this.auditFile) return;\n\n    try {\n      const auditEntry = {\n        id: uuidv4(),\n        sessionId: this.sessionId,\n        timestamp: new Date().toISOString(),\n        eventType,\n        data,\n        user: process.env.USERNAME || process.env.USER || 'unknown',\n      };\n\n      const logLine = JSON.stringify(auditEntry) + '\\n';\n      await fs.appendFile(this.auditFile, logLine);\n    } catch (error) {\n      this.logger.error('Failed to write audit log:', error);\n    }\n  }\n\n  /**\n   * Log user action\n   */\n  async logUserAction(action, details = {}) {\n    await this.logEvent('USER_ACTION', {\n      action,\n      ...details,\n    });\n  }\n\n  /**\n   * Log file change\n   */\n  async logFileChange(filePath, changeType, details = {}) {\n    await this.logEvent('FILE_CHANGE', {\n      filePath,\n      changeType,\n      ...details,\n    });\n  }\n\n  /**\n   * Log AI interaction\n   */\n  async logAIInteraction(provider, model, prompt, response, metadata = {}) {\n    await this.logEvent('AI_INTERACTION', {\n      provider,\n      model,\n      promptLength: prompt.length,\n      responseLength: response.length,\n      ...metadata,\n    });\n  }\n\n  /**\n   * Cleanup resources\n   */\n  async cleanup() {\n    try {\n      await this.logEvent('SESSION_END', {\n        sessionId: this.sessionId,\n        timestamp: new Date().toISOString(),\n      });\n    } catch (error) {\n      this.logger.error('Error during audit logger cleanup:', error);\n    }\n  }\n}\n\nmodule.exports = AuditLogger;\n","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Completions = exports.Chat = void 0;\nvar chat_1 = require(\"./chat.js\");\nObject.defineProperty(exports, \"Chat\", { enumerable: true, get: function () { return chat_1.Chat; } });\nvar index_1 = require(\"./completions/index.js\");\nObject.defineProperty(exports, \"Completions\", { enumerable: true, get: function () { return index_1.Completions; } });\n//# sourceMappingURL=index.js.map","'use strict';\n\n/** @type {import('./min')} */\nmodule.exports = Math.min;\n","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Threads = void 0;\nconst resource_1 = require(\"../../../core/resource.js\");\nconst pagination_1 = require(\"../../../core/pagination.js\");\nconst headers_1 = require(\"../../../internal/headers.js\");\nconst path_1 = require(\"../../../internal/utils/path.js\");\nclass Threads extends resource_1.APIResource {\n    /**\n     * Retrieve a ChatKit thread\n     *\n     * @example\n     * ```ts\n     * const chatkitThread =\n     *   await client.beta.chatkit.threads.retrieve('cthr_123');\n     * ```\n     */\n    retrieve(threadID, options) {\n        return this._client.get((0, path_1.path) `/chatkit/threads/${threadID}`, {\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'chatkit_beta=v1' }, options?.headers]),\n        });\n    }\n    /**\n     * List ChatKit threads\n     *\n     * @example\n     * ```ts\n     * // Automatically fetches more pages as needed.\n     * for await (const chatkitThread of client.beta.chatkit.threads.list()) {\n     *   // ...\n     * }\n     * ```\n     */\n    list(query = {}, options) {\n        return this._client.getAPIList('/chatkit/threads', (pagination_1.ConversationCursorPage), {\n            query,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'chatkit_beta=v1' }, options?.headers]),\n        });\n    }\n    /**\n     * Delete a ChatKit thread\n     *\n     * @example\n     * ```ts\n     * const thread = await client.beta.chatkit.threads.delete(\n     *   'cthr_123',\n     * );\n     * ```\n     */\n    delete(threadID, options) {\n        return this._client.delete((0, path_1.path) `/chatkit/threads/${threadID}`, {\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'chatkit_beta=v1' }, options?.headers]),\n        });\n    }\n    /**\n     * List ChatKit thread items\n     *\n     * @example\n     * ```ts\n     * // Automatically fetches more pages as needed.\n     * for await (const thread of client.beta.chatkit.threads.listItems(\n     *   'cthr_123',\n     * )) {\n     *   // ...\n     * }\n     * ```\n     */\n    listItems(threadID, query = {}, options) {\n        return this._client.getAPIList((0, path_1.path) `/chatkit/threads/${threadID}/items`, (pagination_1.ConversationCursorPage), { query, ...options, headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'chatkit_beta=v1' }, options?.headers]) });\n    }\n}\nexports.Threads = Threads;\n//# sourceMappingURL=threads.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nvar _Webhooks_instances, _Webhooks_validateSecret, _Webhooks_getRequiredHeader;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Webhooks = void 0;\nconst tslib_1 = require(\"../internal/tslib.js\");\nconst error_1 = require(\"../error.js\");\nconst resource_1 = require(\"../core/resource.js\");\nconst headers_1 = require(\"../internal/headers.js\");\nclass Webhooks extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        _Webhooks_instances.add(this);\n    }\n    /**\n     * Validates that the given payload was sent by OpenAI and parses the payload.\n     */\n    async unwrap(payload, headers, secret = this._client.webhookSecret, tolerance = 300) {\n        await this.verifySignature(payload, headers, secret, tolerance);\n        return JSON.parse(payload);\n    }\n    /**\n     * Validates whether or not the webhook payload was sent by OpenAI.\n     *\n     * An error will be raised if the webhook payload was not sent by OpenAI.\n     *\n     * @param payload - The webhook payload\n     * @param headers - The webhook headers\n     * @param secret - The webhook secret (optional, will use client secret if not provided)\n     * @param tolerance - Maximum age of the webhook in seconds (default: 300 = 5 minutes)\n     */\n    async verifySignature(payload, headers, secret = this._client.webhookSecret, tolerance = 300) {\n        if (typeof crypto === 'undefined' ||\n            typeof crypto.subtle.importKey !== 'function' ||\n            typeof crypto.subtle.verify !== 'function') {\n            throw new Error('Webhook signature verification is only supported when the `crypto` global is defined');\n        }\n        tslib_1.__classPrivateFieldGet(this, _Webhooks_instances, \"m\", _Webhooks_validateSecret).call(this, secret);\n        const headersObj = (0, headers_1.buildHeaders)([headers]).values;\n        const signatureHeader = tslib_1.__classPrivateFieldGet(this, _Webhooks_instances, \"m\", _Webhooks_getRequiredHeader).call(this, headersObj, 'webhook-signature');\n        const timestamp = tslib_1.__classPrivateFieldGet(this, _Webhooks_instances, \"m\", _Webhooks_getRequiredHeader).call(this, headersObj, 'webhook-timestamp');\n        const webhookId = tslib_1.__classPrivateFieldGet(this, _Webhooks_instances, \"m\", _Webhooks_getRequiredHeader).call(this, headersObj, 'webhook-id');\n        // Validate timestamp to prevent replay attacks\n        const timestampSeconds = parseInt(timestamp, 10);\n        if (isNaN(timestampSeconds)) {\n            throw new error_1.InvalidWebhookSignatureError('Invalid webhook timestamp format');\n        }\n        const nowSeconds = Math.floor(Date.now() / 1000);\n        if (nowSeconds - timestampSeconds > tolerance) {\n            throw new error_1.InvalidWebhookSignatureError('Webhook timestamp is too old');\n        }\n        if (timestampSeconds > nowSeconds + tolerance) {\n            throw new error_1.InvalidWebhookSignatureError('Webhook timestamp is too new');\n        }\n        // Extract signatures from v1,<base64> format\n        // The signature header can have multiple values, separated by spaces.\n        // Each value is in the format v1,<base64>. We should accept if any match.\n        const signatures = signatureHeader\n            .split(' ')\n            .map((part) => (part.startsWith('v1,') ? part.substring(3) : part));\n        // Decode the secret if it starts with whsec_\n        const decodedSecret = secret.startsWith('whsec_') ?\n            Buffer.from(secret.replace('whsec_', ''), 'base64')\n            : Buffer.from(secret, 'utf-8');\n        // Create the signed payload: {webhook_id}.{timestamp}.{payload}\n        const signedPayload = webhookId ? `${webhookId}.${timestamp}.${payload}` : `${timestamp}.${payload}`;\n        // Import the secret as a cryptographic key for HMAC\n        const key = await crypto.subtle.importKey('raw', decodedSecret, { name: 'HMAC', hash: 'SHA-256' }, false, ['verify']);\n        // Check if any signature matches using timing-safe WebCrypto verify\n        for (const signature of signatures) {\n            try {\n                const signatureBytes = Buffer.from(signature, 'base64');\n                const isValid = await crypto.subtle.verify('HMAC', key, signatureBytes, new TextEncoder().encode(signedPayload));\n                if (isValid) {\n                    return; // Valid signature found\n                }\n            }\n            catch {\n                // Invalid base64 or signature format, continue to next signature\n                continue;\n            }\n        }\n        throw new error_1.InvalidWebhookSignatureError('The given webhook signature does not match the expected signature');\n    }\n}\nexports.Webhooks = Webhooks;\n_Webhooks_instances = new WeakSet(), _Webhooks_validateSecret = function _Webhooks_validateSecret(secret) {\n    if (typeof secret !== 'string' || secret.length === 0) {\n        throw new Error(`The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function`);\n    }\n}, _Webhooks_getRequiredHeader = function _Webhooks_getRequiredHeader(headers, name) {\n    if (!headers) {\n        throw new Error(`Headers are required`);\n    }\n    const value = headers.get(name);\n    if (value === null || value === undefined) {\n        throw new Error(`Missing required header: ${name}`);\n    }\n    return value;\n};\n//# sourceMappingURL=webhooks.js.map","var async = require('./async.js')\n  , abort = require('./abort.js')\n  ;\n\n// API\nmodule.exports = iterate;\n\n/**\n * Iterates over each job object\n *\n * @param {array|object} list - array or object (named list) to iterate over\n * @param {function} iterator - iterator to run\n * @param {object} state - current job status\n * @param {function} callback - invoked when all elements processed\n */\nfunction iterate(list, iterator, state, callback)\n{\n  // store current index\n  var key = state['keyedList'] ? state['keyedList'][state.index] : state.index;\n\n  state.jobs[key] = runJob(iterator, key, list[key], function(error, output)\n  {\n    // don't repeat yourself\n    // skip secondary callbacks\n    if (!(key in state.jobs))\n    {\n      return;\n    }\n\n    // clean up jobs\n    delete state.jobs[key];\n\n    if (error)\n    {\n      // don't process rest of the results\n      // stop still active jobs\n      // and reset the list\n      abort(state);\n    }\n    else\n    {\n      state.results[key] = output;\n    }\n\n    // return salvaged results\n    callback(error, state.results);\n  });\n}\n\n/**\n * Runs iterator over provided job element\n *\n * @param   {function} iterator - iterator to invoke\n * @param   {string|number} key - key/index of the element in the list of jobs\n * @param   {mixed} item - job description\n * @param   {function} callback - invoked after iterator is done with the job\n * @returns {function|mixed} - job abort function or something else\n */\nfunction runJob(iterator, key, item, callback)\n{\n  var aborter;\n\n  // allow shortcut if iterator expects only two arguments\n  if (iterator.length == 2)\n  {\n    aborter = iterator(item, async(callback));\n  }\n  // otherwise go with full three arguments\n  else\n  {\n    aborter = iterator(item, key, async(callback));\n  }\n\n  return aborter;\n}\n","'use strict';\n\n/** @type {import('./syntax')} */\nmodule.exports = SyntaxError;\n","var Stream = require('stream').Stream;\nvar util = require('util');\n\nmodule.exports = DelayedStream;\nfunction DelayedStream() {\n  this.source = null;\n  this.dataSize = 0;\n  this.maxDataSize = 1024 * 1024;\n  this.pauseStream = true;\n\n  this._maxDataSizeExceeded = false;\n  this._released = false;\n  this._bufferedEvents = [];\n}\nutil.inherits(DelayedStream, Stream);\n\nDelayedStream.create = function(source, options) {\n  var delayedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    delayedStream[option] = options[option];\n  }\n\n  delayedStream.source = source;\n\n  var realEmit = source.emit;\n  source.emit = function() {\n    delayedStream._handleEmit(arguments);\n    return realEmit.apply(source, arguments);\n  };\n\n  source.on('error', function() {});\n  if (delayedStream.pauseStream) {\n    source.pause();\n  }\n\n  return delayedStream;\n};\n\nObject.defineProperty(DelayedStream.prototype, 'readable', {\n  configurable: true,\n  enumerable: true,\n  get: function() {\n    return this.source.readable;\n  }\n});\n\nDelayedStream.prototype.setEncoding = function() {\n  return this.source.setEncoding.apply(this.source, arguments);\n};\n\nDelayedStream.prototype.resume = function() {\n  if (!this._released) {\n    this.release();\n  }\n\n  this.source.resume();\n};\n\nDelayedStream.prototype.pause = function() {\n  this.source.pause();\n};\n\nDelayedStream.prototype.release = function() {\n  this._released = true;\n\n  this._bufferedEvents.forEach(function(args) {\n    this.emit.apply(this, args);\n  }.bind(this));\n  this._bufferedEvents = [];\n};\n\nDelayedStream.prototype.pipe = function() {\n  var r = Stream.prototype.pipe.apply(this, arguments);\n  this.resume();\n  return r;\n};\n\nDelayedStream.prototype._handleEmit = function(args) {\n  if (this._released) {\n    this.emit.apply(this, args);\n    return;\n  }\n\n  if (args[0] === 'data') {\n    this.dataSize += args[1].length;\n    this._checkIfMaxDataSizeExceeded();\n  }\n\n  this._bufferedEvents.push(args);\n};\n\nDelayedStream.prototype._checkIfMaxDataSizeExceeded = function() {\n  if (this._maxDataSizeExceeded) {\n    return;\n  }\n\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  this._maxDataSizeExceeded = true;\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.'\n  this.emit('error', new Error(message));\n};\n","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.defaultParseResponse = defaultParseResponse;\nexports.addRequestID = addRequestID;\nconst streaming_1 = require(\"../core/streaming.js\");\nconst log_1 = require(\"./utils/log.js\");\nasync function defaultParseResponse(client, props) {\n    const { response, requestLogID, retryOfRequestLogID, startTime } = props;\n    const body = await (async () => {\n        if (props.options.stream) {\n            (0, log_1.loggerFor)(client).debug('response', response.status, response.url, response.headers, response.body);\n            // Note: there is an invariant here that isn't represented in the type system\n            // that if you set `stream: true` the response type must also be `Stream<T>`\n            if (props.options.__streamClass) {\n                return props.options.__streamClass.fromSSEResponse(response, props.controller, client);\n            }\n            return streaming_1.Stream.fromSSEResponse(response, props.controller, client);\n        }\n        // fetch refuses to read the body when the status code is 204.\n        if (response.status === 204) {\n            return null;\n        }\n        if (props.options.__binaryResponse) {\n            return response;\n        }\n        const contentType = response.headers.get('content-type');\n        const mediaType = contentType?.split(';')[0]?.trim();\n        const isJSON = mediaType?.includes('application/json') || mediaType?.endsWith('+json');\n        if (isJSON) {\n            const json = await response.json();\n            return addRequestID(json, response);\n        }\n        const text = await response.text();\n        return text;\n    })();\n    (0, log_1.loggerFor)(client).debug(`[${requestLogID}] response parsed`, (0, log_1.formatRequestDetails)({\n        retryOfRequestLogID,\n        url: response.url,\n        status: response.status,\n        body,\n        durationMs: Date.now() - startTime,\n    }));\n    return body;\n}\nfunction addRequestID(value, response) {\n    if (!value || typeof value !== 'object' || Array.isArray(value)) {\n        return value;\n    }\n    return Object.defineProperty(value, '_request_id', {\n        value: response.headers.get('x-request-id'),\n        enumerable: false,\n    });\n}\n//# sourceMappingURL=parse.js.map","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 8166;\nmodule.exports = webpackEmptyContext;","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChatKit = void 0;\nconst tslib_1 = require(\"../../../internal/tslib.js\");\nconst resource_1 = require(\"../../../core/resource.js\");\nconst SessionsAPI = tslib_1.__importStar(require(\"./sessions.js\"));\nconst sessions_1 = require(\"./sessions.js\");\nconst ThreadsAPI = tslib_1.__importStar(require(\"./threads.js\"));\nconst threads_1 = require(\"./threads.js\");\nconst headers_1 = require(\"../../../internal/headers.js\");\nconst uploads_1 = require(\"../../../internal/uploads.js\");\nclass ChatKit extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.sessions = new SessionsAPI.Sessions(this._client);\n        this.threads = new ThreadsAPI.Threads(this._client);\n    }\n    /**\n     * Upload a ChatKit file\n     *\n     * @example\n     * ```ts\n     * const response = await client.beta.chatkit.uploadFile({\n     *   file: fs.createReadStream('path/to/file'),\n     * });\n     * ```\n     */\n    uploadFile(body, options) {\n        return this._client.post('/chatkit/files', (0, uploads_1.maybeMultipartFormRequestOptions)({ body, ...options, headers: (0, headers_1.buildHeaders)([{ 'OpenAI-Beta': 'chatkit_beta=v1' }, options?.headers]) }, this._client));\n    }\n}\nexports.ChatKit = ChatKit;\nChatKit.Sessions = sessions_1.Sessions;\nChatKit.Threads = threads_1.Threads;\n//# sourceMappingURL=chatkit.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Videos = void 0;\nconst resource_1 = require(\"../core/resource.js\");\nconst pagination_1 = require(\"../core/pagination.js\");\nconst headers_1 = require(\"../internal/headers.js\");\nconst uploads_1 = require(\"../internal/uploads.js\");\nconst path_1 = require(\"../internal/utils/path.js\");\nclass Videos extends resource_1.APIResource {\n    /**\n     * Create a video\n     */\n    create(body, options) {\n        return this._client.post('/videos', (0, uploads_1.maybeMultipartFormRequestOptions)({ body, ...options }, this._client));\n    }\n    /**\n     * Retrieve a video\n     */\n    retrieve(videoID, options) {\n        return this._client.get((0, path_1.path) `/videos/${videoID}`, options);\n    }\n    /**\n     * List videos\n     */\n    list(query = {}, options) {\n        return this._client.getAPIList('/videos', (pagination_1.ConversationCursorPage), { query, ...options });\n    }\n    /**\n     * Delete a video\n     */\n    delete(videoID, options) {\n        return this._client.delete((0, path_1.path) `/videos/${videoID}`, options);\n    }\n    /**\n     * Download video content\n     */\n    downloadContent(videoID, query = {}, options) {\n        return this._client.get((0, path_1.path) `/videos/${videoID}/content`, {\n            query,\n            ...options,\n            headers: (0, headers_1.buildHeaders)([{ Accept: 'application/binary' }, options?.headers]),\n            __binaryResponse: true,\n        });\n    }\n    /**\n     * Create a video remix\n     */\n    remix(videoID, body, options) {\n        return this._client.post((0, path_1.path) `/videos/${videoID}/remix`, (0, uploads_1.maybeMultipartFormRequestOptions)({ body, ...options }, this._client));\n    }\n}\nexports.Videos = Videos;\n//# sourceMappingURL=videos.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.encode = exports.has = void 0;\nexports.merge = merge;\nexports.assign_single_source = assign_single_source;\nexports.decode = decode;\nexports.compact = compact;\nexports.is_regexp = is_regexp;\nexports.is_buffer = is_buffer;\nexports.combine = combine;\nexports.maybe_map = maybe_map;\nconst formats_1 = require(\"./formats.js\");\nconst values_1 = require(\"../utils/values.js\");\nlet has = (obj, key) => ((exports.has = Object.hasOwn ?? Function.prototype.call.bind(Object.prototype.hasOwnProperty)),\n    (0, exports.has)(obj, key));\nexports.has = has;\nconst hex_table = /* @__PURE__ */ (() => {\n    const array = [];\n    for (let i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n    return array;\n})();\nfunction compact_queue(queue) {\n    while (queue.length > 1) {\n        const item = queue.pop();\n        if (!item)\n            continue;\n        const obj = item.obj[item.prop];\n        if ((0, values_1.isArray)(obj)) {\n            const compacted = [];\n            for (let j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n            // @ts-ignore\n            item.obj[item.prop] = compacted;\n        }\n    }\n}\nfunction array_to_object(source, options) {\n    const obj = options && options.plainObjects ? Object.create(null) : {};\n    for (let i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n    return obj;\n}\nfunction merge(target, source, options = {}) {\n    if (!source) {\n        return target;\n    }\n    if (typeof source !== 'object') {\n        if ((0, values_1.isArray)(target)) {\n            target.push(source);\n        }\n        else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !(0, exports.has)(Object.prototype, source)) {\n                target[source] = true;\n            }\n        }\n        else {\n            return [target, source];\n        }\n        return target;\n    }\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n    let mergeTarget = target;\n    if ((0, values_1.isArray)(target) && !(0, values_1.isArray)(source)) {\n        // @ts-ignore\n        mergeTarget = array_to_object(target, options);\n    }\n    if ((0, values_1.isArray)(target) && (0, values_1.isArray)(source)) {\n        source.forEach(function (item, i) {\n            if ((0, exports.has)(target, i)) {\n                const targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                }\n                else {\n                    target.push(item);\n                }\n            }\n            else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n    return Object.keys(source).reduce(function (acc, key) {\n        const value = source[key];\n        if ((0, exports.has)(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        }\n        else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n}\nfunction assign_single_source(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n}\nfunction decode(str, _, charset) {\n    const strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    }\n    catch (e) {\n        return strWithoutPlus;\n    }\n}\nconst limit = 1024;\nconst encode = (str, _defaultEncoder, charset, _kind, format) => {\n    // This code was originally written by Brian White for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n    let string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    }\n    else if (typeof str !== 'string') {\n        string = String(str);\n    }\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n    let out = '';\n    for (let j = 0; j < string.length; j += limit) {\n        const segment = string.length >= limit ? string.slice(j, j + limit) : string;\n        const arr = [];\n        for (let i = 0; i < segment.length; ++i) {\n            let c = segment.charCodeAt(i);\n            if (c === 0x2d || // -\n                c === 0x2e || // .\n                c === 0x5f || // _\n                c === 0x7e || // ~\n                (c >= 0x30 && c <= 0x39) || // 0-9\n                (c >= 0x41 && c <= 0x5a) || // a-z\n                (c >= 0x61 && c <= 0x7a) || // A-Z\n                (format === formats_1.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n            ) {\n                arr[arr.length] = segment.charAt(i);\n                continue;\n            }\n            if (c < 0x80) {\n                arr[arr.length] = hex_table[c];\n                continue;\n            }\n            if (c < 0x800) {\n                arr[arr.length] = hex_table[0xc0 | (c >> 6)] + hex_table[0x80 | (c & 0x3f)];\n                continue;\n            }\n            if (c < 0xd800 || c >= 0xe000) {\n                arr[arr.length] =\n                    hex_table[0xe0 | (c >> 12)] + hex_table[0x80 | ((c >> 6) & 0x3f)] + hex_table[0x80 | (c & 0x3f)];\n                continue;\n            }\n            i += 1;\n            c = 0x10000 + (((c & 0x3ff) << 10) | (segment.charCodeAt(i) & 0x3ff));\n            arr[arr.length] =\n                hex_table[0xf0 | (c >> 18)] +\n                    hex_table[0x80 | ((c >> 12) & 0x3f)] +\n                    hex_table[0x80 | ((c >> 6) & 0x3f)] +\n                    hex_table[0x80 | (c & 0x3f)];\n        }\n        out += arr.join('');\n    }\n    return out;\n};\nexports.encode = encode;\nfunction compact(value) {\n    const queue = [{ obj: { o: value }, prop: 'o' }];\n    const refs = [];\n    for (let i = 0; i < queue.length; ++i) {\n        const item = queue[i];\n        // @ts-ignore\n        const obj = item.obj[item.prop];\n        const keys = Object.keys(obj);\n        for (let j = 0; j < keys.length; ++j) {\n            const key = keys[j];\n            const val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n    compact_queue(queue);\n    return value;\n}\nfunction is_regexp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n}\nfunction is_buffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n}\nfunction combine(a, b) {\n    return [].concat(a, b);\n}\nfunction maybe_map(val, fn) {\n    if ((0, values_1.isArray)(val)) {\n        const mapped = [];\n        for (let i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n}\n//# sourceMappingURL=utils.js.map","\"use strict\";\nvar _Stream_client;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Stream = void 0;\nexports._iterSSEMessages = _iterSSEMessages;\nconst tslib_1 = require(\"../internal/tslib.js\");\nconst error_1 = require(\"./error.js\");\nconst shims_1 = require(\"../internal/shims.js\");\nconst line_1 = require(\"../internal/decoders/line.js\");\nconst shims_2 = require(\"../internal/shims.js\");\nconst errors_1 = require(\"../internal/errors.js\");\nconst bytes_1 = require(\"../internal/utils/bytes.js\");\nconst log_1 = require(\"../internal/utils/log.js\");\nconst error_2 = require(\"./error.js\");\nclass Stream {\n    constructor(iterator, controller, client) {\n        this.iterator = iterator;\n        _Stream_client.set(this, void 0);\n        this.controller = controller;\n        tslib_1.__classPrivateFieldSet(this, _Stream_client, client, \"f\");\n    }\n    static fromSSEResponse(response, controller, client) {\n        let consumed = false;\n        const logger = client ? (0, log_1.loggerFor)(client) : console;\n        async function* iterator() {\n            if (consumed) {\n                throw new error_1.OpenAIError('Cannot iterate over a consumed stream, use `.tee()` to split the stream.');\n            }\n            consumed = true;\n            let done = false;\n            try {\n                for await (const sse of _iterSSEMessages(response, controller)) {\n                    if (done)\n                        continue;\n                    if (sse.data.startsWith('[DONE]')) {\n                        done = true;\n                        continue;\n                    }\n                    if (sse.event === null || !sse.event.startsWith('thread.')) {\n                        let data;\n                        try {\n                            data = JSON.parse(sse.data);\n                        }\n                        catch (e) {\n                            logger.error(`Could not parse message into JSON:`, sse.data);\n                            logger.error(`From chunk:`, sse.raw);\n                            throw e;\n                        }\n                        if (data && data.error) {\n                            throw new error_2.APIError(undefined, data.error, undefined, response.headers);\n                        }\n                        yield data;\n                    }\n                    else {\n                        let data;\n                        try {\n                            data = JSON.parse(sse.data);\n                        }\n                        catch (e) {\n                            console.error(`Could not parse message into JSON:`, sse.data);\n                            console.error(`From chunk:`, sse.raw);\n                            throw e;\n                        }\n                        // TODO: Is this where the error should be thrown?\n                        if (sse.event == 'error') {\n                            throw new error_2.APIError(undefined, data.error, data.message, undefined);\n                        }\n                        yield { event: sse.event, data: data };\n                    }\n                }\n                done = true;\n            }\n            catch (e) {\n                // If the user calls `stream.controller.abort()`, we should exit without throwing.\n                if ((0, errors_1.isAbortError)(e))\n                    return;\n                throw e;\n            }\n            finally {\n                // If the user `break`s, abort the ongoing request.\n                if (!done)\n                    controller.abort();\n            }\n        }\n        return new Stream(iterator, controller, client);\n    }\n    /**\n     * Generates a Stream from a newline-separated ReadableStream\n     * where each item is a JSON value.\n     */\n    static fromReadableStream(readableStream, controller, client) {\n        let consumed = false;\n        async function* iterLines() {\n            const lineDecoder = new line_1.LineDecoder();\n            const iter = (0, shims_2.ReadableStreamToAsyncIterable)(readableStream);\n            for await (const chunk of iter) {\n                for (const line of lineDecoder.decode(chunk)) {\n                    yield line;\n                }\n            }\n            for (const line of lineDecoder.flush()) {\n                yield line;\n            }\n        }\n        async function* iterator() {\n            if (consumed) {\n                throw new error_1.OpenAIError('Cannot iterate over a consumed stream, use `.tee()` to split the stream.');\n            }\n            consumed = true;\n            let done = false;\n            try {\n                for await (const line of iterLines()) {\n                    if (done)\n                        continue;\n                    if (line)\n                        yield JSON.parse(line);\n                }\n                done = true;\n            }\n            catch (e) {\n                // If the user calls `stream.controller.abort()`, we should exit without throwing.\n                if ((0, errors_1.isAbortError)(e))\n                    return;\n                throw e;\n            }\n            finally {\n                // If the user `break`s, abort the ongoing request.\n                if (!done)\n                    controller.abort();\n            }\n        }\n        return new Stream(iterator, controller, client);\n    }\n    [(_Stream_client = new WeakMap(), Symbol.asyncIterator)]() {\n        return this.iterator();\n    }\n    /**\n     * Splits the stream into two streams which can be\n     * independently read from at different speeds.\n     */\n    tee() {\n        const left = [];\n        const right = [];\n        const iterator = this.iterator();\n        const teeIterator = (queue) => {\n            return {\n                next: () => {\n                    if (queue.length === 0) {\n                        const result = iterator.next();\n                        left.push(result);\n                        right.push(result);\n                    }\n                    return queue.shift();\n                },\n            };\n        };\n        return [\n            new Stream(() => teeIterator(left), this.controller, tslib_1.__classPrivateFieldGet(this, _Stream_client, \"f\")),\n            new Stream(() => teeIterator(right), this.controller, tslib_1.__classPrivateFieldGet(this, _Stream_client, \"f\")),\n        ];\n    }\n    /**\n     * Converts this stream to a newline-separated ReadableStream of\n     * JSON stringified values in the stream\n     * which can be turned back into a Stream with `Stream.fromReadableStream()`.\n     */\n    toReadableStream() {\n        const self = this;\n        let iter;\n        return (0, shims_1.makeReadableStream)({\n            async start() {\n                iter = self[Symbol.asyncIterator]();\n            },\n            async pull(ctrl) {\n                try {\n                    const { value, done } = await iter.next();\n                    if (done)\n                        return ctrl.close();\n                    const bytes = (0, bytes_1.encodeUTF8)(JSON.stringify(value) + '\\n');\n                    ctrl.enqueue(bytes);\n                }\n                catch (err) {\n                    ctrl.error(err);\n                }\n            },\n            async cancel() {\n                await iter.return?.();\n            },\n        });\n    }\n}\nexports.Stream = Stream;\nasync function* _iterSSEMessages(response, controller) {\n    if (!response.body) {\n        controller.abort();\n        if (typeof globalThis.navigator !== 'undefined' &&\n            globalThis.navigator.product === 'ReactNative') {\n            throw new error_1.OpenAIError(`The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api`);\n        }\n        throw new error_1.OpenAIError(`Attempted to iterate over a response with no body`);\n    }\n    const sseDecoder = new SSEDecoder();\n    const lineDecoder = new line_1.LineDecoder();\n    const iter = (0, shims_2.ReadableStreamToAsyncIterable)(response.body);\n    for await (const sseChunk of iterSSEChunks(iter)) {\n        for (const line of lineDecoder.decode(sseChunk)) {\n            const sse = sseDecoder.decode(line);\n            if (sse)\n                yield sse;\n        }\n    }\n    for (const line of lineDecoder.flush()) {\n        const sse = sseDecoder.decode(line);\n        if (sse)\n            yield sse;\n    }\n}\n/**\n * Given an async iterable iterator, iterates over it and yields full\n * SSE chunks, i.e. yields when a double new-line is encountered.\n */\nasync function* iterSSEChunks(iterator) {\n    let data = new Uint8Array();\n    for await (const chunk of iterator) {\n        if (chunk == null) {\n            continue;\n        }\n        const binaryChunk = chunk instanceof ArrayBuffer ? new Uint8Array(chunk)\n            : typeof chunk === 'string' ? (0, bytes_1.encodeUTF8)(chunk)\n                : chunk;\n        let newData = new Uint8Array(data.length + binaryChunk.length);\n        newData.set(data);\n        newData.set(binaryChunk, data.length);\n        data = newData;\n        let patternIndex;\n        while ((patternIndex = (0, line_1.findDoubleNewlineIndex)(data)) !== -1) {\n            yield data.slice(0, patternIndex);\n            data = data.slice(patternIndex);\n        }\n    }\n    if (data.length > 0) {\n        yield data;\n    }\n}\nclass SSEDecoder {\n    constructor() {\n        this.event = null;\n        this.data = [];\n        this.chunks = [];\n    }\n    decode(line) {\n        if (line.endsWith('\\r')) {\n            line = line.substring(0, line.length - 1);\n        }\n        if (!line) {\n            // empty line and we didn't previously encounter any messages\n            if (!this.event && !this.data.length)\n                return null;\n            const sse = {\n                event: this.event,\n                data: this.data.join('\\n'),\n                raw: this.chunks,\n            };\n            this.event = null;\n            this.data = [];\n            this.chunks = [];\n            return sse;\n        }\n        this.chunks.push(line);\n        if (line.startsWith(':')) {\n            return null;\n        }\n        let [fieldname, _, value] = partition(line, ':');\n        if (value.startsWith(' ')) {\n            value = value.substring(1);\n        }\n        if (fieldname === 'event') {\n            this.event = value;\n        }\n        else if (fieldname === 'data') {\n            this.data.push(value);\n        }\n        return null;\n    }\n}\nfunction partition(str, delimiter) {\n    const index = str.indexOf(delimiter);\n    if (index !== -1) {\n        return [str.substring(0, index), delimiter, str.substring(index + delimiter.length)];\n    }\n    return [str, '', ''];\n}\n//# sourceMappingURL=streaming.js.map","module.exports = require(\"http\");","'use strict';\n\n/** @type {import('./Reflect.getPrototypeOf')} */\nmodule.exports = (typeof Reflect !== 'undefined' && Reflect.getPrototypeOf) || null;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toFile = void 0;\nvar to_file_1 = require(\"../internal/to-file.js\");\nObject.defineProperty(exports, \"toFile\", { enumerable: true, get: function () { return to_file_1.toFile; } });\n//# sourceMappingURL=uploads.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Realtime = void 0;\nconst tslib_1 = require(\"../../internal/tslib.js\");\nconst resource_1 = require(\"../../core/resource.js\");\nconst CallsAPI = tslib_1.__importStar(require(\"./calls.js\"));\nconst calls_1 = require(\"./calls.js\");\nconst ClientSecretsAPI = tslib_1.__importStar(require(\"./client-secrets.js\"));\nconst client_secrets_1 = require(\"./client-secrets.js\");\nclass Realtime extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.clientSecrets = new ClientSecretsAPI.ClientSecrets(this._client);\n        this.calls = new CallsAPI.Calls(this._client);\n    }\n}\nexports.Realtime = Realtime;\nRealtime.ClientSecrets = client_secrets_1.ClientSecrets;\nRealtime.Calls = calls_1.Calls;\n//# sourceMappingURL=realtime.js.map","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = parallel;\n\n/**\n * Runs iterator over provided array elements in parallel\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction parallel(list, iterator, callback)\n{\n  var state = initState(list);\n\n  while (state.index < (state['keyedList'] || list).length)\n  {\n    iterate(list, iterator, state, function(error, result)\n    {\n      if (error)\n      {\n        callback(error, result);\n        return;\n      }\n\n      // looks like it's the last one\n      if (Object.keys(state.jobs).length === 0)\n      {\n        callback(null, state.results);\n        return;\n      }\n    });\n\n    state.index++;\n  }\n\n  return terminator.bind(state, callback);\n}\n","\"use strict\";\nvar _AssistantStream_instances, _a, _AssistantStream_events, _AssistantStream_runStepSnapshots, _AssistantStream_messageSnapshots, _AssistantStream_messageSnapshot, _AssistantStream_finalRun, _AssistantStream_currentContentIndex, _AssistantStream_currentContent, _AssistantStream_currentToolCallIndex, _AssistantStream_currentToolCall, _AssistantStream_currentEvent, _AssistantStream_currentRunSnapshot, _AssistantStream_currentRunStepSnapshot, _AssistantStream_addEvent, _AssistantStream_endRequest, _AssistantStream_handleMessage, _AssistantStream_handleRunStep, _AssistantStream_handleEvent, _AssistantStream_accumulateRunStep, _AssistantStream_accumulateMessage, _AssistantStream_accumulateContent, _AssistantStream_handleRun;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AssistantStream = void 0;\nconst tslib_1 = require(\"../internal/tslib.js\");\nconst streaming_1 = require(\"../streaming.js\");\nconst error_1 = require(\"../error.js\");\nconst EventStream_1 = require(\"./EventStream.js\");\nconst utils_1 = require(\"../internal/utils.js\");\nclass AssistantStream extends EventStream_1.EventStream {\n    constructor() {\n        super(...arguments);\n        _AssistantStream_instances.add(this);\n        //Track all events in a single list for reference\n        _AssistantStream_events.set(this, []);\n        //Used to accumulate deltas\n        //We are accumulating many types so the value here is not strict\n        _AssistantStream_runStepSnapshots.set(this, {});\n        _AssistantStream_messageSnapshots.set(this, {});\n        _AssistantStream_messageSnapshot.set(this, void 0);\n        _AssistantStream_finalRun.set(this, void 0);\n        _AssistantStream_currentContentIndex.set(this, void 0);\n        _AssistantStream_currentContent.set(this, void 0);\n        _AssistantStream_currentToolCallIndex.set(this, void 0);\n        _AssistantStream_currentToolCall.set(this, void 0);\n        //For current snapshot methods\n        _AssistantStream_currentEvent.set(this, void 0);\n        _AssistantStream_currentRunSnapshot.set(this, void 0);\n        _AssistantStream_currentRunStepSnapshot.set(this, void 0);\n    }\n    [(_AssistantStream_events = new WeakMap(), _AssistantStream_runStepSnapshots = new WeakMap(), _AssistantStream_messageSnapshots = new WeakMap(), _AssistantStream_messageSnapshot = new WeakMap(), _AssistantStream_finalRun = new WeakMap(), _AssistantStream_currentContentIndex = new WeakMap(), _AssistantStream_currentContent = new WeakMap(), _AssistantStream_currentToolCallIndex = new WeakMap(), _AssistantStream_currentToolCall = new WeakMap(), _AssistantStream_currentEvent = new WeakMap(), _AssistantStream_currentRunSnapshot = new WeakMap(), _AssistantStream_currentRunStepSnapshot = new WeakMap(), _AssistantStream_instances = new WeakSet(), Symbol.asyncIterator)]() {\n        const pushQueue = [];\n        const readQueue = [];\n        let done = false;\n        //Catch all for passing along all events\n        this.on('event', (event) => {\n            const reader = readQueue.shift();\n            if (reader) {\n                reader.resolve(event);\n            }\n            else {\n                pushQueue.push(event);\n            }\n        });\n        this.on('end', () => {\n            done = true;\n            for (const reader of readQueue) {\n                reader.resolve(undefined);\n            }\n            readQueue.length = 0;\n        });\n        this.on('abort', (err) => {\n            done = true;\n            for (const reader of readQueue) {\n                reader.reject(err);\n            }\n            readQueue.length = 0;\n        });\n        this.on('error', (err) => {\n            done = true;\n            for (const reader of readQueue) {\n                reader.reject(err);\n            }\n            readQueue.length = 0;\n        });\n        return {\n            next: async () => {\n                if (!pushQueue.length) {\n                    if (done) {\n                        return { value: undefined, done: true };\n                    }\n                    return new Promise((resolve, reject) => readQueue.push({ resolve, reject })).then((chunk) => (chunk ? { value: chunk, done: false } : { value: undefined, done: true }));\n                }\n                const chunk = pushQueue.shift();\n                return { value: chunk, done: false };\n            },\n            return: async () => {\n                this.abort();\n                return { value: undefined, done: true };\n            },\n        };\n    }\n    static fromReadableStream(stream) {\n        const runner = new _a();\n        runner._run(() => runner._fromReadableStream(stream));\n        return runner;\n    }\n    async _fromReadableStream(readableStream, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted)\n                this.controller.abort();\n            signal.addEventListener('abort', () => this.controller.abort());\n        }\n        this._connected();\n        const stream = streaming_1.Stream.fromReadableStream(readableStream, this.controller);\n        for await (const event of stream) {\n            tslib_1.__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_addEvent).call(this, event);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new error_1.APIUserAbortError();\n        }\n        return this._addRun(tslib_1.__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_endRequest).call(this));\n    }\n    toReadableStream() {\n        const stream = new streaming_1.Stream(this[Symbol.asyncIterator].bind(this), this.controller);\n        return stream.toReadableStream();\n    }\n    static createToolAssistantStream(runId, runs, params, options) {\n        const runner = new _a();\n        runner._run(() => runner._runToolAssistantStream(runId, runs, params, {\n            ...options,\n            headers: { ...options?.headers, 'X-Stainless-Helper-Method': 'stream' },\n        }));\n        return runner;\n    }\n    async _createToolAssistantStream(run, runId, params, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted)\n                this.controller.abort();\n            signal.addEventListener('abort', () => this.controller.abort());\n        }\n        const body = { ...params, stream: true };\n        const stream = await run.submitToolOutputs(runId, body, {\n            ...options,\n            signal: this.controller.signal,\n        });\n        this._connected();\n        for await (const event of stream) {\n            tslib_1.__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_addEvent).call(this, event);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new error_1.APIUserAbortError();\n        }\n        return this._addRun(tslib_1.__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_endRequest).call(this));\n    }\n    static createThreadAssistantStream(params, thread, options) {\n        const runner = new _a();\n        runner._run(() => runner._threadAssistantStream(params, thread, {\n            ...options,\n            headers: { ...options?.headers, 'X-Stainless-Helper-Method': 'stream' },\n        }));\n        return runner;\n    }\n    static createAssistantStream(threadId, runs, params, options) {\n        const runner = new _a();\n        runner._run(() => runner._runAssistantStream(threadId, runs, params, {\n            ...options,\n            headers: { ...options?.headers, 'X-Stainless-Helper-Method': 'stream' },\n        }));\n        return runner;\n    }\n    currentEvent() {\n        return tslib_1.__classPrivateFieldGet(this, _AssistantStream_currentEvent, \"f\");\n    }\n    currentRun() {\n        return tslib_1.__classPrivateFieldGet(this, _AssistantStream_currentRunSnapshot, \"f\");\n    }\n    currentMessageSnapshot() {\n        return tslib_1.__classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\");\n    }\n    currentRunStepSnapshot() {\n        return tslib_1.__classPrivateFieldGet(this, _AssistantStream_currentRunStepSnapshot, \"f\");\n    }\n    async finalRunSteps() {\n        await this.done();\n        return Object.values(tslib_1.__classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\"));\n    }\n    async finalMessages() {\n        await this.done();\n        return Object.values(tslib_1.__classPrivateFieldGet(this, _AssistantStream_messageSnapshots, \"f\"));\n    }\n    async finalRun() {\n        await this.done();\n        if (!tslib_1.__classPrivateFieldGet(this, _AssistantStream_finalRun, \"f\"))\n            throw Error('Final run was not received.');\n        return tslib_1.__classPrivateFieldGet(this, _AssistantStream_finalRun, \"f\");\n    }\n    async _createThreadAssistantStream(thread, params, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted)\n                this.controller.abort();\n            signal.addEventListener('abort', () => this.controller.abort());\n        }\n        const body = { ...params, stream: true };\n        const stream = await thread.createAndRun(body, { ...options, signal: this.controller.signal });\n        this._connected();\n        for await (const event of stream) {\n            tslib_1.__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_addEvent).call(this, event);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new error_1.APIUserAbortError();\n        }\n        return this._addRun(tslib_1.__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_endRequest).call(this));\n    }\n    async _createAssistantStream(run, threadId, params, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted)\n                this.controller.abort();\n            signal.addEventListener('abort', () => this.controller.abort());\n        }\n        const body = { ...params, stream: true };\n        const stream = await run.create(threadId, body, { ...options, signal: this.controller.signal });\n        this._connected();\n        for await (const event of stream) {\n            tslib_1.__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_addEvent).call(this, event);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new error_1.APIUserAbortError();\n        }\n        return this._addRun(tslib_1.__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_endRequest).call(this));\n    }\n    static accumulateDelta(acc, delta) {\n        for (const [key, deltaValue] of Object.entries(delta)) {\n            if (!acc.hasOwnProperty(key)) {\n                acc[key] = deltaValue;\n                continue;\n            }\n            let accValue = acc[key];\n            if (accValue === null || accValue === undefined) {\n                acc[key] = deltaValue;\n                continue;\n            }\n            // We don't accumulate these special properties\n            if (key === 'index' || key === 'type') {\n                acc[key] = deltaValue;\n                continue;\n            }\n            // Type-specific accumulation logic\n            if (typeof accValue === 'string' && typeof deltaValue === 'string') {\n                accValue += deltaValue;\n            }\n            else if (typeof accValue === 'number' && typeof deltaValue === 'number') {\n                accValue += deltaValue;\n            }\n            else if ((0, utils_1.isObj)(accValue) && (0, utils_1.isObj)(deltaValue)) {\n                accValue = this.accumulateDelta(accValue, deltaValue);\n            }\n            else if (Array.isArray(accValue) && Array.isArray(deltaValue)) {\n                if (accValue.every((x) => typeof x === 'string' || typeof x === 'number')) {\n                    accValue.push(...deltaValue); // Use spread syntax for efficient addition\n                    continue;\n                }\n                for (const deltaEntry of deltaValue) {\n                    if (!(0, utils_1.isObj)(deltaEntry)) {\n                        throw new Error(`Expected array delta entry to be an object but got: ${deltaEntry}`);\n                    }\n                    const index = deltaEntry['index'];\n                    if (index == null) {\n                        console.error(deltaEntry);\n                        throw new Error('Expected array delta entry to have an `index` property');\n                    }\n                    if (typeof index !== 'number') {\n                        throw new Error(`Expected array delta entry \\`index\\` property to be a number but got ${index}`);\n                    }\n                    const accEntry = accValue[index];\n                    if (accEntry == null) {\n                        accValue.push(deltaEntry);\n                    }\n                    else {\n                        accValue[index] = this.accumulateDelta(accEntry, deltaEntry);\n                    }\n                }\n                continue;\n            }\n            else {\n                throw Error(`Unhandled record type: ${key}, deltaValue: ${deltaValue}, accValue: ${accValue}`);\n            }\n            acc[key] = accValue;\n        }\n        return acc;\n    }\n    _addRun(run) {\n        return run;\n    }\n    async _threadAssistantStream(params, thread, options) {\n        return await this._createThreadAssistantStream(thread, params, options);\n    }\n    async _runAssistantStream(threadId, runs, params, options) {\n        return await this._createAssistantStream(runs, threadId, params, options);\n    }\n    async _runToolAssistantStream(runId, runs, params, options) {\n        return await this._createToolAssistantStream(runs, runId, params, options);\n    }\n}\nexports.AssistantStream = AssistantStream;\n_a = AssistantStream, _AssistantStream_addEvent = function _AssistantStream_addEvent(event) {\n    if (this.ended)\n        return;\n    tslib_1.__classPrivateFieldSet(this, _AssistantStream_currentEvent, event, \"f\");\n    tslib_1.__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_handleEvent).call(this, event);\n    switch (event.event) {\n        case 'thread.created':\n            //No action on this event.\n            break;\n        case 'thread.run.created':\n        case 'thread.run.queued':\n        case 'thread.run.in_progress':\n        case 'thread.run.requires_action':\n        case 'thread.run.completed':\n        case 'thread.run.incomplete':\n        case 'thread.run.failed':\n        case 'thread.run.cancelling':\n        case 'thread.run.cancelled':\n        case 'thread.run.expired':\n            tslib_1.__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_handleRun).call(this, event);\n            break;\n        case 'thread.run.step.created':\n        case 'thread.run.step.in_progress':\n        case 'thread.run.step.delta':\n        case 'thread.run.step.completed':\n        case 'thread.run.step.failed':\n        case 'thread.run.step.cancelled':\n        case 'thread.run.step.expired':\n            tslib_1.__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_handleRunStep).call(this, event);\n            break;\n        case 'thread.message.created':\n        case 'thread.message.in_progress':\n        case 'thread.message.delta':\n        case 'thread.message.completed':\n        case 'thread.message.incomplete':\n            tslib_1.__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_handleMessage).call(this, event);\n            break;\n        case 'error':\n            //This is included for completeness, but errors are processed in the SSE event processing so this should not occur\n            throw new Error('Encountered an error event in event processing - errors should be processed earlier');\n        default:\n            assertNever(event);\n    }\n}, _AssistantStream_endRequest = function _AssistantStream_endRequest() {\n    if (this.ended) {\n        throw new error_1.OpenAIError(`stream has ended, this shouldn't happen`);\n    }\n    if (!tslib_1.__classPrivateFieldGet(this, _AssistantStream_finalRun, \"f\"))\n        throw Error('Final run has not been received');\n    return tslib_1.__classPrivateFieldGet(this, _AssistantStream_finalRun, \"f\");\n}, _AssistantStream_handleMessage = function _AssistantStream_handleMessage(event) {\n    const [accumulatedMessage, newContent] = tslib_1.__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_accumulateMessage).call(this, event, tslib_1.__classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\"));\n    tslib_1.__classPrivateFieldSet(this, _AssistantStream_messageSnapshot, accumulatedMessage, \"f\");\n    tslib_1.__classPrivateFieldGet(this, _AssistantStream_messageSnapshots, \"f\")[accumulatedMessage.id] = accumulatedMessage;\n    for (const content of newContent) {\n        const snapshotContent = accumulatedMessage.content[content.index];\n        if (snapshotContent?.type == 'text') {\n            this._emit('textCreated', snapshotContent.text);\n        }\n    }\n    switch (event.event) {\n        case 'thread.message.created':\n            this._emit('messageCreated', event.data);\n            break;\n        case 'thread.message.in_progress':\n            break;\n        case 'thread.message.delta':\n            this._emit('messageDelta', event.data.delta, accumulatedMessage);\n            if (event.data.delta.content) {\n                for (const content of event.data.delta.content) {\n                    //If it is text delta, emit a text delta event\n                    if (content.type == 'text' && content.text) {\n                        let textDelta = content.text;\n                        let snapshot = accumulatedMessage.content[content.index];\n                        if (snapshot && snapshot.type == 'text') {\n                            this._emit('textDelta', textDelta, snapshot.text);\n                        }\n                        else {\n                            throw Error('The snapshot associated with this text delta is not text or missing');\n                        }\n                    }\n                    if (content.index != tslib_1.__classPrivateFieldGet(this, _AssistantStream_currentContentIndex, \"f\")) {\n                        //See if we have in progress content\n                        if (tslib_1.__classPrivateFieldGet(this, _AssistantStream_currentContent, \"f\")) {\n                            switch (tslib_1.__classPrivateFieldGet(this, _AssistantStream_currentContent, \"f\").type) {\n                                case 'text':\n                                    this._emit('textDone', tslib_1.__classPrivateFieldGet(this, _AssistantStream_currentContent, \"f\").text, tslib_1.__classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\"));\n                                    break;\n                                case 'image_file':\n                                    this._emit('imageFileDone', tslib_1.__classPrivateFieldGet(this, _AssistantStream_currentContent, \"f\").image_file, tslib_1.__classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\"));\n                                    break;\n                            }\n                        }\n                        tslib_1.__classPrivateFieldSet(this, _AssistantStream_currentContentIndex, content.index, \"f\");\n                    }\n                    tslib_1.__classPrivateFieldSet(this, _AssistantStream_currentContent, accumulatedMessage.content[content.index], \"f\");\n                }\n            }\n            break;\n        case 'thread.message.completed':\n        case 'thread.message.incomplete':\n            //We emit the latest content we were working on on completion (including incomplete)\n            if (tslib_1.__classPrivateFieldGet(this, _AssistantStream_currentContentIndex, \"f\") !== undefined) {\n                const currentContent = event.data.content[tslib_1.__classPrivateFieldGet(this, _AssistantStream_currentContentIndex, \"f\")];\n                if (currentContent) {\n                    switch (currentContent.type) {\n                        case 'image_file':\n                            this._emit('imageFileDone', currentContent.image_file, tslib_1.__classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\"));\n                            break;\n                        case 'text':\n                            this._emit('textDone', currentContent.text, tslib_1.__classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\"));\n                            break;\n                    }\n                }\n            }\n            if (tslib_1.__classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\")) {\n                this._emit('messageDone', event.data);\n            }\n            tslib_1.__classPrivateFieldSet(this, _AssistantStream_messageSnapshot, undefined, \"f\");\n    }\n}, _AssistantStream_handleRunStep = function _AssistantStream_handleRunStep(event) {\n    const accumulatedRunStep = tslib_1.__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_accumulateRunStep).call(this, event);\n    tslib_1.__classPrivateFieldSet(this, _AssistantStream_currentRunStepSnapshot, accumulatedRunStep, \"f\");\n    switch (event.event) {\n        case 'thread.run.step.created':\n            this._emit('runStepCreated', event.data);\n            break;\n        case 'thread.run.step.delta':\n            const delta = event.data.delta;\n            if (delta.step_details &&\n                delta.step_details.type == 'tool_calls' &&\n                delta.step_details.tool_calls &&\n                accumulatedRunStep.step_details.type == 'tool_calls') {\n                for (const toolCall of delta.step_details.tool_calls) {\n                    if (toolCall.index == tslib_1.__classPrivateFieldGet(this, _AssistantStream_currentToolCallIndex, \"f\")) {\n                        this._emit('toolCallDelta', toolCall, accumulatedRunStep.step_details.tool_calls[toolCall.index]);\n                    }\n                    else {\n                        if (tslib_1.__classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\")) {\n                            this._emit('toolCallDone', tslib_1.__classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\"));\n                        }\n                        tslib_1.__classPrivateFieldSet(this, _AssistantStream_currentToolCallIndex, toolCall.index, \"f\");\n                        tslib_1.__classPrivateFieldSet(this, _AssistantStream_currentToolCall, accumulatedRunStep.step_details.tool_calls[toolCall.index], \"f\");\n                        if (tslib_1.__classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\"))\n                            this._emit('toolCallCreated', tslib_1.__classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\"));\n                    }\n                }\n            }\n            this._emit('runStepDelta', event.data.delta, accumulatedRunStep);\n            break;\n        case 'thread.run.step.completed':\n        case 'thread.run.step.failed':\n        case 'thread.run.step.cancelled':\n        case 'thread.run.step.expired':\n            tslib_1.__classPrivateFieldSet(this, _AssistantStream_currentRunStepSnapshot, undefined, \"f\");\n            const details = event.data.step_details;\n            if (details.type == 'tool_calls') {\n                if (tslib_1.__classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\")) {\n                    this._emit('toolCallDone', tslib_1.__classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\"));\n                    tslib_1.__classPrivateFieldSet(this, _AssistantStream_currentToolCall, undefined, \"f\");\n                }\n            }\n            this._emit('runStepDone', event.data, accumulatedRunStep);\n            break;\n        case 'thread.run.step.in_progress':\n            break;\n    }\n}, _AssistantStream_handleEvent = function _AssistantStream_handleEvent(event) {\n    tslib_1.__classPrivateFieldGet(this, _AssistantStream_events, \"f\").push(event);\n    this._emit('event', event);\n}, _AssistantStream_accumulateRunStep = function _AssistantStream_accumulateRunStep(event) {\n    switch (event.event) {\n        case 'thread.run.step.created':\n            tslib_1.__classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id] = event.data;\n            return event.data;\n        case 'thread.run.step.delta':\n            let snapshot = tslib_1.__classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id];\n            if (!snapshot) {\n                throw Error('Received a RunStepDelta before creation of a snapshot');\n            }\n            let data = event.data;\n            if (data.delta) {\n                const accumulated = _a.accumulateDelta(snapshot, data.delta);\n                tslib_1.__classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id] = accumulated;\n            }\n            return tslib_1.__classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id];\n        case 'thread.run.step.completed':\n        case 'thread.run.step.failed':\n        case 'thread.run.step.cancelled':\n        case 'thread.run.step.expired':\n        case 'thread.run.step.in_progress':\n            tslib_1.__classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id] = event.data;\n            break;\n    }\n    if (tslib_1.__classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id])\n        return tslib_1.__classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id];\n    throw new Error('No snapshot available');\n}, _AssistantStream_accumulateMessage = function _AssistantStream_accumulateMessage(event, snapshot) {\n    let newContent = [];\n    switch (event.event) {\n        case 'thread.message.created':\n            //On creation the snapshot is just the initial message\n            return [event.data, newContent];\n        case 'thread.message.delta':\n            if (!snapshot) {\n                throw Error('Received a delta with no existing snapshot (there should be one from message creation)');\n            }\n            let data = event.data;\n            //If this delta does not have content, nothing to process\n            if (data.delta.content) {\n                for (const contentElement of data.delta.content) {\n                    if (contentElement.index in snapshot.content) {\n                        let currentContent = snapshot.content[contentElement.index];\n                        snapshot.content[contentElement.index] = tslib_1.__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_accumulateContent).call(this, contentElement, currentContent);\n                    }\n                    else {\n                        snapshot.content[contentElement.index] = contentElement;\n                        // This is a new element\n                        newContent.push(contentElement);\n                    }\n                }\n            }\n            return [snapshot, newContent];\n        case 'thread.message.in_progress':\n        case 'thread.message.completed':\n        case 'thread.message.incomplete':\n            //No changes on other thread events\n            if (snapshot) {\n                return [snapshot, newContent];\n            }\n            else {\n                throw Error('Received thread message event with no existing snapshot');\n            }\n    }\n    throw Error('Tried to accumulate a non-message event');\n}, _AssistantStream_accumulateContent = function _AssistantStream_accumulateContent(contentElement, currentContent) {\n    return _a.accumulateDelta(currentContent, contentElement);\n}, _AssistantStream_handleRun = function _AssistantStream_handleRun(event) {\n    tslib_1.__classPrivateFieldSet(this, _AssistantStream_currentRunSnapshot, event.data, \"f\");\n    switch (event.event) {\n        case 'thread.run.created':\n            break;\n        case 'thread.run.queued':\n            break;\n        case 'thread.run.in_progress':\n            break;\n        case 'thread.run.requires_action':\n        case 'thread.run.cancelled':\n        case 'thread.run.failed':\n        case 'thread.run.completed':\n        case 'thread.run.expired':\n        case 'thread.run.incomplete':\n            tslib_1.__classPrivateFieldSet(this, _AssistantStream_finalRun, event.data, \"f\");\n            if (tslib_1.__classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\")) {\n                this._emit('toolCallDone', tslib_1.__classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\"));\n                tslib_1.__classPrivateFieldSet(this, _AssistantStream_currentToolCall, undefined, \"f\");\n            }\n            break;\n        case 'thread.run.cancelling':\n            break;\n    }\n};\nfunction assertNever(_x) { }\n//# sourceMappingURL=AssistantStream.js.map","'use strict';\n\n/** @type {import('./floor')} */\nmodule.exports = Math.floor;\n","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Conversations = void 0;\nconst tslib_1 = require(\"../../internal/tslib.js\");\nconst resource_1 = require(\"../../core/resource.js\");\nconst ItemsAPI = tslib_1.__importStar(require(\"./items.js\"));\nconst items_1 = require(\"./items.js\");\nconst path_1 = require(\"../../internal/utils/path.js\");\nclass Conversations extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.items = new ItemsAPI.Items(this._client);\n    }\n    /**\n     * Create a conversation.\n     */\n    create(body = {}, options) {\n        return this._client.post('/conversations', { body, ...options });\n    }\n    /**\n     * Get a conversation\n     */\n    retrieve(conversationID, options) {\n        return this._client.get((0, path_1.path) `/conversations/${conversationID}`, options);\n    }\n    /**\n     * Update a conversation\n     */\n    update(conversationID, body, options) {\n        return this._client.post((0, path_1.path) `/conversations/${conversationID}`, { body, ...options });\n    }\n    /**\n     * Delete a conversation. Items in the conversation will not be deleted.\n     */\n    delete(conversationID, options) {\n        return this._client.delete((0, path_1.path) `/conversations/${conversationID}`, options);\n    }\n}\nexports.Conversations = Conversations;\nConversations.Items = items_1.Items;\n//# sourceMappingURL=conversations.js.map","module.exports = require(\"util\");","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Completions = void 0;\nconst resource_1 = require(\"../core/resource.js\");\nclass Completions extends resource_1.APIResource {\n    create(body, options) {\n        return this._client.post('/completions', { body, ...options, stream: body.stream ?? false });\n    }\n}\nexports.Completions = Completions;\n//# sourceMappingURL=completions.js.map","'use strict';\n\nvar hasSymbols = require('has-symbols/shams');\n\n/** @type {import('.')} */\nmodule.exports = function hasToStringTagShams() {\n\treturn hasSymbols() && !!Symbol.toStringTag;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AzureOpenAI = void 0;\nconst tslib_1 = require(\"./internal/tslib.js\");\nconst headers_1 = require(\"./internal/headers.js\");\nconst Errors = tslib_1.__importStar(require(\"./error.js\"));\nconst utils_1 = require(\"./internal/utils.js\");\nconst client_1 = require(\"./client.js\");\n/** API Client for interfacing with the Azure OpenAI API. */\nclass AzureOpenAI extends client_1.OpenAI {\n    /**\n     * API Client for interfacing with the Azure OpenAI API.\n     *\n     * @param {string | undefined} [opts.apiVersion=process.env['OPENAI_API_VERSION'] ?? undefined]\n     * @param {string | undefined} [opts.endpoint=process.env['AZURE_OPENAI_ENDPOINT'] ?? undefined] - Your Azure endpoint, including the resource, e.g. `https://example-resource.azure.openai.com/`\n     * @param {string | undefined} [opts.apiKey=process.env['AZURE_OPENAI_API_KEY'] ?? undefined]\n     * @param {string | undefined} opts.deployment - A model deployment, if given, sets the base client URL to include `/deployments/{deployment}`.\n     * @param {string | null | undefined} [opts.organization=process.env['OPENAI_ORG_ID'] ?? null]\n     * @param {string} [opts.baseURL=process.env['OPENAI_BASE_URL']] - Sets the base URL for the API, e.g. `https://example-resource.azure.openai.com/openai/`.\n     * @param {number} [opts.timeout=10 minutes] - The maximum amount of time (in milliseconds) the client will wait for a response before timing out.\n     * @param {number} [opts.httpAgent] - An HTTP agent used to manage HTTP(s) connections.\n     * @param {Fetch} [opts.fetch] - Specify a custom `fetch` function implementation.\n     * @param {number} [opts.maxRetries=2] - The maximum number of times the client will retry a request.\n     * @param {Headers} opts.defaultHeaders - Default headers to include with every request to the API.\n     * @param {DefaultQuery} opts.defaultQuery - Default query parameters to include with every request to the API.\n     * @param {boolean} [opts.dangerouslyAllowBrowser=false] - By default, client-side use of this library is not allowed, as it risks exposing your secret API credentials to attackers.\n     */\n    constructor({ baseURL = (0, utils_1.readEnv)('OPENAI_BASE_URL'), apiKey = (0, utils_1.readEnv)('AZURE_OPENAI_API_KEY'), apiVersion = (0, utils_1.readEnv)('OPENAI_API_VERSION'), endpoint, deployment, azureADTokenProvider, dangerouslyAllowBrowser, ...opts } = {}) {\n        if (!apiVersion) {\n            throw new Errors.OpenAIError(\"The OPENAI_API_VERSION environment variable is missing or empty; either provide it, or instantiate the AzureOpenAI client with an apiVersion option, like new AzureOpenAI({ apiVersion: 'My API Version' }).\");\n        }\n        if (typeof azureADTokenProvider === 'function') {\n            dangerouslyAllowBrowser = true;\n        }\n        if (!azureADTokenProvider && !apiKey) {\n            throw new Errors.OpenAIError('Missing credentials. Please pass one of `apiKey` and `azureADTokenProvider`, or set the `AZURE_OPENAI_API_KEY` environment variable.');\n        }\n        if (azureADTokenProvider && apiKey) {\n            throw new Errors.OpenAIError('The `apiKey` and `azureADTokenProvider` arguments are mutually exclusive; only one can be passed at a time.');\n        }\n        opts.defaultQuery = { ...opts.defaultQuery, 'api-version': apiVersion };\n        if (!baseURL) {\n            if (!endpoint) {\n                endpoint = process.env['AZURE_OPENAI_ENDPOINT'];\n            }\n            if (!endpoint) {\n                throw new Errors.OpenAIError('Must provide one of the `baseURL` or `endpoint` arguments, or the `AZURE_OPENAI_ENDPOINT` environment variable');\n            }\n            baseURL = `${endpoint}/openai`;\n        }\n        else {\n            if (endpoint) {\n                throw new Errors.OpenAIError('baseURL and endpoint are mutually exclusive');\n            }\n        }\n        super({\n            apiKey: azureADTokenProvider ?? apiKey,\n            baseURL,\n            ...opts,\n            ...(dangerouslyAllowBrowser !== undefined ? { dangerouslyAllowBrowser } : {}),\n        });\n        this.apiVersion = '';\n        this.apiVersion = apiVersion;\n        this.deploymentName = deployment;\n    }\n    async buildRequest(options, props = {}) {\n        if (_deployments_endpoints.has(options.path) && options.method === 'post' && options.body !== undefined) {\n            if (!(0, utils_1.isObj)(options.body)) {\n                throw new Error('Expected request body to be an object');\n            }\n            const model = this.deploymentName || options.body['model'] || options.__metadata?.['model'];\n            if (model !== undefined && !this.baseURL.includes('/deployments')) {\n                options.path = `/deployments/${model}${options.path}`;\n            }\n        }\n        return super.buildRequest(options, props);\n    }\n    async authHeaders(opts) {\n        if (typeof this._options.apiKey === 'string') {\n            return (0, headers_1.buildHeaders)([{ 'api-key': this.apiKey }]);\n        }\n        return super.authHeaders(opts);\n    }\n}\nexports.AzureOpenAI = AzureOpenAI;\nconst _deployments_endpoints = new Set([\n    '/completions',\n    '/chat/completions',\n    '/embeddings',\n    '/audio/transcriptions',\n    '/audio/translations',\n    '/audio/speech',\n    '/images/generations',\n    '/batches',\n    '/images/edits',\n]);\n//# sourceMappingURL=azure.js.map","module.exports = require(\"net\");","'use strict';\n\n/** @type {import('./range')} */\nmodule.exports = RangeError;\n","/*! Axios v1.12.2 Copyright (c) 2025 Matt Zabriskie and contributors */\n'use strict';\n\nconst FormData$1 = require('form-data');\nconst crypto = require('crypto');\nconst url = require('url');\nconst proxyFromEnv = require('proxy-from-env');\nconst http = require('http');\nconst https = require('https');\nconst util = require('util');\nconst followRedirects = require('follow-redirects');\nconst zlib = require('zlib');\nconst stream = require('stream');\nconst events = require('events');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nconst FormData__default = /*#__PURE__*/_interopDefaultLegacy(FormData$1);\nconst crypto__default = /*#__PURE__*/_interopDefaultLegacy(crypto);\nconst url__default = /*#__PURE__*/_interopDefaultLegacy(url);\nconst proxyFromEnv__default = /*#__PURE__*/_interopDefaultLegacy(proxyFromEnv);\nconst http__default = /*#__PURE__*/_interopDefaultLegacy(http);\nconst https__default = /*#__PURE__*/_interopDefaultLegacy(https);\nconst util__default = /*#__PURE__*/_interopDefaultLegacy(util);\nconst followRedirects__default = /*#__PURE__*/_interopDefaultLegacy(followRedirects);\nconst zlib__default = /*#__PURE__*/_interopDefaultLegacy(zlib);\nconst stream__default = /*#__PURE__*/_interopDefaultLegacy(stream);\n\nfunction bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\nconst {iterator, toStringTag} = Symbol;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n};\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction$1(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction$1 = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(toStringTag in val) && !(iterator in val);\n};\n\n/**\n * Determine if a value is an empty object (safely handles Buffers)\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an empty object, otherwise false\n */\nconst isEmptyObject = (val) => {\n  // Early return for non-objects or Buffers to prevent RangeError\n  if (!isObject(val) || isBuffer(val)) {\n    return false;\n  }\n\n  try {\n    return Object.keys(val).length === 0 && Object.getPrototypeOf(val) === Object.prototype;\n  } catch (e) {\n    // Fallback for any other objects that might cause RangeError with Object.keys()\n    return false;\n  }\n};\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction$1(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction$1(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction$1(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n};\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Buffer check\n    if (isBuffer(obj)) {\n      return;\n    }\n\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  if (isBuffer(obj)){\n    return null;\n  }\n\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless, skipUndefined} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else if (!skipUndefined || !isUndefined(val)) {\n      result[targetKey] = val;\n    }\n  };\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction$1(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n};\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n};\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n};\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n};\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n};\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n};\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[iterator];\n\n  const _iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = _iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n};\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n};\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n};\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction$1(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction$1(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n};\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  };\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n};\n\nconst noop = () => {};\n\nconst toFiniteNumber = (value, defaultValue) => {\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\n};\n\n\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction$1(thing.append) && thing[toStringTag] === 'FormData' && thing[iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      //Buffer check\n      if (isBuffer(source)) {\n        return source;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  };\n\n  return visit(obj, 0);\n};\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction$1(thing)) && isFunction$1(thing.then) && isFunction$1(thing.catch);\n\n// original code\n// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34\n\nconst _setImmediate = ((setImmediateSupported, postMessageSupported) => {\n  if (setImmediateSupported) {\n    return setImmediate;\n  }\n\n  return postMessageSupported ? ((token, callbacks) => {\n    _global.addEventListener(\"message\", ({source, data}) => {\n      if (source === _global && data === token) {\n        callbacks.length && callbacks.shift()();\n      }\n    }, false);\n\n    return (cb) => {\n      callbacks.push(cb);\n      _global.postMessage(token, \"*\");\n    }\n  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);\n})(\n  typeof setImmediate === 'function',\n  isFunction$1(_global.postMessage)\n);\n\nconst asap = typeof queueMicrotask !== 'undefined' ?\n  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);\n\n// *********************\n\n\nconst isIterable = (thing) => thing != null && isFunction$1(thing[iterator]);\n\n\nconst utils$1 = {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isEmptyObject,\n  isReadableStream,\n  isRequest,\n  isResponse,\n  isHeaders,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction: isFunction$1,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable,\n  setImmediate: _setImmediate,\n  asap,\n  isIterable\n};\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  if (response) {\n    this.response = response;\n    this.status = response.status ? response.status : null;\n  }\n}\n\nutils$1.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils$1.toJSONObject(this.config),\n      code: this.code,\n      status: this.status\n    };\n  }\n});\n\nconst prototype$1 = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype$1, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype$1);\n\n  utils$1.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  const msg = error && error.message ? error.message : 'Error';\n\n  // Prefer explicit code; otherwise copy the low-level error's code (e.g. ECONNREFUSED)\n  const errCode = code == null && error ? error.code : code;\n  AxiosError.call(axiosError, msg, errCode, config, request, response);\n\n  // Chain the original error on the standard field; non-enumerable to avoid JSON noise\n  if (error && axiosError.cause == null) {\n    Object.defineProperty(axiosError, 'cause', { value: error, configurable: true });\n  }\n\n  axiosError.name = (error && error.name) || 'Error';\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils$1.isPlainObject(thing) || utils$1.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils$1.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils$1.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils$1.toFlatObject(utils$1, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils$1.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (FormData__default[\"default\"] || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils$1.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils$1.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils$1.isSpecCompliantForm(formData);\n\n  if (!utils$1.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils$1.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (utils$1.isBoolean(value)) {\n      return value.toString();\n    }\n\n    if (!useBlob && utils$1.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils$1.isArrayBuffer(value) || utils$1.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils$1.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils$1.isArray(value) && isFlatArray(value)) ||\n        ((utils$1.isFileList(value) || utils$1.endsWith(key, '[]')) && (arr = utils$1.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils$1.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils$1.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils$1.forEach(value, function each(el, key) {\n      const result = !(utils$1.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils$1.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils$1.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode$1(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode$1);\n  } : encode$1;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?(object|Function)} options\n *\n * @returns {string} The formatted url\n */\nfunction buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  if (utils$1.isFunction(options)) {\n    options = {\n      serialize: options\n    };\n  } \n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils$1.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils$1.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nconst InterceptorManager$1 = InterceptorManager;\n\nconst transitionalDefaults = {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n\nconst URLSearchParams = url__default[\"default\"].URLSearchParams;\n\nconst ALPHA = 'abcdefghijklmnopqrstuvwxyz';\n\nconst DIGIT = '0123456789';\n\nconst ALPHABET = {\n  DIGIT,\n  ALPHA,\n  ALPHA_DIGIT: ALPHA + ALPHA.toUpperCase() + DIGIT\n};\n\nconst generateString = (size = 16, alphabet = ALPHABET.ALPHA_DIGIT) => {\n  let str = '';\n  const {length} = alphabet;\n  const randomValues = new Uint32Array(size);\n  crypto__default[\"default\"].randomFillSync(randomValues);\n  for (let i = 0; i < size; i++) {\n    str += alphabet[randomValues[i] % length];\n  }\n\n  return str;\n};\n\n\nconst platform$1 = {\n  isNode: true,\n  classes: {\n    URLSearchParams,\n    FormData: FormData__default[\"default\"],\n    Blob: typeof Blob !== 'undefined' && Blob || null\n  },\n  ALPHABET,\n  generateString,\n  protocols: [ 'http', 'https', 'file', 'data' ]\n};\n\nconst hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nconst _navigator = typeof navigator === 'object' && navigator || undefined;\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = hasBrowserEnv &&\n  (!_navigator || ['ReactNative', 'NativeScript', 'NS'].indexOf(_navigator.product) < 0);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nconst origin = hasBrowserEnv && window.location.href || 'http://localhost';\n\nconst utils = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  hasBrowserEnv: hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv: hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv: hasStandardBrowserEnv,\n  navigator: _navigator,\n  origin: origin\n});\n\nconst platform = {\n  ...utils,\n  ...platform$1\n};\n\nfunction toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), {\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils$1.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    },\n    ...options\n  });\n}\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils$1.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils$1.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils$1.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils$1.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils$1.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils$1.isFormData(formData) && utils$1.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils$1.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils$1.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils$1.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http', 'fetch'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils$1.isObject(data);\n\n    if (isObjectPayload && utils$1.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils$1.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils$1.isArrayBuffer(data) ||\n      utils$1.isBuffer(data) ||\n      utils$1.isStream(data) ||\n      utils$1.isFile(data) ||\n      utils$1.isBlob(data) ||\n      utils$1.isReadableStream(data)\n    ) {\n      return data;\n    }\n    if (utils$1.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils$1.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils$1.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (utils$1.isResponse(data) || utils$1.isReadableStream(data)) {\n      return data;\n    }\n\n    if (data && utils$1.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data, this.parseReviver);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils$1.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nconst defaults$1 = defaults;\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils$1.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nconst parseHeaders = rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils$1.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils$1.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils$1.isString(value)) return;\n\n  if (utils$1.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils$1.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils$1.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils$1.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils$1.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils$1.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite);\n    } else if(utils$1.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else if (utils$1.isObject(header) && utils$1.isIterable(header)) {\n      let obj = {}, dest, key;\n      for (const entry of header) {\n        if (!utils$1.isArray(entry)) {\n          throw TypeError('Object iterator must return a key-value pair');\n        }\n\n        obj[key = entry[0]] = (dest = obj[key]) ?\n          (utils$1.isArray(dest) ? [...dest, entry[1]] : [dest, entry[1]]) : entry[1];\n      }\n\n      setHeaders(obj, valueOrRewrite);\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils$1.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils$1.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils$1.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils$1.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils$1.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils$1.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils$1.forEach(this, (value, header) => {\n      const key = utils$1.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils$1.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils$1.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  getSetCookie() {\n    return this.get(\"set-cookie\") || [];\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils$1.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils$1.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils$1.freezeMethods(AxiosHeaders);\n\nconst AxiosHeaders$1 = AxiosHeaders;\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nfunction transformData(fns, response) {\n  const config = this || defaults$1;\n  const context = response || config;\n  const headers = AxiosHeaders$1.from(context.headers);\n  let data = context.data;\n\n  utils$1.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n\nfunction isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils$1.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nfunction settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nfunction isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nfunction combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nfunction buildFullPath(baseURL, requestedURL, allowAbsoluteUrls) {\n  let isRelativeUrl = !isAbsoluteURL(requestedURL);\n  if (baseURL && (isRelativeUrl || allowAbsoluteUrls == false)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n\nconst VERSION = \"1.12.2\";\n\nfunction parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n\nconst DATA_URL_PATTERN = /^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\\s\\S]*)$/;\n\n/**\n * Parse data uri to a Buffer or Blob\n *\n * @param {String} uri\n * @param {?Boolean} asBlob\n * @param {?Object} options\n * @param {?Function} options.Blob\n *\n * @returns {Buffer|Blob}\n */\nfunction fromDataURI(uri, asBlob, options) {\n  const _Blob = options && options.Blob || platform.classes.Blob;\n  const protocol = parseProtocol(uri);\n\n  if (asBlob === undefined && _Blob) {\n    asBlob = true;\n  }\n\n  if (protocol === 'data') {\n    uri = protocol.length ? uri.slice(protocol.length + 1) : uri;\n\n    const match = DATA_URL_PATTERN.exec(uri);\n\n    if (!match) {\n      throw new AxiosError('Invalid URL', AxiosError.ERR_INVALID_URL);\n    }\n\n    const mime = match[1];\n    const isBase64 = match[2];\n    const body = match[3];\n    const buffer = Buffer.from(decodeURIComponent(body), isBase64 ? 'base64' : 'utf8');\n\n    if (asBlob) {\n      if (!_Blob) {\n        throw new AxiosError('Blob is not supported', AxiosError.ERR_NOT_SUPPORT);\n      }\n\n      return new _Blob([buffer], {type: mime});\n    }\n\n    return buffer;\n  }\n\n  throw new AxiosError('Unsupported protocol ' + protocol, AxiosError.ERR_NOT_SUPPORT);\n}\n\nconst kInternals = Symbol('internals');\n\nclass AxiosTransformStream extends stream__default[\"default\"].Transform{\n  constructor(options) {\n    options = utils$1.toFlatObject(options, {\n      maxRate: 0,\n      chunkSize: 64 * 1024,\n      minChunkSize: 100,\n      timeWindow: 500,\n      ticksRate: 2,\n      samplesCount: 15\n    }, null, (prop, source) => {\n      return !utils$1.isUndefined(source[prop]);\n    });\n\n    super({\n      readableHighWaterMark: options.chunkSize\n    });\n\n    const internals = this[kInternals] = {\n      timeWindow: options.timeWindow,\n      chunkSize: options.chunkSize,\n      maxRate: options.maxRate,\n      minChunkSize: options.minChunkSize,\n      bytesSeen: 0,\n      isCaptured: false,\n      notifiedBytesLoaded: 0,\n      ts: Date.now(),\n      bytes: 0,\n      onReadCallback: null\n    };\n\n    this.on('newListener', event => {\n      if (event === 'progress') {\n        if (!internals.isCaptured) {\n          internals.isCaptured = true;\n        }\n      }\n    });\n  }\n\n  _read(size) {\n    const internals = this[kInternals];\n\n    if (internals.onReadCallback) {\n      internals.onReadCallback();\n    }\n\n    return super._read(size);\n  }\n\n  _transform(chunk, encoding, callback) {\n    const internals = this[kInternals];\n    const maxRate = internals.maxRate;\n\n    const readableHighWaterMark = this.readableHighWaterMark;\n\n    const timeWindow = internals.timeWindow;\n\n    const divider = 1000 / timeWindow;\n    const bytesThreshold = (maxRate / divider);\n    const minChunkSize = internals.minChunkSize !== false ? Math.max(internals.minChunkSize, bytesThreshold * 0.01) : 0;\n\n    const pushChunk = (_chunk, _callback) => {\n      const bytes = Buffer.byteLength(_chunk);\n      internals.bytesSeen += bytes;\n      internals.bytes += bytes;\n\n      internals.isCaptured && this.emit('progress', internals.bytesSeen);\n\n      if (this.push(_chunk)) {\n        process.nextTick(_callback);\n      } else {\n        internals.onReadCallback = () => {\n          internals.onReadCallback = null;\n          process.nextTick(_callback);\n        };\n      }\n    };\n\n    const transformChunk = (_chunk, _callback) => {\n      const chunkSize = Buffer.byteLength(_chunk);\n      let chunkRemainder = null;\n      let maxChunkSize = readableHighWaterMark;\n      let bytesLeft;\n      let passed = 0;\n\n      if (maxRate) {\n        const now = Date.now();\n\n        if (!internals.ts || (passed = (now - internals.ts)) >= timeWindow) {\n          internals.ts = now;\n          bytesLeft = bytesThreshold - internals.bytes;\n          internals.bytes = bytesLeft < 0 ? -bytesLeft : 0;\n          passed = 0;\n        }\n\n        bytesLeft = bytesThreshold - internals.bytes;\n      }\n\n      if (maxRate) {\n        if (bytesLeft <= 0) {\n          // next time window\n          return setTimeout(() => {\n            _callback(null, _chunk);\n          }, timeWindow - passed);\n        }\n\n        if (bytesLeft < maxChunkSize) {\n          maxChunkSize = bytesLeft;\n        }\n      }\n\n      if (maxChunkSize && chunkSize > maxChunkSize && (chunkSize - maxChunkSize) > minChunkSize) {\n        chunkRemainder = _chunk.subarray(maxChunkSize);\n        _chunk = _chunk.subarray(0, maxChunkSize);\n      }\n\n      pushChunk(_chunk, chunkRemainder ? () => {\n        process.nextTick(_callback, null, chunkRemainder);\n      } : _callback);\n    };\n\n    transformChunk(chunk, function transformNextChunk(err, _chunk) {\n      if (err) {\n        return callback(err);\n      }\n\n      if (_chunk) {\n        transformChunk(_chunk, transformNextChunk);\n      } else {\n        callback(null);\n      }\n    });\n  }\n}\n\nconst AxiosTransformStream$1 = AxiosTransformStream;\n\nconst {asyncIterator} = Symbol;\n\nconst readBlob = async function* (blob) {\n  if (blob.stream) {\n    yield* blob.stream();\n  } else if (blob.arrayBuffer) {\n    yield await blob.arrayBuffer();\n  } else if (blob[asyncIterator]) {\n    yield* blob[asyncIterator]();\n  } else {\n    yield blob;\n  }\n};\n\nconst readBlob$1 = readBlob;\n\nconst BOUNDARY_ALPHABET = platform.ALPHABET.ALPHA_DIGIT + '-_';\n\nconst textEncoder = typeof TextEncoder === 'function' ? new TextEncoder() : new util__default[\"default\"].TextEncoder();\n\nconst CRLF = '\\r\\n';\nconst CRLF_BYTES = textEncoder.encode(CRLF);\nconst CRLF_BYTES_COUNT = 2;\n\nclass FormDataPart {\n  constructor(name, value) {\n    const {escapeName} = this.constructor;\n    const isStringValue = utils$1.isString(value);\n\n    let headers = `Content-Disposition: form-data; name=\"${escapeName(name)}\"${\n      !isStringValue && value.name ? `; filename=\"${escapeName(value.name)}\"` : ''\n    }${CRLF}`;\n\n    if (isStringValue) {\n      value = textEncoder.encode(String(value).replace(/\\r?\\n|\\r\\n?/g, CRLF));\n    } else {\n      headers += `Content-Type: ${value.type || \"application/octet-stream\"}${CRLF}`;\n    }\n\n    this.headers = textEncoder.encode(headers + CRLF);\n\n    this.contentLength = isStringValue ? value.byteLength : value.size;\n\n    this.size = this.headers.byteLength + this.contentLength + CRLF_BYTES_COUNT;\n\n    this.name = name;\n    this.value = value;\n  }\n\n  async *encode(){\n    yield this.headers;\n\n    const {value} = this;\n\n    if(utils$1.isTypedArray(value)) {\n      yield value;\n    } else {\n      yield* readBlob$1(value);\n    }\n\n    yield CRLF_BYTES;\n  }\n\n  static escapeName(name) {\n      return String(name).replace(/[\\r\\n\"]/g, (match) => ({\n        '\\r' : '%0D',\n        '\\n' : '%0A',\n        '\"' : '%22',\n      }[match]));\n  }\n}\n\nconst formDataToStream = (form, headersHandler, options) => {\n  const {\n    tag = 'form-data-boundary',\n    size = 25,\n    boundary = tag + '-' + platform.generateString(size, BOUNDARY_ALPHABET)\n  } = options || {};\n\n  if(!utils$1.isFormData(form)) {\n    throw TypeError('FormData instance required');\n  }\n\n  if (boundary.length < 1 || boundary.length > 70) {\n    throw Error('boundary must be 10-70 characters long')\n  }\n\n  const boundaryBytes = textEncoder.encode('--' + boundary + CRLF);\n  const footerBytes = textEncoder.encode('--' + boundary + '--' + CRLF);\n  let contentLength = footerBytes.byteLength;\n\n  const parts = Array.from(form.entries()).map(([name, value]) => {\n    const part = new FormDataPart(name, value);\n    contentLength += part.size;\n    return part;\n  });\n\n  contentLength += boundaryBytes.byteLength * parts.length;\n\n  contentLength = utils$1.toFiniteNumber(contentLength);\n\n  const computedHeaders = {\n    'Content-Type': `multipart/form-data; boundary=${boundary}`\n  };\n\n  if (Number.isFinite(contentLength)) {\n    computedHeaders['Content-Length'] = contentLength;\n  }\n\n  headersHandler && headersHandler(computedHeaders);\n\n  return stream.Readable.from((async function *() {\n    for(const part of parts) {\n      yield boundaryBytes;\n      yield* part.encode();\n    }\n\n    yield footerBytes;\n  })());\n};\n\nconst formDataToStream$1 = formDataToStream;\n\nclass ZlibHeaderTransformStream extends stream__default[\"default\"].Transform {\n  __transform(chunk, encoding, callback) {\n    this.push(chunk);\n    callback();\n  }\n\n  _transform(chunk, encoding, callback) {\n    if (chunk.length !== 0) {\n      this._transform = this.__transform;\n\n      // Add Default Compression headers if no zlib headers are present\n      if (chunk[0] !== 120) { // Hex: 78\n        const header = Buffer.alloc(2);\n        header[0] = 120; // Hex: 78\n        header[1] = 156; // Hex: 9C \n        this.push(header, encoding);\n      }\n    }\n\n    this.__transform(chunk, encoding, callback);\n  }\n}\n\nconst ZlibHeaderTransformStream$1 = ZlibHeaderTransformStream;\n\nconst callbackify = (fn, reducer) => {\n  return utils$1.isAsyncFn(fn) ? function (...args) {\n    const cb = args.pop();\n    fn.apply(this, args).then((value) => {\n      try {\n        reducer ? cb(null, ...reducer(value)) : cb(null, value);\n      } catch (err) {\n        cb(err);\n      }\n    }, cb);\n  } : fn;\n};\n\nconst callbackify$1 = callbackify;\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\n/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  let threshold = 1000 / freq;\n  let lastArgs;\n  let timer;\n\n  const invoke = (args, now = Date.now()) => {\n    timestamp = now;\n    lastArgs = null;\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n    fn(...args);\n  };\n\n  const throttled = (...args) => {\n    const now = Date.now();\n    const passed = now - timestamp;\n    if ( passed >= threshold) {\n      invoke(args, now);\n    } else {\n      lastArgs = args;\n      if (!timer) {\n        timer = setTimeout(() => {\n          timer = null;\n          invoke(lastArgs);\n        }, threshold - passed);\n      }\n    }\n  };\n\n  const flush = () => lastArgs && invoke(lastArgs);\n\n  return [throttled, flush];\n}\n\nconst progressEventReducer = (listener, isDownloadStream, freq = 3) => {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return throttle(e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e,\n      lengthComputable: total != null,\n      [isDownloadStream ? 'download' : 'upload']: true\n    };\n\n    listener(data);\n  }, freq);\n};\n\nconst progressEventDecorator = (total, throttled) => {\n  const lengthComputable = total != null;\n\n  return [(loaded) => throttled[0]({\n    lengthComputable,\n    total,\n    loaded\n  }), throttled[1]];\n};\n\nconst asyncDecorator = (fn) => (...args) => utils$1.asap(() => fn(...args));\n\n/**\n * Estimate decoded byte length of a data:// URL *without* allocating large buffers.\n * - For base64: compute exact decoded size using length and padding;\n *               handle %XX at the character-count level (no string allocation).\n * - For non-base64: use UTF-8 byteLength of the encoded body as a safe upper bound.\n *\n * @param {string} url\n * @returns {number}\n */\nfunction estimateDataURLDecodedBytes(url) {\n  if (!url || typeof url !== 'string') return 0;\n  if (!url.startsWith('data:')) return 0;\n\n  const comma = url.indexOf(',');\n  if (comma < 0) return 0;\n\n  const meta = url.slice(5, comma);\n  const body = url.slice(comma + 1);\n  const isBase64 = /;base64/i.test(meta);\n\n  if (isBase64) {\n    let effectiveLen = body.length;\n    const len = body.length; // cache length\n\n    for (let i = 0; i < len; i++) {\n      if (body.charCodeAt(i) === 37 /* '%' */ && i + 2 < len) {\n        const a = body.charCodeAt(i + 1);\n        const b = body.charCodeAt(i + 2);\n        const isHex =\n          ((a >= 48 && a <= 57) || (a >= 65 && a <= 70) || (a >= 97 && a <= 102)) &&\n          ((b >= 48 && b <= 57) || (b >= 65 && b <= 70) || (b >= 97 && b <= 102));\n\n        if (isHex) {\n          effectiveLen -= 2;\n          i += 2;\n        }\n      }\n    }\n\n    let pad = 0;\n    let idx = len - 1;\n\n    const tailIsPct3D = (j) =>\n      j >= 2 &&\n      body.charCodeAt(j - 2) === 37 && // '%'\n      body.charCodeAt(j - 1) === 51 && // '3'\n      (body.charCodeAt(j) === 68 || body.charCodeAt(j) === 100); // 'D' or 'd'\n\n    if (idx >= 0) {\n      if (body.charCodeAt(idx) === 61 /* '=' */) {\n        pad++;\n        idx--;\n      } else if (tailIsPct3D(idx)) {\n        pad++;\n        idx -= 3;\n      }\n    }\n\n    if (pad === 1 && idx >= 0) {\n      if (body.charCodeAt(idx) === 61 /* '=' */) {\n        pad++;\n      } else if (tailIsPct3D(idx)) {\n        pad++;\n      }\n    }\n\n    const groups = Math.floor(effectiveLen / 4);\n    const bytes = groups * 3 - (pad || 0);\n    return bytes > 0 ? bytes : 0;\n  }\n\n  return Buffer.byteLength(body, 'utf8');\n}\n\nconst zlibOptions = {\n  flush: zlib__default[\"default\"].constants.Z_SYNC_FLUSH,\n  finishFlush: zlib__default[\"default\"].constants.Z_SYNC_FLUSH\n};\n\nconst brotliOptions = {\n  flush: zlib__default[\"default\"].constants.BROTLI_OPERATION_FLUSH,\n  finishFlush: zlib__default[\"default\"].constants.BROTLI_OPERATION_FLUSH\n};\n\nconst isBrotliSupported = utils$1.isFunction(zlib__default[\"default\"].createBrotliDecompress);\n\nconst {http: httpFollow, https: httpsFollow} = followRedirects__default[\"default\"];\n\nconst isHttps = /https:?/;\n\nconst supportedProtocols = platform.protocols.map(protocol => {\n  return protocol + ':';\n});\n\n\nconst flushOnFinish = (stream, [throttled, flush]) => {\n  stream\n    .on('end', flush)\n    .on('error', flush);\n\n  return throttled;\n};\n\n\n/**\n * If the proxy or config beforeRedirects functions are defined, call them with the options\n * object.\n *\n * @param {Object<string, any>} options - The options object that was passed to the request.\n *\n * @returns {Object<string, any>}\n */\nfunction dispatchBeforeRedirect(options, responseDetails) {\n  if (options.beforeRedirects.proxy) {\n    options.beforeRedirects.proxy(options);\n  }\n  if (options.beforeRedirects.config) {\n    options.beforeRedirects.config(options, responseDetails);\n  }\n}\n\n/**\n * If the proxy or config afterRedirects functions are defined, call them with the options\n *\n * @param {http.ClientRequestArgs} options\n * @param {AxiosProxyConfig} configProxy configuration from Axios options object\n * @param {string} location\n *\n * @returns {http.ClientRequestArgs}\n */\nfunction setProxy(options, configProxy, location) {\n  let proxy = configProxy;\n  if (!proxy && proxy !== false) {\n    const proxyUrl = proxyFromEnv__default[\"default\"].getProxyForUrl(location);\n    if (proxyUrl) {\n      proxy = new URL(proxyUrl);\n    }\n  }\n  if (proxy) {\n    // Basic proxy authorization\n    if (proxy.username) {\n      proxy.auth = (proxy.username || '') + ':' + (proxy.password || '');\n    }\n\n    if (proxy.auth) {\n      // Support proxy auth object form\n      if (proxy.auth.username || proxy.auth.password) {\n        proxy.auth = (proxy.auth.username || '') + ':' + (proxy.auth.password || '');\n      }\n      const base64 = Buffer\n        .from(proxy.auth, 'utf8')\n        .toString('base64');\n      options.headers['Proxy-Authorization'] = 'Basic ' + base64;\n    }\n\n    options.headers.host = options.hostname + (options.port ? ':' + options.port : '');\n    const proxyHost = proxy.hostname || proxy.host;\n    options.hostname = proxyHost;\n    // Replace 'host' since options is not a URL object\n    options.host = proxyHost;\n    options.port = proxy.port;\n    options.path = location;\n    if (proxy.protocol) {\n      options.protocol = proxy.protocol.includes(':') ? proxy.protocol : `${proxy.protocol}:`;\n    }\n  }\n\n  options.beforeRedirects.proxy = function beforeRedirect(redirectOptions) {\n    // Configure proxy for redirected request, passing the original config proxy to apply\n    // the exact same logic as if the redirected request was performed by axios directly.\n    setProxy(redirectOptions, configProxy, redirectOptions.href);\n  };\n}\n\nconst isHttpAdapterSupported = typeof process !== 'undefined' && utils$1.kindOf(process) === 'process';\n\n// temporary hotfix\n\nconst wrapAsync = (asyncExecutor) => {\n  return new Promise((resolve, reject) => {\n    let onDone;\n    let isDone;\n\n    const done = (value, isRejected) => {\n      if (isDone) return;\n      isDone = true;\n      onDone && onDone(value, isRejected);\n    };\n\n    const _resolve = (value) => {\n      done(value);\n      resolve(value);\n    };\n\n    const _reject = (reason) => {\n      done(reason, true);\n      reject(reason);\n    };\n\n    asyncExecutor(_resolve, _reject, (onDoneHandler) => (onDone = onDoneHandler)).catch(_reject);\n  })\n};\n\nconst resolveFamily = ({address, family}) => {\n  if (!utils$1.isString(address)) {\n    throw TypeError('address must be a string');\n  }\n  return ({\n    address,\n    family: family || (address.indexOf('.') < 0 ? 6 : 4)\n  });\n};\n\nconst buildAddressEntry = (address, family) => resolveFamily(utils$1.isObject(address) ? address : {address, family});\n\n/*eslint consistent-return:0*/\nconst httpAdapter = isHttpAdapterSupported && function httpAdapter(config) {\n  return wrapAsync(async function dispatchHttpRequest(resolve, reject, onDone) {\n    let {data, lookup, family} = config;\n    const {responseType, responseEncoding} = config;\n    const method = config.method.toUpperCase();\n    let isDone;\n    let rejected = false;\n    let req;\n\n    if (lookup) {\n      const _lookup = callbackify$1(lookup, (value) => utils$1.isArray(value) ? value : [value]);\n      // hotfix to support opt.all option which is required for node 20.x\n      lookup = (hostname, opt, cb) => {\n        _lookup(hostname, opt, (err, arg0, arg1) => {\n          if (err) {\n            return cb(err);\n          }\n\n          const addresses = utils$1.isArray(arg0) ? arg0.map(addr => buildAddressEntry(addr)) : [buildAddressEntry(arg0, arg1)];\n\n          opt.all ? cb(err, addresses) : cb(err, addresses[0].address, addresses[0].family);\n        });\n      };\n    }\n\n    // temporary internal emitter until the AxiosRequest class will be implemented\n    const emitter = new events.EventEmitter();\n\n    const onFinished = () => {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(abort);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', abort);\n      }\n\n      emitter.removeAllListeners();\n    };\n\n    onDone((value, isRejected) => {\n      isDone = true;\n      if (isRejected) {\n        rejected = true;\n        onFinished();\n      }\n    });\n\n    function abort(reason) {\n      emitter.emit('abort', !reason || reason.type ? new CanceledError(null, config, req) : reason);\n    }\n\n    emitter.once('abort', reject);\n\n    if (config.cancelToken || config.signal) {\n      config.cancelToken && config.cancelToken.subscribe(abort);\n      if (config.signal) {\n        config.signal.aborted ? abort() : config.signal.addEventListener('abort', abort);\n      }\n    }\n\n    // Parse url\n    const fullPath = buildFullPath(config.baseURL, config.url, config.allowAbsoluteUrls);\n    const parsed = new URL(fullPath, platform.hasBrowserEnv ? platform.origin : undefined);\n    const protocol = parsed.protocol || supportedProtocols[0];\n\n    if (protocol === 'data:') {\n      // Apply the same semantics as HTTP: only enforce if a finite, non-negative cap is set.\n      if (config.maxContentLength > -1) {\n        // Use the exact string passed to fromDataURI (config.url); fall back to fullPath if needed.\n        const dataUrl = String(config.url || fullPath || '');\n        const estimated = estimateDataURLDecodedBytes(dataUrl);\n\n        if (estimated > config.maxContentLength) {\n          return reject(new AxiosError(\n            'maxContentLength size of ' + config.maxContentLength + ' exceeded',\n            AxiosError.ERR_BAD_RESPONSE,\n            config\n          ));\n        }\n      }\n\n      let convertedData;\n\n      if (method !== 'GET') {\n        return settle(resolve, reject, {\n          status: 405,\n          statusText: 'method not allowed',\n          headers: {},\n          config\n        });\n      }\n\n      try {\n        convertedData = fromDataURI(config.url, responseType === 'blob', {\n          Blob: config.env && config.env.Blob\n        });\n      } catch (err) {\n        throw AxiosError.from(err, AxiosError.ERR_BAD_REQUEST, config);\n      }\n\n      if (responseType === 'text') {\n        convertedData = convertedData.toString(responseEncoding);\n\n        if (!responseEncoding || responseEncoding === 'utf8') {\n          convertedData = utils$1.stripBOM(convertedData);\n        }\n      } else if (responseType === 'stream') {\n        convertedData = stream__default[\"default\"].Readable.from(convertedData);\n      }\n\n      return settle(resolve, reject, {\n        data: convertedData,\n        status: 200,\n        statusText: 'OK',\n        headers: new AxiosHeaders$1(),\n        config\n      });\n    }\n\n    if (supportedProtocols.indexOf(protocol) === -1) {\n      return reject(new AxiosError(\n        'Unsupported protocol ' + protocol,\n        AxiosError.ERR_BAD_REQUEST,\n        config\n      ));\n    }\n\n    const headers = AxiosHeaders$1.from(config.headers).normalize();\n\n    // Set User-Agent (required by some servers)\n    // See https://github.com/axios/axios/issues/69\n    // User-Agent is specified; handle case where no UA header is desired\n    // Only set header if it hasn't been set in config\n    headers.set('User-Agent', 'axios/' + VERSION, false);\n\n    const {onUploadProgress, onDownloadProgress} = config;\n    const maxRate = config.maxRate;\n    let maxUploadRate = undefined;\n    let maxDownloadRate = undefined;\n\n    // support for spec compliant FormData objects\n    if (utils$1.isSpecCompliantForm(data)) {\n      const userBoundary = headers.getContentType(/boundary=([-_\\w\\d]{10,70})/i);\n\n      data = formDataToStream$1(data, (formHeaders) => {\n        headers.set(formHeaders);\n      }, {\n        tag: `axios-${VERSION}-boundary`,\n        boundary: userBoundary && userBoundary[1] || undefined\n      });\n      // support for https://www.npmjs.com/package/form-data api\n    } else if (utils$1.isFormData(data) && utils$1.isFunction(data.getHeaders)) {\n      headers.set(data.getHeaders());\n\n      if (!headers.hasContentLength()) {\n        try {\n          const knownLength = await util__default[\"default\"].promisify(data.getLength).call(data);\n          Number.isFinite(knownLength) && knownLength >= 0 && headers.setContentLength(knownLength);\n          /*eslint no-empty:0*/\n        } catch (e) {\n        }\n      }\n    } else if (utils$1.isBlob(data) || utils$1.isFile(data)) {\n      data.size && headers.setContentType(data.type || 'application/octet-stream');\n      headers.setContentLength(data.size || 0);\n      data = stream__default[\"default\"].Readable.from(readBlob$1(data));\n    } else if (data && !utils$1.isStream(data)) {\n      if (Buffer.isBuffer(data)) ; else if (utils$1.isArrayBuffer(data)) {\n        data = Buffer.from(new Uint8Array(data));\n      } else if (utils$1.isString(data)) {\n        data = Buffer.from(data, 'utf-8');\n      } else {\n        return reject(new AxiosError(\n          'Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream',\n          AxiosError.ERR_BAD_REQUEST,\n          config\n        ));\n      }\n\n      // Add Content-Length header if data exists\n      headers.setContentLength(data.length, false);\n\n      if (config.maxBodyLength > -1 && data.length > config.maxBodyLength) {\n        return reject(new AxiosError(\n          'Request body larger than maxBodyLength limit',\n          AxiosError.ERR_BAD_REQUEST,\n          config\n        ));\n      }\n    }\n\n    const contentLength = utils$1.toFiniteNumber(headers.getContentLength());\n\n    if (utils$1.isArray(maxRate)) {\n      maxUploadRate = maxRate[0];\n      maxDownloadRate = maxRate[1];\n    } else {\n      maxUploadRate = maxDownloadRate = maxRate;\n    }\n\n    if (data && (onUploadProgress || maxUploadRate)) {\n      if (!utils$1.isStream(data)) {\n        data = stream__default[\"default\"].Readable.from(data, {objectMode: false});\n      }\n\n      data = stream__default[\"default\"].pipeline([data, new AxiosTransformStream$1({\n        maxRate: utils$1.toFiniteNumber(maxUploadRate)\n      })], utils$1.noop);\n\n      onUploadProgress && data.on('progress', flushOnFinish(\n        data,\n        progressEventDecorator(\n          contentLength,\n          progressEventReducer(asyncDecorator(onUploadProgress), false, 3)\n        )\n      ));\n    }\n\n    // HTTP basic authentication\n    let auth = undefined;\n    if (config.auth) {\n      const username = config.auth.username || '';\n      const password = config.auth.password || '';\n      auth = username + ':' + password;\n    }\n\n    if (!auth && parsed.username) {\n      const urlUsername = parsed.username;\n      const urlPassword = parsed.password;\n      auth = urlUsername + ':' + urlPassword;\n    }\n\n    auth && headers.delete('authorization');\n\n    let path;\n\n    try {\n      path = buildURL(\n        parsed.pathname + parsed.search,\n        config.params,\n        config.paramsSerializer\n      ).replace(/^\\?/, '');\n    } catch (err) {\n      const customErr = new Error(err.message);\n      customErr.config = config;\n      customErr.url = config.url;\n      customErr.exists = true;\n      return reject(customErr);\n    }\n\n    headers.set(\n      'Accept-Encoding',\n      'gzip, compress, deflate' + (isBrotliSupported ? ', br' : ''), false\n      );\n\n    const options = {\n      path,\n      method: method,\n      headers: headers.toJSON(),\n      agents: { http: config.httpAgent, https: config.httpsAgent },\n      auth,\n      protocol,\n      family,\n      beforeRedirect: dispatchBeforeRedirect,\n      beforeRedirects: {}\n    };\n\n    // cacheable-lookup integration hotfix\n    !utils$1.isUndefined(lookup) && (options.lookup = lookup);\n\n    if (config.socketPath) {\n      options.socketPath = config.socketPath;\n    } else {\n      options.hostname = parsed.hostname.startsWith(\"[\") ? parsed.hostname.slice(1, -1) : parsed.hostname;\n      options.port = parsed.port;\n      setProxy(options, config.proxy, protocol + '//' + parsed.hostname + (parsed.port ? ':' + parsed.port : '') + options.path);\n    }\n\n    let transport;\n    const isHttpsRequest = isHttps.test(options.protocol);\n    options.agent = isHttpsRequest ? config.httpsAgent : config.httpAgent;\n    if (config.transport) {\n      transport = config.transport;\n    } else if (config.maxRedirects === 0) {\n      transport = isHttpsRequest ? https__default[\"default\"] : http__default[\"default\"];\n    } else {\n      if (config.maxRedirects) {\n        options.maxRedirects = config.maxRedirects;\n      }\n      if (config.beforeRedirect) {\n        options.beforeRedirects.config = config.beforeRedirect;\n      }\n      transport = isHttpsRequest ? httpsFollow : httpFollow;\n    }\n\n    if (config.maxBodyLength > -1) {\n      options.maxBodyLength = config.maxBodyLength;\n    } else {\n      // follow-redirects does not skip comparison, so it should always succeed for axios -1 unlimited\n      options.maxBodyLength = Infinity;\n    }\n\n    if (config.insecureHTTPParser) {\n      options.insecureHTTPParser = config.insecureHTTPParser;\n    }\n\n    // Create the request\n    req = transport.request(options, function handleResponse(res) {\n      if (req.destroyed) return;\n\n      const streams = [res];\n\n      const responseLength = +res.headers['content-length'];\n\n      if (onDownloadProgress || maxDownloadRate) {\n        const transformStream = new AxiosTransformStream$1({\n          maxRate: utils$1.toFiniteNumber(maxDownloadRate)\n        });\n\n        onDownloadProgress && transformStream.on('progress', flushOnFinish(\n          transformStream,\n          progressEventDecorator(\n            responseLength,\n            progressEventReducer(asyncDecorator(onDownloadProgress), true, 3)\n          )\n        ));\n\n        streams.push(transformStream);\n      }\n\n      // decompress the response body transparently if required\n      let responseStream = res;\n\n      // return the last request in case of redirects\n      const lastRequest = res.req || req;\n\n      // if decompress disabled we should not decompress\n      if (config.decompress !== false && res.headers['content-encoding']) {\n        // if no content, but headers still say that it is encoded,\n        // remove the header not confuse downstream operations\n        if (method === 'HEAD' || res.statusCode === 204) {\n          delete res.headers['content-encoding'];\n        }\n\n        switch ((res.headers['content-encoding'] || '').toLowerCase()) {\n        /*eslint default-case:0*/\n        case 'gzip':\n        case 'x-gzip':\n        case 'compress':\n        case 'x-compress':\n          // add the unzipper to the body stream processing pipeline\n          streams.push(zlib__default[\"default\"].createUnzip(zlibOptions));\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        case 'deflate':\n          streams.push(new ZlibHeaderTransformStream$1());\n\n          // add the unzipper to the body stream processing pipeline\n          streams.push(zlib__default[\"default\"].createUnzip(zlibOptions));\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        case 'br':\n          if (isBrotliSupported) {\n            streams.push(zlib__default[\"default\"].createBrotliDecompress(brotliOptions));\n            delete res.headers['content-encoding'];\n          }\n        }\n      }\n\n      responseStream = streams.length > 1 ? stream__default[\"default\"].pipeline(streams, utils$1.noop) : streams[0];\n\n      const offListeners = stream__default[\"default\"].finished(responseStream, () => {\n        offListeners();\n        onFinished();\n      });\n\n      const response = {\n        status: res.statusCode,\n        statusText: res.statusMessage,\n        headers: new AxiosHeaders$1(res.headers),\n        config,\n        request: lastRequest\n      };\n\n      if (responseType === 'stream') {\n        response.data = responseStream;\n        settle(resolve, reject, response);\n      } else {\n        const responseBuffer = [];\n        let totalResponseBytes = 0;\n\n        responseStream.on('data', function handleStreamData(chunk) {\n          responseBuffer.push(chunk);\n          totalResponseBytes += chunk.length;\n\n          // make sure the content length is not over the maxContentLength if specified\n          if (config.maxContentLength > -1 && totalResponseBytes > config.maxContentLength) {\n            // stream.destroy() emit aborted event before calling reject() on Node.js v16\n            rejected = true;\n            responseStream.destroy();\n            reject(new AxiosError('maxContentLength size of ' + config.maxContentLength + ' exceeded',\n              AxiosError.ERR_BAD_RESPONSE, config, lastRequest));\n          }\n        });\n\n        responseStream.on('aborted', function handlerStreamAborted() {\n          if (rejected) {\n            return;\n          }\n\n          const err = new AxiosError(\n            'stream has been aborted',\n            AxiosError.ERR_BAD_RESPONSE,\n            config,\n            lastRequest\n          );\n          responseStream.destroy(err);\n          reject(err);\n        });\n\n        responseStream.on('error', function handleStreamError(err) {\n          if (req.destroyed) return;\n          reject(AxiosError.from(err, null, config, lastRequest));\n        });\n\n        responseStream.on('end', function handleStreamEnd() {\n          try {\n            let responseData = responseBuffer.length === 1 ? responseBuffer[0] : Buffer.concat(responseBuffer);\n            if (responseType !== 'arraybuffer') {\n              responseData = responseData.toString(responseEncoding);\n              if (!responseEncoding || responseEncoding === 'utf8') {\n                responseData = utils$1.stripBOM(responseData);\n              }\n            }\n            response.data = responseData;\n          } catch (err) {\n            return reject(AxiosError.from(err, null, config, response.request, response));\n          }\n          settle(resolve, reject, response);\n        });\n      }\n\n      emitter.once('abort', err => {\n        if (!responseStream.destroyed) {\n          responseStream.emit('error', err);\n          responseStream.destroy();\n        }\n      });\n    });\n\n    emitter.once('abort', err => {\n      reject(err);\n      req.destroy(err);\n    });\n\n    // Handle errors\n    req.on('error', function handleRequestError(err) {\n      // @todo remove\n      // if (req.aborted && err.code !== AxiosError.ERR_FR_TOO_MANY_REDIRECTS) return;\n      reject(AxiosError.from(err, null, config, req));\n    });\n\n    // set tcp keep alive to prevent drop connection by peer\n    req.on('socket', function handleRequestSocket(socket) {\n      // default interval of sending ack packet is 1 minute\n      socket.setKeepAlive(true, 1000 * 60);\n    });\n\n    // Handle request timeout\n    if (config.timeout) {\n      // This is forcing a int timeout to avoid problems if the `req` interface doesn't handle other types.\n      const timeout = parseInt(config.timeout, 10);\n\n      if (Number.isNaN(timeout)) {\n        reject(new AxiosError(\n          'error trying to parse `config.timeout` to int',\n          AxiosError.ERR_BAD_OPTION_VALUE,\n          config,\n          req\n        ));\n\n        return;\n      }\n\n      // Sometime, the response will be very slow, and does not respond, the connect event will be block by event loop system.\n      // And timer callback will be fired, and abort() will be invoked before connection, then get \"socket hang up\" and code ECONNRESET.\n      // At this time, if we have a large number of request, nodejs will hang up some socket on background. and the number will up and up.\n      // And then these socket which be hang up will devouring CPU little by little.\n      // ClientRequest.setTimeout will be fired on the specify milliseconds, and can make sure that abort() will be fired after connect.\n      req.setTimeout(timeout, function handleRequestTimeout() {\n        if (isDone) return;\n        let timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n        const transitional = config.transitional || transitionalDefaults;\n        if (config.timeoutErrorMessage) {\n          timeoutErrorMessage = config.timeoutErrorMessage;\n        }\n        reject(new AxiosError(\n          timeoutErrorMessage,\n          transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n          config,\n          req\n        ));\n        abort();\n      });\n    }\n\n\n    // Send the request\n    if (utils$1.isStream(data)) {\n      let ended = false;\n      let errored = false;\n\n      data.on('end', () => {\n        ended = true;\n      });\n\n      data.once('error', err => {\n        errored = true;\n        req.destroy(err);\n      });\n\n      data.on('close', () => {\n        if (!ended && !errored) {\n          abort(new CanceledError('Request stream has been aborted', config, req));\n        }\n      });\n\n      data.pipe(req);\n    } else {\n      req.end(data);\n    }\n  });\n};\n\nconst isURLSameOrigin = platform.hasStandardBrowserEnv ? ((origin, isMSIE) => (url) => {\n  url = new URL(url, platform.origin);\n\n  return (\n    origin.protocol === url.protocol &&\n    origin.host === url.host &&\n    (isMSIE || origin.port === url.port)\n  );\n})(\n  new URL(platform.origin),\n  platform.navigator && /(msie|trident)/i.test(platform.navigator.userAgent)\n) : () => true;\n\nconst cookies = platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils$1.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils$1.isString(path) && cookie.push('path=' + path);\n\n      utils$1.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders$1 ? { ...thing } : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nfunction mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, prop, caseless) {\n    if (utils$1.isPlainObject(target) && utils$1.isPlainObject(source)) {\n      return utils$1.merge.call({caseless}, target, source);\n    } else if (utils$1.isPlainObject(source)) {\n      return utils$1.merge({}, source);\n    } else if (utils$1.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, prop , caseless) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(a, b, prop , caseless);\n    } else if (!utils$1.isUndefined(a)) {\n      return getMergedValue(undefined, a, prop , caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils$1.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b , prop) => mergeDeepProperties(headersToObject(a), headersToObject(b),prop, true)\n  };\n\n  utils$1.forEach(Object.keys({...config1, ...config2}), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils$1.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n\nconst resolveConfig = (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let { data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth } = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders$1.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url, newConfig.allowAbsoluteUrls), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  if (utils$1.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // browser handles it\n    } else if (utils$1.isFunction(data.getHeaders)) {\n      // Node.js FormData (like form-data package)\n      const formHeaders = data.getHeaders();\n      // Only set safe headers to avoid overwriting security headers\n      const allowedHeaders = ['content-type', 'content-length'];\n      Object.entries(formHeaders).forEach(([key, val]) => {\n        if (allowedHeaders.includes(key.toLowerCase())) {\n          headers.set(key, val);\n        }\n      });\n    }\n  }  \n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils$1.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n};\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nconst xhrAdapter = isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    const _config = resolveConfig(config);\n    let requestData = _config.data;\n    const requestHeaders = AxiosHeaders$1.from(_config.headers).normalize();\n    let {responseType, onUploadProgress, onDownloadProgress} = _config;\n    let onCanceled;\n    let uploadThrottled, downloadThrottled;\n    let flushUpload, flushDownload;\n\n    function done() {\n      flushUpload && flushUpload(); // flush events\n      flushDownload && flushDownload(); // flush events\n\n      _config.cancelToken && _config.cancelToken.unsubscribe(onCanceled);\n\n      _config.signal && _config.signal.removeEventListener('abort', onCanceled);\n    }\n\n    let request = new XMLHttpRequest();\n\n    request.open(_config.method.toUpperCase(), _config.url, true);\n\n    // Set the request timeout in MS\n    request.timeout = _config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders$1.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n  request.onerror = function handleError(event) {\n       // Browsers deliver a ProgressEvent in XHR onerror\n       // (message may be empty; when present, surface it)\n       // See https://developer.mozilla.org/docs/Web/API/XMLHttpRequest/error_event\n       const msg = event && event.message ? event.message : 'Network Error';\n       const err = new AxiosError(msg, AxiosError.ERR_NETWORK, config, request);\n       // attach the underlying event for consumers who want details\n       err.event = event || null;\n       reject(err);\n       request = null;\n    };\n    \n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = _config.transitional || transitionalDefaults;\n      if (_config.timeoutErrorMessage) {\n        timeoutErrorMessage = _config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils$1.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils$1.isUndefined(_config.withCredentials)) {\n      request.withCredentials = !!_config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = _config.responseType;\n    }\n\n    // Handle progress if needed\n    if (onDownloadProgress) {\n      ([downloadThrottled, flushDownload] = progressEventReducer(onDownloadProgress, true));\n      request.addEventListener('progress', downloadThrottled);\n    }\n\n    // Not all browsers support upload events\n    if (onUploadProgress && request.upload) {\n      ([uploadThrottled, flushUpload] = progressEventReducer(onUploadProgress));\n\n      request.upload.addEventListener('progress', uploadThrottled);\n\n      request.upload.addEventListener('loadend', flushUpload);\n    }\n\n    if (_config.cancelToken || _config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);\n      if (_config.signal) {\n        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(_config.url);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n};\n\nconst composeSignals = (signals, timeout) => {\n  const {length} = (signals = signals ? signals.filter(Boolean) : []);\n\n  if (timeout || length) {\n    let controller = new AbortController();\n\n    let aborted;\n\n    const onabort = function (reason) {\n      if (!aborted) {\n        aborted = true;\n        unsubscribe();\n        const err = reason instanceof Error ? reason : this.reason;\n        controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\n      }\n    };\n\n    let timer = timeout && setTimeout(() => {\n      timer = null;\n      onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT));\n    }, timeout);\n\n    const unsubscribe = () => {\n      if (signals) {\n        timer && clearTimeout(timer);\n        timer = null;\n        signals.forEach(signal => {\n          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\n        });\n        signals = null;\n      }\n    };\n\n    signals.forEach((signal) => signal.addEventListener('abort', onabort));\n\n    const {signal} = controller;\n\n    signal.unsubscribe = () => utils$1.asap(unsubscribe);\n\n    return signal;\n  }\n};\n\nconst composeSignals$1 = composeSignals;\n\nconst streamChunk = function* (chunk, chunkSize) {\n  let len = chunk.byteLength;\n\n  if (!chunkSize || len < chunkSize) {\n    yield chunk;\n    return;\n  }\n\n  let pos = 0;\n  let end;\n\n  while (pos < len) {\n    end = pos + chunkSize;\n    yield chunk.slice(pos, end);\n    pos = end;\n  }\n};\n\nconst readBytes = async function* (iterable, chunkSize) {\n  for await (const chunk of readStream(iterable)) {\n    yield* streamChunk(chunk, chunkSize);\n  }\n};\n\nconst readStream = async function* (stream) {\n  if (stream[Symbol.asyncIterator]) {\n    yield* stream;\n    return;\n  }\n\n  const reader = stream.getReader();\n  try {\n    for (;;) {\n      const {done, value} = await reader.read();\n      if (done) {\n        break;\n      }\n      yield value;\n    }\n  } finally {\n    await reader.cancel();\n  }\n};\n\nconst trackStream = (stream, chunkSize, onProgress, onFinish) => {\n  const iterator = readBytes(stream, chunkSize);\n\n  let bytes = 0;\n  let done;\n  let _onFinish = (e) => {\n    if (!done) {\n      done = true;\n      onFinish && onFinish(e);\n    }\n  };\n\n  return new ReadableStream({\n    async pull(controller) {\n      try {\n        const {done, value} = await iterator.next();\n\n        if (done) {\n         _onFinish();\n          controller.close();\n          return;\n        }\n\n        let len = value.byteLength;\n        if (onProgress) {\n          let loadedBytes = bytes += len;\n          onProgress(loadedBytes);\n        }\n        controller.enqueue(new Uint8Array(value));\n      } catch (err) {\n        _onFinish(err);\n        throw err;\n      }\n    },\n    cancel(reason) {\n      _onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  })\n};\n\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\n\nconst {isFunction} = utils$1;\n\nconst globalFetchAPI = (({Request, Response}) => ({\n  Request, Response\n}))(utils$1.global);\n\nconst {\n  ReadableStream: ReadableStream$1, TextEncoder: TextEncoder$1\n} = utils$1.global;\n\n\nconst test = (fn, ...args) => {\n  try {\n    return !!fn(...args);\n  } catch (e) {\n    return false\n  }\n};\n\nconst factory = (env) => {\n  env = utils$1.merge.call({\n    skipUndefined: true\n  }, globalFetchAPI, env);\n\n  const {fetch: envFetch, Request, Response} = env;\n  const isFetchSupported = envFetch ? isFunction(envFetch) : typeof fetch === 'function';\n  const isRequestSupported = isFunction(Request);\n  const isResponseSupported = isFunction(Response);\n\n  if (!isFetchSupported) {\n    return false;\n  }\n\n  const isReadableStreamSupported = isFetchSupported && isFunction(ReadableStream$1);\n\n  const encodeText = isFetchSupported && (typeof TextEncoder$1 === 'function' ?\n      ((encoder) => (str) => encoder.encode(str))(new TextEncoder$1()) :\n      async (str) => new Uint8Array(await new Request(str).arrayBuffer())\n  );\n\n  const supportsRequestStream = isRequestSupported && isReadableStreamSupported && test(() => {\n    let duplexAccessed = false;\n\n    const hasContentType = new Request(platform.origin, {\n      body: new ReadableStream$1(),\n      method: 'POST',\n      get duplex() {\n        duplexAccessed = true;\n        return 'half';\n      },\n    }).headers.has('Content-Type');\n\n    return duplexAccessed && !hasContentType;\n  });\n\n  const supportsResponseStream = isResponseSupported && isReadableStreamSupported &&\n    test(() => utils$1.isReadableStream(new Response('').body));\n\n  const resolvers = {\n    stream: supportsResponseStream && ((res) => res.body)\n  };\n\n  isFetchSupported && ((() => {\n    ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {\n      !resolvers[type] && (resolvers[type] = (res, config) => {\n        let method = res && res[type];\n\n        if (method) {\n          return method.call(res);\n        }\n\n        throw new AxiosError(`Response type '${type}' is not supported`, AxiosError.ERR_NOT_SUPPORT, config);\n      });\n    });\n  })());\n\n  const getBodyLength = async (body) => {\n    if (body == null) {\n      return 0;\n    }\n\n    if (utils$1.isBlob(body)) {\n      return body.size;\n    }\n\n    if (utils$1.isSpecCompliantForm(body)) {\n      const _request = new Request(platform.origin, {\n        method: 'POST',\n        body,\n      });\n      return (await _request.arrayBuffer()).byteLength;\n    }\n\n    if (utils$1.isArrayBufferView(body) || utils$1.isArrayBuffer(body)) {\n      return body.byteLength;\n    }\n\n    if (utils$1.isURLSearchParams(body)) {\n      body = body + '';\n    }\n\n    if (utils$1.isString(body)) {\n      return (await encodeText(body)).byteLength;\n    }\n  };\n\n  const resolveBodyLength = async (headers, body) => {\n    const length = utils$1.toFiniteNumber(headers.getContentLength());\n\n    return length == null ? getBodyLength(body) : length;\n  };\n\n  return async (config) => {\n    let {\n      url,\n      method,\n      data,\n      signal,\n      cancelToken,\n      timeout,\n      onDownloadProgress,\n      onUploadProgress,\n      responseType,\n      headers,\n      withCredentials = 'same-origin',\n      fetchOptions\n    } = resolveConfig(config);\n\n    let _fetch = envFetch || fetch;\n\n    responseType = responseType ? (responseType + '').toLowerCase() : 'text';\n\n    let composedSignal = composeSignals$1([signal, cancelToken && cancelToken.toAbortSignal()], timeout);\n\n    let request = null;\n\n    const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {\n      composedSignal.unsubscribe();\n    });\n\n    let requestContentLength;\n\n    try {\n      if (\n        onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&\n        (requestContentLength = await resolveBodyLength(headers, data)) !== 0\n      ) {\n        let _request = new Request(url, {\n          method: 'POST',\n          body: data,\n          duplex: \"half\"\n        });\n\n        let contentTypeHeader;\n\n        if (utils$1.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {\n          headers.setContentType(contentTypeHeader);\n        }\n\n        if (_request.body) {\n          const [onProgress, flush] = progressEventDecorator(\n            requestContentLength,\n            progressEventReducer(asyncDecorator(onUploadProgress))\n          );\n\n          data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);\n        }\n      }\n\n      if (!utils$1.isString(withCredentials)) {\n        withCredentials = withCredentials ? 'include' : 'omit';\n      }\n\n      // Cloudflare Workers throws when credentials are defined\n      // see https://github.com/cloudflare/workerd/issues/902\n      const isCredentialsSupported = isRequestSupported && \"credentials\" in Request.prototype;\n\n      const resolvedOptions = {\n        ...fetchOptions,\n        signal: composedSignal,\n        method: method.toUpperCase(),\n        headers: headers.normalize().toJSON(),\n        body: data,\n        duplex: \"half\",\n        credentials: isCredentialsSupported ? withCredentials : undefined\n      };\n\n      request = isRequestSupported && new Request(url, resolvedOptions);\n\n      let response = await (isRequestSupported ? _fetch(request, fetchOptions) : _fetch(url, resolvedOptions));\n\n      const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');\n\n      if (supportsResponseStream && (onDownloadProgress || (isStreamResponse && unsubscribe))) {\n        const options = {};\n\n        ['status', 'statusText', 'headers'].forEach(prop => {\n          options[prop] = response[prop];\n        });\n\n        const responseContentLength = utils$1.toFiniteNumber(response.headers.get('content-length'));\n\n        const [onProgress, flush] = onDownloadProgress && progressEventDecorator(\n          responseContentLength,\n          progressEventReducer(asyncDecorator(onDownloadProgress), true)\n        ) || [];\n\n        response = new Response(\n          trackStream(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {\n            flush && flush();\n            unsubscribe && unsubscribe();\n          }),\n          options\n        );\n      }\n\n      responseType = responseType || 'text';\n\n      let responseData = await resolvers[utils$1.findKey(resolvers, responseType) || 'text'](response, config);\n\n      !isStreamResponse && unsubscribe && unsubscribe();\n\n      return await new Promise((resolve, reject) => {\n        settle(resolve, reject, {\n          data: responseData,\n          headers: AxiosHeaders$1.from(response.headers),\n          status: response.status,\n          statusText: response.statusText,\n          config,\n          request\n        });\n      })\n    } catch (err) {\n      unsubscribe && unsubscribe();\n\n      if (err && err.name === 'TypeError' && /Load failed|fetch/i.test(err.message)) {\n        throw Object.assign(\n          new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request),\n          {\n            cause: err.cause || err\n          }\n        )\n      }\n\n      throw AxiosError.from(err, err && err.code, config, request);\n    }\n  }\n};\n\nconst seedCache = new Map();\n\nconst getFetch = (config) => {\n  let env = config ? config.env : {};\n  const {fetch, Request, Response} = env;\n  const seeds = [\n    Request, Response, fetch\n  ];\n\n  let len = seeds.length, i = len,\n    seed, target, map = seedCache;\n\n  while (i--) {\n    seed = seeds[i];\n    target = map.get(seed);\n\n    target === undefined && map.set(seed, target = (i ? new Map() : factory(env)));\n\n    map = target;\n  }\n\n  return target;\n};\n\ngetFetch();\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter,\n  fetch: {\n    get: getFetch,\n  }\n};\n\nutils$1.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils$1.isFunction(adapter) || adapter === null || adapter === false;\n\nconst adapters = {\n  getAdapter: (adapters, config) => {\n    adapters = utils$1.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter && (utils$1.isFunction(adapter) || (adapter = adapter.get(config)))) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n};\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nfunction dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders$1.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults$1.adapter, config);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders$1.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders$1.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n\nconst validators$1 = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators$1[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators$1.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\nvalidators$1.spelling = function spelling(correctSpelling) {\n  return (value, opt) => {\n    // eslint-disable-next-line no-console\n    console.warn(`${opt} is likely a misspelling of ${correctSpelling}`);\n    return true;\n  }\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nconst validator = {\n  assertOptions,\n  validators: validators$1\n};\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig || {};\n    this.interceptors = {\n      request: new InterceptorManager$1(),\n      response: new InterceptorManager$1()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy = {};\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n        try {\n          if (!err.stack) {\n            err.stack = stack;\n            // match without the 2 top stack lines\n          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n            err.stack += '\\n' + stack;\n          }\n        } catch (e) {\n          // ignore the case where \"stack\" is an un-writable property\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils$1.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        };\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.allowAbsoluteUrls\n    if (config.allowAbsoluteUrls !== undefined) ; else if (this.defaults.allowAbsoluteUrls !== undefined) {\n      config.allowAbsoluteUrls = this.defaults.allowAbsoluteUrls;\n    } else {\n      config.allowAbsoluteUrls = true;\n    }\n\n    validator.assertOptions(config, {\n      baseUrl: validators.spelling('baseURL'),\n      withXsrfToken: validators.spelling('withXSRFToken')\n    }, true);\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils$1.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils$1.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders$1.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift(...requestInterceptorChain);\n      chain.push(...responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url, config.allowAbsoluteUrls);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils$1.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils$1.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nconst Axios$1 = Axios;\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  toAbortSignal() {\n    const controller = new AbortController();\n\n    const abort = (err) => {\n      controller.abort(err);\n    };\n\n    this.subscribe(abort);\n\n    controller.signal.unsubscribe = () => this.unsubscribe(abort);\n\n    return controller.signal;\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nconst CancelToken$1 = CancelToken;\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nfunction spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nfunction isAxiosError(payload) {\n  return utils$1.isObject(payload) && (payload.isAxiosError === true);\n}\n\nconst HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nconst HttpStatusCode$1 = HttpStatusCode;\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios$1(defaultConfig);\n  const instance = bind(Axios$1.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils$1.extend(instance, Axios$1.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils$1.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults$1);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios$1;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken$1;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders$1;\n\naxios.formToJSON = thing => formDataToJSON(utils$1.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode$1;\n\naxios.default = axios;\n\nmodule.exports = axios;\n//# sourceMappingURL=axios.cjs.map\n","const vscode = require('vscode');\n\n/**\n * Refactor Command Handler - refactors selected code\n */\nclass RefactorCommand {\n    constructor(agentController, logger) {\n        this.agentController = agentController;\n        this.logger = logger;\n    }\n\n    /**\n     * Execute the refactor command\n     */\n    async execute() {\n        try {\n            const editor = vscode.window.activeTextEditor;\n            if (!editor) {\n                await vscode.window.showWarningMessage('No active editor found');\n                return;\n            }\n\n            const selection = editor.selection;\n            const selectedText = editor.document.getText(selection);\n\n            if (!selectedText.trim()) {\n                await vscode.window.showWarningMessage('Please select some code to refactor');\n                return;\n            }\n\n            this.logger.info('Refactor command executed', {\n                fileName: editor.document.fileName,\n                selectionLength: selectedText.length\n            });\n\n            // Execute task through agent controller\n            const result = await this.agentController.executeTask('refactor', {\n                code: selectedText,\n                fileName: editor.document.fileName,\n                language: editor.document.languageId,\n                timestamp: Date.now()\n            });\n\n            // Show result\n            await vscode.window.showInformationMessage(\n                `Refactor Suggestion: ${result.message}`,\n                'OK'\n            );\n\n            this.logger.info('Refactor interaction completed');\n\n        } catch (error) {\n            this.logger.error('Refactor command failed:', error);\n            await vscode.window.showErrorMessage(`Refactor failed: ${error.message}`);\n        }\n    }\n}\n\nmodule.exports = RefactorCommand;\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar toStr = Object.prototype.toString;\nvar max = Math.max;\nvar funcType = '[object Function]';\n\nvar concatty = function concatty(a, b) {\n    var arr = [];\n\n    for (var i = 0; i < a.length; i += 1) {\n        arr[i] = a[i];\n    }\n    for (var j = 0; j < b.length; j += 1) {\n        arr[j + a.length] = b[j];\n    }\n\n    return arr;\n};\n\nvar slicy = function slicy(arrLike, offset) {\n    var arr = [];\n    for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {\n        arr[j] = arrLike[i];\n    }\n    return arr;\n};\n\nvar joiny = function (arr, joiner) {\n    var str = '';\n    for (var i = 0; i < arr.length; i += 1) {\n        str += arr[i];\n        if (i + 1 < arr.length) {\n            str += joiner;\n        }\n    }\n    return str;\n};\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.apply(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slicy(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                concatty(args, arguments)\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        }\n        return target.apply(\n            that,\n            concatty(args, arguments)\n        );\n\n    };\n\n    var boundLength = max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs[i] = '$' + i;\n    }\n\n    bound = Function('binder', 'return function (' + joiny(boundArgs, ',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Error;\n","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Models = void 0;\nconst resource_1 = require(\"../core/resource.js\");\nconst pagination_1 = require(\"../core/pagination.js\");\nconst path_1 = require(\"../internal/utils/path.js\");\nclass Models extends resource_1.APIResource {\n    /**\n     * Retrieves a model instance, providing basic information about the model such as\n     * the owner and permissioning.\n     */\n    retrieve(model, options) {\n        return this._client.get((0, path_1.path) `/models/${model}`, options);\n    }\n    /**\n     * Lists the currently available models, and provides basic information about each\n     * one such as the owner and availability.\n     */\n    list(options) {\n        return this._client.getAPIList('/models', (pagination_1.Page), options);\n    }\n    /**\n     * Delete a fine-tuned model. You must have the Owner role in your organization to\n     * delete a model.\n     */\n    delete(model, options) {\n        return this._client.delete((0, path_1.path) `/models/${model}`, options);\n    }\n}\nexports.Models = Models;\n//# sourceMappingURL=models.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.uuid4 = void 0;\n/**\n * https://stackoverflow.com/a/2117523\n */\nlet uuid4 = function () {\n    const { crypto } = globalThis;\n    if (crypto?.randomUUID) {\n        exports.uuid4 = crypto.randomUUID.bind(crypto);\n        return crypto.randomUUID();\n    }\n    const u8 = new Uint8Array(1);\n    const randomByte = crypto ? () => crypto.getRandomValues(u8)[0] : () => (Math.random() * 0xff) & 0xff;\n    return '10000000-1000-4000-8000-100000000000'.replace(/[018]/g, (c) => (+c ^ (randomByte() & (15 >> (+c / 4)))).toString(16));\n};\nexports.uuid4 = uuid4;\n//# sourceMappingURL=uuid.js.map","// API\nmodule.exports = state;\n\n/**\n * Creates initial state object\n * for iteration over list\n *\n * @param   {array|object} list - list to iterate over\n * @param   {function|null} sortMethod - function to use for keys sort,\n *                                     or `null` to keep them as is\n * @returns {object} - initial state object\n */\nfunction state(list, sortMethod)\n{\n  var isNamedList = !Array.isArray(list)\n    , initState =\n    {\n      index    : 0,\n      keyedList: isNamedList || sortMethod ? Object.keys(list) : null,\n      jobs     : {},\n      results  : isNamedList ? {} : [],\n      size     : isNamedList ? Object.keys(list).length : list.length\n    }\n    ;\n\n  if (sortMethod)\n  {\n    // sort array keys based on it's values\n    // sort object's keys just on own merit\n    initState.keyedList.sort(isNamedList ? sortMethod : function(a, b)\n    {\n      return sortMethod(list[a], list[b]);\n    });\n  }\n\n  return initState;\n}\n","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Messages = void 0;\nconst resource_1 = require(\"../../../core/resource.js\");\nconst pagination_1 = require(\"../../../core/pagination.js\");\nconst path_1 = require(\"../../../internal/utils/path.js\");\nclass Messages extends resource_1.APIResource {\n    /**\n     * Get the messages in a stored chat completion. Only Chat Completions that have\n     * been created with the `store` parameter set to `true` will be returned.\n     *\n     * @example\n     * ```ts\n     * // Automatically fetches more pages as needed.\n     * for await (const chatCompletionStoreMessage of client.chat.completions.messages.list(\n     *   'completion_id',\n     * )) {\n     *   // ...\n     * }\n     * ```\n     */\n    list(completionID, query = {}, options) {\n        return this._client.getAPIList((0, path_1.path) `/chat/completions/${completionID}/messages`, (pagination_1.CursorPage), { query, ...options });\n    }\n}\nexports.Messages = Messages;\n//# sourceMappingURL=messages.js.map","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"./internal/tslib.js\");\n/** @deprecated Import from ./core/error instead */\ntslib_1.__exportStar(require(\"./core/error.js\"), exports);\n//# sourceMappingURL=error.js.map","'use strict';\n\n/** @type {import('./ref')} */\nmodule.exports = ReferenceError;\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\n\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar hasOwn = require('hasown');\nvar $TypeError = require('es-errors/type');\n\nvar toStringTag = hasToStringTag ? Symbol.toStringTag : null;\n\n/** @type {import('.')} */\nmodule.exports = function setToStringTag(object, value) {\n\tvar overrideIfSet = arguments.length > 2 && !!arguments[2] && arguments[2].force;\n\tvar nonConfigurable = arguments.length > 2 && !!arguments[2] && arguments[2].nonConfigurable;\n\tif (\n\t\t(typeof overrideIfSet !== 'undefined' && typeof overrideIfSet !== 'boolean')\n\t\t|| (typeof nonConfigurable !== 'undefined' && typeof nonConfigurable !== 'boolean')\n\t) {\n\t\tthrow new $TypeError('if provided, the `overrideIfSet` and `nonConfigurable` options must be booleans');\n\t}\n\tif (toStringTag && (overrideIfSet || !hasOwn(object, toStringTag))) {\n\t\tif ($defineProperty) {\n\t\t\t$defineProperty(object, toStringTag, {\n\t\t\t\tconfigurable: !nonConfigurable,\n\t\t\t\tenumerable: false,\n\t\t\t\tvalue: value,\n\t\t\t\twritable: false\n\t\t\t});\n\t\t} else {\n\t\t\tobject[toStringTag] = value; // eslint-disable-line no-param-reassign\n\t\t}\n\t}\n};\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Object;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.__setModuleDefault = exports.__createBinding = void 0;\nexports.__classPrivateFieldSet = __classPrivateFieldSet;\nexports.__classPrivateFieldGet = __classPrivateFieldGet;\nexports.__exportStar = __exportStar;\nexports.__importStar = __importStar;\nfunction __classPrivateFieldSet(receiver, state, value, kind, f) {\n    if (kind === \"m\")\n        throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f)\n        throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver))\n        throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return kind === \"a\" ? f.call(receiver, value) : f ? (f.value = value) : state.set(receiver, value), value;\n}\nfunction __classPrivateFieldGet(receiver, state, kind, f) {\n    if (kind === \"a\" && !f)\n        throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver))\n        throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\nvar __createBinding = Object.create\n    ? function (o, m, k, k2) {\n        if (k2 === void 0)\n            k2 = k;\n        var desc = Object.getOwnPropertyDescriptor(m, k);\n        if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n            desc = {\n                enumerable: true,\n                get: function () {\n                    return m[k];\n                },\n            };\n        }\n        Object.defineProperty(o, k2, desc);\n    }\n    : function (o, m, k, k2) {\n        if (k2 === void 0)\n            k2 = k;\n        o[k2] = m[k];\n    };\nexports.__createBinding = __createBinding;\nfunction __exportStar(m, o) {\n    for (var p in m)\n        if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p))\n            __createBinding(o, m, p);\n}\nvar __setModuleDefault = Object.create\n    ? function (o, v) {\n        Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n    }\n    : function (o, v) {\n        o[\"default\"] = v;\n    };\nexports.__setModuleDefault = __setModuleDefault;\nvar ownKeys = function (o) {\n    ownKeys =\n        Object.getOwnPropertyNames ||\n            function (o2) {\n                var ar = [];\n                for (var k in o2)\n                    if (Object.prototype.hasOwnProperty.call(o2, k))\n                        ar[ar.length] = k;\n                return ar;\n            };\n    return ownKeys(o);\n};\nfunction __importStar(mod) {\n    if (mod && mod.__esModule)\n        return mod;\n    var result = {};\n    if (mod != null) {\n        for (var k = ownKeys(mod), i = 0; i < k.length; i++)\n            if (k[i] !== \"default\")\n                __createBinding(result, mod, k[i]);\n    }\n    __setModuleDefault(result, mod);\n    return result;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createForm = exports.multipartFormRequestOptions = exports.maybeMultipartFormRequestOptions = exports.isAsyncIterable = exports.checkFileSupport = void 0;\nexports.makeFile = makeFile;\nexports.getName = getName;\nconst shims_1 = require(\"./shims.js\");\nconst checkFileSupport = () => {\n    if (typeof File === 'undefined') {\n        const { process } = globalThis;\n        const isOldNode = typeof process?.versions?.node === 'string' && parseInt(process.versions.node.split('.')) < 20;\n        throw new Error('`File` is not defined as a global, which is required for file uploads.' +\n            (isOldNode ?\n                \" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.\"\n                : ''));\n    }\n};\nexports.checkFileSupport = checkFileSupport;\n/**\n * Construct a `File` instance. This is used to ensure a helpful error is thrown\n * for environments that don't define a global `File` yet.\n */\nfunction makeFile(fileBits, fileName, options) {\n    (0, exports.checkFileSupport)();\n    return new File(fileBits, fileName ?? 'unknown_file', options);\n}\nfunction getName(value) {\n    return (((typeof value === 'object' &&\n        value !== null &&\n        (('name' in value && value.name && String(value.name)) ||\n            ('url' in value && value.url && String(value.url)) ||\n            ('filename' in value && value.filename && String(value.filename)) ||\n            ('path' in value && value.path && String(value.path)))) ||\n        '')\n        .split(/[\\\\/]/)\n        .pop() || undefined);\n}\nconst isAsyncIterable = (value) => value != null && typeof value === 'object' && typeof value[Symbol.asyncIterator] === 'function';\nexports.isAsyncIterable = isAsyncIterable;\n/**\n * Returns a multipart/form-data request if any part of the given request body contains a File / Blob value.\n * Otherwise returns the request as is.\n */\nconst maybeMultipartFormRequestOptions = async (opts, fetch) => {\n    if (!hasUploadableValue(opts.body))\n        return opts;\n    return { ...opts, body: await (0, exports.createForm)(opts.body, fetch) };\n};\nexports.maybeMultipartFormRequestOptions = maybeMultipartFormRequestOptions;\nconst multipartFormRequestOptions = async (opts, fetch) => {\n    return { ...opts, body: await (0, exports.createForm)(opts.body, fetch) };\n};\nexports.multipartFormRequestOptions = multipartFormRequestOptions;\nconst supportsFormDataMap = /* @__PURE__ */ new WeakMap();\n/**\n * node-fetch doesn't support the global FormData object in recent node versions. Instead of sending\n * properly-encoded form data, it just stringifies the object, resulting in a request body of \"[object FormData]\".\n * This function detects if the fetch function provided supports the global FormData object to avoid\n * confusing error messages later on.\n */\nfunction supportsFormData(fetchObject) {\n    const fetch = typeof fetchObject === 'function' ? fetchObject : fetchObject.fetch;\n    const cached = supportsFormDataMap.get(fetch);\n    if (cached)\n        return cached;\n    const promise = (async () => {\n        try {\n            const FetchResponse = ('Response' in fetch ?\n                fetch.Response\n                : (await fetch('data:,')).constructor);\n            const data = new FormData();\n            if (data.toString() === (await new FetchResponse(data).text())) {\n                return false;\n            }\n            return true;\n        }\n        catch {\n            // avoid false negatives\n            return true;\n        }\n    })();\n    supportsFormDataMap.set(fetch, promise);\n    return promise;\n}\nconst createForm = async (body, fetch) => {\n    if (!(await supportsFormData(fetch))) {\n        throw new TypeError('The provided fetch function does not support file uploads with the current global FormData class.');\n    }\n    const form = new FormData();\n    await Promise.all(Object.entries(body || {}).map(([key, value]) => addFormValue(form, key, value)));\n    return form;\n};\nexports.createForm = createForm;\n// We check for Blob not File because Bun.File doesn't inherit from File,\n// but they both inherit from Blob and have a `name` property at runtime.\nconst isNamedBlob = (value) => value instanceof Blob && 'name' in value;\nconst isUploadable = (value) => typeof value === 'object' &&\n    value !== null &&\n    (value instanceof Response || (0, exports.isAsyncIterable)(value) || isNamedBlob(value));\nconst hasUploadableValue = (value) => {\n    if (isUploadable(value))\n        return true;\n    if (Array.isArray(value))\n        return value.some(hasUploadableValue);\n    if (value && typeof value === 'object') {\n        for (const k in value) {\n            if (hasUploadableValue(value[k]))\n                return true;\n        }\n    }\n    return false;\n};\nconst addFormValue = async (form, key, value) => {\n    if (value === undefined)\n        return;\n    if (value == null) {\n        throw new TypeError(`Received null for \"${key}\"; to pass null in FormData, you must use the string 'null'`);\n    }\n    // TODO: make nested formats configurable\n    if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n        form.append(key, String(value));\n    }\n    else if (value instanceof Response) {\n        form.append(key, makeFile([await value.blob()], getName(value)));\n    }\n    else if ((0, exports.isAsyncIterable)(value)) {\n        form.append(key, makeFile([await new Response((0, shims_1.ReadableStreamFrom)(value)).blob()], getName(value)));\n    }\n    else if (isNamedBlob(value)) {\n        form.append(key, value, getName(value));\n    }\n    else if (Array.isArray(value)) {\n        await Promise.all(value.map((entry) => addFormValue(form, key + '[]', entry)));\n    }\n    else if (typeof value === 'object') {\n        await Promise.all(Object.entries(value).map(([name, prop]) => addFormValue(form, `${key}[${name}]`, prop)));\n    }\n    else {\n        throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${value} instead`);\n    }\n};\n//# sourceMappingURL=uploads.js.map","'use strict';\n\n/** @type {import('./type')} */\nmodule.exports = TypeError;\n","\"use strict\";\nvar _LineDecoder_buffer, _LineDecoder_carriageReturnIndex;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LineDecoder = void 0;\nexports.findDoubleNewlineIndex = findDoubleNewlineIndex;\nconst tslib_1 = require(\"../tslib.js\");\nconst bytes_1 = require(\"../utils/bytes.js\");\n/**\n * A re-implementation of httpx's `LineDecoder` in Python that handles incrementally\n * reading lines from text.\n *\n * https://github.com/encode/httpx/blob/920333ea98118e9cf617f246905d7b202510941c/httpx/_decoders.py#L258\n */\nclass LineDecoder {\n    constructor() {\n        _LineDecoder_buffer.set(this, void 0);\n        _LineDecoder_carriageReturnIndex.set(this, void 0);\n        tslib_1.__classPrivateFieldSet(this, _LineDecoder_buffer, new Uint8Array(), \"f\");\n        tslib_1.__classPrivateFieldSet(this, _LineDecoder_carriageReturnIndex, null, \"f\");\n    }\n    decode(chunk) {\n        if (chunk == null) {\n            return [];\n        }\n        const binaryChunk = chunk instanceof ArrayBuffer ? new Uint8Array(chunk)\n            : typeof chunk === 'string' ? (0, bytes_1.encodeUTF8)(chunk)\n                : chunk;\n        tslib_1.__classPrivateFieldSet(this, _LineDecoder_buffer, (0, bytes_1.concatBytes)([tslib_1.__classPrivateFieldGet(this, _LineDecoder_buffer, \"f\"), binaryChunk]), \"f\");\n        const lines = [];\n        let patternIndex;\n        while ((patternIndex = findNewlineIndex(tslib_1.__classPrivateFieldGet(this, _LineDecoder_buffer, \"f\"), tslib_1.__classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, \"f\"))) != null) {\n            if (patternIndex.carriage && tslib_1.__classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, \"f\") == null) {\n                // skip until we either get a corresponding `\\n`, a new `\\r` or nothing\n                tslib_1.__classPrivateFieldSet(this, _LineDecoder_carriageReturnIndex, patternIndex.index, \"f\");\n                continue;\n            }\n            // we got double \\r or \\rtext\\n\n            if (tslib_1.__classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, \"f\") != null &&\n                (patternIndex.index !== tslib_1.__classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, \"f\") + 1 || patternIndex.carriage)) {\n                lines.push((0, bytes_1.decodeUTF8)(tslib_1.__classPrivateFieldGet(this, _LineDecoder_buffer, \"f\").subarray(0, tslib_1.__classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, \"f\") - 1)));\n                tslib_1.__classPrivateFieldSet(this, _LineDecoder_buffer, tslib_1.__classPrivateFieldGet(this, _LineDecoder_buffer, \"f\").subarray(tslib_1.__classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, \"f\")), \"f\");\n                tslib_1.__classPrivateFieldSet(this, _LineDecoder_carriageReturnIndex, null, \"f\");\n                continue;\n            }\n            const endIndex = tslib_1.__classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, \"f\") !== null ? patternIndex.preceding - 1 : patternIndex.preceding;\n            const line = (0, bytes_1.decodeUTF8)(tslib_1.__classPrivateFieldGet(this, _LineDecoder_buffer, \"f\").subarray(0, endIndex));\n            lines.push(line);\n            tslib_1.__classPrivateFieldSet(this, _LineDecoder_buffer, tslib_1.__classPrivateFieldGet(this, _LineDecoder_buffer, \"f\").subarray(patternIndex.index), \"f\");\n            tslib_1.__classPrivateFieldSet(this, _LineDecoder_carriageReturnIndex, null, \"f\");\n        }\n        return lines;\n    }\n    flush() {\n        if (!tslib_1.__classPrivateFieldGet(this, _LineDecoder_buffer, \"f\").length) {\n            return [];\n        }\n        return this.decode('\\n');\n    }\n}\nexports.LineDecoder = LineDecoder;\n_LineDecoder_buffer = new WeakMap(), _LineDecoder_carriageReturnIndex = new WeakMap();\n// prettier-ignore\nLineDecoder.NEWLINE_CHARS = new Set(['\\n', '\\r']);\nLineDecoder.NEWLINE_REGEXP = /\\r\\n|[\\n\\r]/g;\n/**\n * This function searches the buffer for the end patterns, (\\r or \\n)\n * and returns an object with the index preceding the matched newline and the\n * index after the newline char. `null` is returned if no new line is found.\n *\n * ```ts\n * findNewLineIndex('abc\\ndef') -> { preceding: 2, index: 3 }\n * ```\n */\nfunction findNewlineIndex(buffer, startIndex) {\n    const newline = 0x0a; // \\n\n    const carriage = 0x0d; // \\r\n    for (let i = startIndex ?? 0; i < buffer.length; i++) {\n        if (buffer[i] === newline) {\n            return { preceding: i, index: i + 1, carriage: false };\n        }\n        if (buffer[i] === carriage) {\n            return { preceding: i, index: i + 1, carriage: true };\n        }\n    }\n    return null;\n}\nfunction findDoubleNewlineIndex(buffer) {\n    // This function searches the buffer for the end patterns (\\r\\r, \\n\\n, \\r\\n\\r\\n)\n    // and returns the index right after the first occurrence of any pattern,\n    // or -1 if none of the patterns are found.\n    const newline = 0x0a; // \\n\n    const carriage = 0x0d; // \\r\n    for (let i = 0; i < buffer.length - 1; i++) {\n        if (buffer[i] === newline && buffer[i + 1] === newline) {\n            // \\n\\n\n            return i + 2;\n        }\n        if (buffer[i] === carriage && buffer[i + 1] === carriage) {\n            // \\r\\r\n            return i + 2;\n        }\n        if (buffer[i] === carriage &&\n            buffer[i + 1] === newline &&\n            i + 3 < buffer.length &&\n            buffer[i + 2] === carriage &&\n            buffer[i + 3] === newline) {\n            // \\r\\n\\r\\n\n            return i + 4;\n        }\n    }\n    return -1;\n}\n//# sourceMappingURL=line.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Graders = void 0;\nconst tslib_1 = require(\"../../internal/tslib.js\");\nconst resource_1 = require(\"../../core/resource.js\");\nconst GraderModelsAPI = tslib_1.__importStar(require(\"./grader-models.js\"));\nconst grader_models_1 = require(\"./grader-models.js\");\nclass Graders extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.graderModels = new GraderModelsAPI.GraderModels(this._client);\n    }\n}\nexports.Graders = Graders;\nGraders.GraderModels = grader_models_1.GraderModels;\n//# sourceMappingURL=graders.js.map","module.exports = require(\"fs\");","'use strict';\n\nvar call = Function.prototype.call;\nvar $hasOwn = Object.prototype.hasOwnProperty;\nvar bind = require('function-bind');\n\n/** @type {import('.')} */\nmodule.exports = bind.call(call, $hasOwn);\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(4012);\n"],"names":["iterate","initState","terminator","ascending","a","b","module","exports","list","iterator","sortMethod","callback","state","iteratorHandler","error","result","index","length","results","bind","descending","Function","prototype","call","Object","defineProperty","value","stringify","object","opts","obj","options","defaults","allowEmptyArrays","TypeError","encodeDotInKeys","encoder","charset","format","formats_1","default_format","utils_1","has","formatters","formatter","arrayFormat","filter","values_1","isArray","array_prefix_generators","indices","commaRoundTrip","allowDots","addQueryPrefix","charsetSentinel","delimiter","encode","encodeValuesOnly","serializeDate","skipNulls","sort","strictNullHandling","normalize_stringify_options","obj_keys","keys","generateArrayPrefix","sideChannel","WeakMap","i","key","push_to_array","inner_stringify","joined","join","prefix","brackets","String","comma","repeat","arr","value_or_array","Array","push","apply","toISOString","default_formatter","date","Date","sentinel","tmp_sc","step","find_flag","get","pos","RangeError","maybe_map","v","is_buffer","key_value","values","encoded_prefix","replace","adjusted_prefix","j","encoded_key","key_prefix","set","valueSideChannel","Checkpoints","tslib_1","resource_1","PermissionsAPI","__importStar","permissions_1","APIResource","constructor","super","arguments","this","permissions","Permissions","_client","isEmptyHeaders","buildHeaders","brand_privateNullableHeaders","Symbol","iterateHeaders","headers","nulls","entries","name","iter","shouldClear","Headers","isReadonlyArray","row","didClear","undefined","newHeaders","targetHeaders","nullHeaders","Set","seenHeaders","lowerName","toLowerCase","delete","add","append","_","Items","pagination_1","path_1","create","conversationID","params","include","body","post","path","query","retrieve","itemID","conversation_id","getAPIList","fn","nextTick","setImmediate","process","setTimeout","Math","round","makeReadableStream","args","ReadableStream","globalThis","Error","getDefaultFetch","fetch","ReadableStreamFrom","iterable","asyncIterator","start","pull","controller","done","next","close","enqueue","cancel","return","ReadableStreamToAsyncIterable","stream","reader","getReader","read","releaseLock","e","cancelPromise","CancelReadableStream","async","$Object","$Error","$EvalError","$RangeError","$ReferenceError","$SyntaxError","$TypeError","$URIError","abs","floor","max","min","pow","sign","$Function","getEvalledConstructor","expressionSyntax","$gOPD","$defineProperty","throwTypeError","ThrowTypeError","calleeThrows","gOPDthrows","hasSymbols","getProto","$ObjectGPO","$ReflectGPO","$apply","$call","needsEval","TypedArray","Uint8Array","INTRINSICS","__proto__","AggregateError","ArrayBuffer","Atomics","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","eval","Float16Array","Float32Array","Float64Array","FinalizationRegistry","Int8Array","Int16Array","Int32Array","isFinite","isNaN","JSON","Map","Number","parseFloat","parseInt","Promise","Proxy","Reflect","RegExp","SharedArrayBuffer","Uint8ClampedArray","Uint16Array","Uint32Array","WeakRef","WeakSet","errorProto","doEval","gen","LEGACY_ALIASES","hasOwn","$concat","concat","$spliceApply","splice","$replace","$strSlice","slice","$exec","exec","rePropName","reEscapeChar","getBaseIntrinsic","allowMissing","alias","intrinsicName","parts","string","first","last","match","number","quote","subString","stringToPath","intrinsicBaseName","intrinsic","intrinsicRealName","skipFurtherCaching","isOwn","part","desc","_EventStream_instances","_EventStream_connectedPromise","_EventStream_resolveConnectedPromise","_EventStream_rejectConnectedPromise","_EventStream_endPromise","_EventStream_resolveEndPromise","_EventStream_rejectEndPromise","_EventStream_listeners","_EventStream_ended","_EventStream_errored","_EventStream_aborted","_EventStream_catchingPromiseCreated","_EventStream_handleError","EventStream","error_1","AbortController","__classPrivateFieldSet","resolve","reject","__classPrivateFieldGet","catch","_run","executor","then","_emitFinal","_emit","_connected","ended","errored","aborted","abort","on","event","listener","off","listeners","findIndex","l","once","emitted","forEach","APIUserAbortError","OpenAIError","openAIError","message","cause","Responses","ResponsesParser_1","ResponseStream_1","InputItemsAPI","input_items_1","headers_1","inputItems","InputItems","_thenUnwrap","rsp","addOutputText","responseID","Accept","parse","responses","response","parseResponse","ResponseStream","createResponse","env","createDebug","namespace","prevTime","namespacesCache","enabledCache","enableOverride","debug","enabled","self","curr","ms","diff","prev","coerce","unshift","val","formatArgs","log","useColors","color","selectColor","extend","destroy","enumerable","configurable","namespaces","init","newDebug","matchesTemplate","search","template","searchIndex","templateIndex","starIndex","matchIndex","default","stack","disable","names","skips","map","enable","save","split","trim","ns","skip","humanize","console","warn","hash","charCodeAt","colors","load","CombinedStream","util","http","https","parseUrl","fs","Stream","crypto","mime","asynckit","setToStringTag","populate","FormData","option","_overheadLength","_valueLength","_valuesToMeasure","inherits","LINE_BREAK","DEFAULT_CONTENT_TYPE","field","filename","_error","header","_multiPartHeader","footer","_multiPartFooter","_trackLength","valueLength","knownLength","Buffer","isBuffer","byteLength","readable","_lengthRetriever","end","Infinity","stat","err","fileSize","size","pause","resume","contentDisposition","_getContentDisposition","contentType","_getContentType","contents","prop","getBoundary","filepath","normalize","basename","client","_httpMessage","lookup","_streams","_lastBoundary","getHeaders","userHeaders","formHeaders","setBoundary","boundary","_boundary","_generateBoundary","getBuffer","dataBuffer","alloc","len","from","substring","randomBytes","toString","getLengthSync","hasKnownLength","getLength","cb","parallel","submit","request","method","port","pathname","host","hostname","protocol","setHeader","pipe","onResponse","responce","removeListener","emit","vscode","agentController","logger","execute","workspaceFolders","workspace","window","showWarningMessage","info","workspacePath","uri","fsPath","executeTask","timestamp","now","showInformationMessage","showErrorMessage","encodeUTF8_","decodeUTF8_","concatBytes","buffers","buffer","output","encodeUTF8","str","TextEncoder","decodeUTF8","bytes","decoder","TextDecoder","decode","DelayedStream","writable","dataSize","maxDataSize","pauseStreams","_released","_currentStream","_insideLoop","_pendingNext","combinedStream","isStreamLike","newStream","pauseStream","_checkDataSize","_handleErrors","dest","_getNext","_realGetNext","shift","_pipeNext","write","_emitError","data","_reset","_updateDataSize","require","castToError","isAbortError","includes","getPrototypeOf","OutputItems","outputItemID","eval_id","run_id","runID","_AbstractChatCompletionRunner_instances","_AbstractChatCompletionRunner_getFinalContent","_AbstractChatCompletionRunner_getFinalMessage","_AbstractChatCompletionRunner_getFinalFunctionToolCall","_AbstractChatCompletionRunner_getFinalFunctionToolCallResult","_AbstractChatCompletionRunner_calculateTotalUsage","_AbstractChatCompletionRunner_validateParams","_AbstractChatCompletionRunner_stringifyFunctionCallResult","AbstractChatCompletionRunner","parser_1","chatCompletionUtils_1","EventStream_1","RunnableFunction_1","DEFAULT_MAX_CHAT_COMPLETIONS","_chatCompletions","messages","_addChatCompletion","chatCompletion","choices","_addMessage","content","isToolMessage","isAssistantMessage","tool_calls","tool_call","type","function","finalChatCompletion","completion","finalContent","finalMessage","finalFunctionToolCall","finalFunctionToolCallResult","totalUsage","allChatCompletions","finalFunctionCall","finalFunctionCallResult","some","c","usage","_createChatCompletion","signal","addEventListener","chat","completions","parseChatCompletion","_runChatCompletion","_runTools","role","tool_choice","restParams","singleFunctionToCall","maxChatCompletions","inputTools","tools","tool","isAutoParsableTool","$callback","description","parameters","$parseRaw","strict","functionsByName","f","t","tool_call_id","id","parsed","isRunnableFunctionWithParse","rawContent","refusal","x","at","y","total","completion_tokens","prompt_tokens","total_tokens","n","EvalError","Embeddings","hasUserProvidedEncodingFormat","encoding_format","loggerFor","embeddingBase64Obj","embeddingBase64Str","embedding","toFloat32Array","Audio","SpeechAPI","speech_1","TranscriptionsAPI","transcriptions_1","TranslationsAPI","translations_1","transcriptions","Transcriptions","translations","Translations","speech","Speech","_OpenAI_instances","_a","_OpenAI_encoder","_OpenAI_baseURLOverridden","OpenAI","uuid_1","sleep_1","errors_1","detect_platform_1","Shims","Opts","qs","version_1","Errors","Pagination","Uploads","API","api_promise_1","batches_1","completions_1","embeddings_1","files_1","images_1","models_1","moderations_1","videos_1","webhooks_1","audio_1","beta_1","chat_1","containers_1","conversations_1","evals_1","fine_tuning_1","graders_1","realtime_1","responses_1","uploads_1","vector_stores_1","detect_platform_2","env_1","log_1","values_2","baseURL","readEnv","apiKey","organization","project","webhookSecret","Completions","Chat","embeddings","files","Files","images","Images","audio","moderations","Moderations","models","Models","fineTuning","FineTuning","graders","Graders","vectorStores","VectorStores","webhooks","Webhooks","beta","Beta","batches","Batches","uploads","realtime","Realtime","conversations","Conversations","evals","Evals","containers","Containers","videos","Videos","dangerouslyAllowBrowser","isRunningInBrowser","timeout","DEFAULT_TIMEOUT","defaultLogLevel","logLevel","parseLogLevel","fetchOptions","maxRetries","FallbackEncoder","_options","withOptions","defaultQuery","validateHeaders","authHeaders","Authorization","stringifyQuery","getUserAgent","VERSION","defaultIdempotencyKey","uuid4","makeStatusError","status","APIError","generate","_callApiKey","token","buildURL","defaultBaseURL","url","isAbsoluteURL","URL","endsWith","startsWith","isEmptyObj","prepareOptions","prepareRequest","methodRequest","patch","put","remainingRetries","APIPromise","makeRequest","optionsInput","retriesRemaining","retryOfRequestLogID","req","buildRequest","retryCount","requestLogID","random","padStart","retryLogStr","startTime","formatRequestDetails","fetchWithTimeout","headersTime","retryMessage","isTimeout","test","durationMs","retryRequest","APIConnectionTimeoutError","APIConnectionError","responseInfo","ok","shouldRetry","errText","text","errJSON","safeJSON","errMessage","Page","requestAPIList","PagePromise","isReadableBody","duplex","toUpperCase","clearTimeout","shouldRetryHeader","responseHeaders","timeoutMillis","retryAfterMillisHeader","timeoutMs","retryAfterHeader","timeoutSeconds","calculateDefaultRetryTimeoutMillis","sleep","numRetries","inputOptions","validatePositiveInteger","bodyHeaders","buildBody","idempotencyHeaders","idempotencyHeader","idempotencyKey","trunc","getPlatformHeaders","defaultHeaders","rawHeaders","isView","Blob","URLSearchParams","NotFoundError","ConflictError","RateLimitError","BadRequestError","AuthenticationError","InternalServerError","PermissionDeniedError","UnprocessableEntityError","InvalidWebhookSignatureError","toFile","getOwnPropertySymbols","sym","symObj","getOwnPropertyNames","syms","propertyIsEnumerable","getOwnPropertyDescriptor","descriptor","dst","src","formats","RFC1738","RFC3986","stringify_1","multipartFormRequestOptions","fileID","__binaryResponse","waitForProcessing","pollInterval","maxWait","TERMINAL_STATES","file","_APIPromise_client","parse_1","responsePromise","defaultParseResponse","transform","props","addRequestID","asResponse","p","withResponse","all","request_id","parsedPromise","onfulfilled","onrejected","onfinally","finally","Jobs","CheckpointsAPI","checkpoints_1","checkpoints","fineTuningJobID","listEvents","serial","serialOrdered","Runs","StepsAPI","steps_1","AssistantStream_1","steps","Steps","threadID","thread_id","update","createAndPoll","threadId","run","poll","createAndStream","AssistantStream","createAssistantStream","threads","runs","runId","pollIntervalMs","sleepInterval","headerInterval","headerIntervalMs","submitToolOutputs","submitToolOutputsAndPoll","submitToolOutputsStream","createToolAssistantStream","VoiceRecordingService","context","voiceRecordingService","webviewView","disposables","chatHistory","isAIResponding","resolveWebviewView","webview","enableScripts","localResourceRoots","extensionUri","enableCommandUris","retainContextWhenHidden","enableForms","enableFindWidget","html","getWebviewContent","setupMessageHandling","setupViewEvents","onDidReceiveMessage","handleUserMessage","clearChatHistory","handleWebviewReady","commands","executeCommand","handleProviderChange","provider","handleModelChange","model","sendProviderStatus","messageId","openExternal","Uri","updateToggleButtonIcon","collapsed","startVoiceRecording","stopVoiceRecording","sendErrorToWebview","userMessage","sendMessageToWebview","userMessageObj","saveChatHistory","thinking","aiResponse","aiClient","sendRequest","maxTokens","aiMessageObj","tokens","cost","postMessage","errorData","enhancedInfo","setCurrentProvider","setCurrentModel","currentProviderObj","getCurrentProvider","currentProvider","providers","getProviders","currentModel","getCurrentModel","providerStatus","providerId","hasApiKey","getApiKey","isActive","messageData","workspaceState","loadChatHistory","savedHistory","history","onDidChangeVisibility","visible","onDidDispose","dispose","d","nonce","getNonce","webviewUri","asWebviewUri","joinPath","vendorsUri","cspSource","charAt","possible","getWebviewCSS","getWebviewJS","newIcon","getRecordingStatus","voiceEnabled","showSettingsButton","recording","startRecording","success","stopRecording","AzureOpenAI","client_1","client_2","azure_1","FilesAPI","containerID","document","navigator","normalizeArch","arch","normalizePlatform","platform","_platformHeaders","detectedPlatform","Deno","build","EdgeRuntime","os","version","deno","browserInfo","browserPatterns","pattern","userAgent","browser","getBrowserInfo","getPlatformProperties","Methods","editor","activeTextEditor","selection","selectedText","getText","fileName","selectionLength","code","language","languageId","validate","defer","isAsync","batchID","Threads","MessagesAPI","messages_1","RunsAPI","runs_1","Messages","createAndRun","createAndRunPoll","createAndRunStream","createThreadAssistantStream","TranscriptionSessions","__exportStar","Calls","accept","callID","hangup","refer","Assistants","assistantID","PartsAPI","parts_1","Parts","uploadID","complete","ChatCompletionRunner","ChatCompletionStream","ParsingToolFunction","ChatCompletionStreamingRunner","ChatCompletionRunner_1","ChatCompletionStreamingRunner_1","ChatCompletionStream_1","completionID","validateInputTools","runTools","createChatCompletion","ChatCompletionStreamingRunner_2","ChatCompletionStream_2","ChatCompletionRunner_2","$isNaN","$actualApply","performanceMonitor","contextManager","isInitialized","indexingInProgress","indexingQueue","lastIndexTime","indexStats","totalFiles","indexedFiles","skippedFiles","errors","lastIndexDuration","fileWatchers","watcherDisposables","batchSize","maxConcurrency","indexingDelay","indexingTimer","initialize","setupFileWatchers","scheduleIndexing","fileWatcher","createFileSystemWatcher","RelativePattern","onDidCreate","queueFileForIndexing","onDidChange","onDidDelete","removeFileFromIndex","reason","delay","actualDelay","performFullIndexing","startTimer","scanWorkspaceFiles","processBatches","duration","recordMetric","scanDirectory","dirPath","depth","readdir","withFileTypes","entry","fullPath","shouldExclude","isDirectory","isFile","shouldIndexFile","batch","processBatch","promises","fill","filePath","promise","processFile","race","isResolved","allSettled","stats","maxFileSize","readFile","updateFileIndex","operation","debounceQueueProcessing","queueProcessingTimer","processIndexingQueue","queue","fileMap","item","fileIndex","symbolName","locations","symbolIndex","filtered","loc","reinitialize","cleanup","relative","getStats","isIndexing","queueSize","contextStats","forceReindex","pauseIndexing","indexingPaused","resumeIndexing","disposable","$reflectApply","looksLikeNode","looksLikeBrowser","looksLikeV8","Writable","assert","isFunction","captureStackTrace","useNativeURL","preservedUrlFields","events","eventHandlers","arg1","arg2","arg3","_redirectable","InvalidUrlError","createErrorType","RedirectionError","TooManyRedirectsError","MaxBodyLengthExceededError","WriteAfterEndError","noop","RedirectableRequest","responseCallback","_sanitizeOptions","_ended","_ending","_redirectCount","_redirects","_requestBodyLength","_requestBodyBuffers","_onNativeResponse","_processResponse","_performRequest","wrap","protocols","maxRedirects","maxBodyLength","nativeProtocols","scheme","nativeProtocol","wrappedProtocol","defineProperties","input","spreadUrlObject","isString","validateUrl","assign","equal","wrappedRequest","href","urlObject","target","spread","removeMatchingHeaders","regex","lastValue","baseClass","CustomError","properties","destroyRequest","_currentRequest","encoding","currentRequest","removeHeader","msecs","destroyOnTimeout","socket","addListener","_timeout","clearTimer","property","searchPos","indexOf","agents","agent","_currentUrl","_isRedirect","writeNext","finished","statusCode","trackRedirects","requestHeaders","location","followRedirects","responseUrl","redirects","beforeRedirect","Host","getHeader","base","currentHostHeader","currentUrlParts","currentHost","currentUrl","redirectUrl","subdomain","domain","dot","isSubdomain","responseDetails","requestDetails","FileBatches","Util_1","vectorStoreID","vector_store_id","vectorStoreId","listFiles","uploadAndPoll","fileIds","configuredConcurrency","concurrencyLimit","fileIterator","allFileIds","workers","fileObj","purpose","allSettledWithThrow","file_ids","rejected","isChatCompletionFunctionTool","makeParseableResponseFormat","response_format","parser","$brand","makeParseableTextFormat","isAutoParsableResponseFormat","makeParseableTool","maybeParseChatCompletion","hasAutoParseableInput","choice","assertToolCallsAreChatCompletionFunctionToolCalls","shouldParseToolCall","toolCall","inputTool","find","finish_reason","LengthFinishReasonError","ContentFilterFinishReasonError","parsed_arguments","parseToolCall","parseResponseFormat","toolCalls","MethodsAPI","methods_1","AlphaAPI","alpha_1","JobsAPI","jobs_1","methods","jobs","alpha","Alpha","tty","inspectOpts","toUTCString","DEBUG","isatty","fd","reduce","k","DEBUG_FD","deprecate","stdout","stderr","binding","guessHandleType","WriteStream","_type","_handle","unref","SyncWriteStream","autoClose","Socket","_isStdio","createWritableStdioStream","o","inspect","O","reflectGetProto","originalGetProto","getDunderProto","MalformedJSON","PartialJSON","partialParse","jsonString","allowPartial","ATOM","allow","markPartialJSON","msg","throwMalformedError","parseAny","skipBlank","parseStr","parseObj","parseArr","NaN","parseNum","escape","lastIndexOf","_parseJSON","parseJSON","Allow","__metadata","SessionsAPI","sessions_1","TranscriptionSessionsAPI","transcription_sessions_1","sessions","Sessions","transcriptionSessions","fileResponse","upload","fileInfo","file_id","levelNumbers","makeLogFn","fnLevel","maybeLevel","sourceName","noopLogger","cachedLoggers","cachedLogger","levelLogger","details","fromEntries","retryOf","ClientSecrets","sessionID","Logger","PerformanceMonitor","AgentController","ExplainCommand","RefactorCommand","AnalyzeCommand","ApiKeyCommand","AuditLogger","NoxChatViewProvider","NoxExtension","auditLogger","chatSidebarProvider","isActivated","activate","initializeCore","registerCommands","registerSidebarProvider","setupEventListeners","activationTime","showWelcomeMessage","registerCommand","explainCommand","refactorCommand","analyzeCommand","showDashboard","showSettings","apiKeyCommand","openSettingsPanel","showProviderSwitcher","showHelp","resetExtension","command","subscriptions","registerWebviewViewProvider","webviewOptions","panel","createWebviewPanel","ViewColumn","One","getSettingsPanelContent","setApiKey","setProvider","sendVoiceStatus","setVoiceSettings","settings","setGoogleApiKey","workspaceWatcher","onDidChangeWorkspaceFolders","handleWorkspaceChange","onDidSaveTextDocument","handleFileChange","configWatcher","onDidChangeConfiguration","affectsConfiguration","updateConfiguration","hasValidApiKey","voiceSettings","engine","googleApiKey","engines","free","openai","google","updatedSettings","updateVoiceSettings","currentSettings","configuredProviders","getConfiguredProviders","providerOptions","label","isCurrent","selectedProvider","showQuickPick","placeHolder","matchOnDescription","showThemeSettings","selectedTheme","theme","showDebugLogs","selectedOption","action","modal","globalKeys","globalState","secrets","deactivate","extensionInstance","extensionPath","origSymbol","hasSymbolSham","makeMessage","requestID","param","errorResponse","GradersAPI","FileBatchesAPI","file_batches_1","fileBatches","fromBase64","toBase64","bytes_1","btoa","fromCharCode","buf","byteOffset","atob","bstr","base64Str","BYTES_PER_ELEMENT","binaryStr","clean","AbstractChatCompletionRunner_1","runner","evalID","createPathTagFunction","encodeURIPath","EMPTY","freeze","pathEncoder","statics","postPath","invalidSegments","previousValue","currentValue","encoded","hasOwnProperty","pathOnly","invalidSegmentPattern","lastEnd","underline","acc","segment","spaces","arrows","Content","container_id","_ChatCompletionStream_instances","_ChatCompletionStream_params","_ChatCompletionStream_choiceEventStates","_ChatCompletionStream_currentChatCompletionSnapshot","_ChatCompletionStream_beginRequest","_ChatCompletionStream_getChoiceEventState","_ChatCompletionStream_addChunk","_ChatCompletionStream_emitToolCallDoneEvent","_ChatCompletionStream_emitContentDoneEvents","_ChatCompletionStream_endRequest","_ChatCompletionStream_getAutoParseableResponseFormat","_ChatCompletionStream_accumulateChatCompletion","parser_2","streaming_1","currentChatCompletionSnapshot","fromReadableStream","_fromReadableStream","chunk","readableStream","chatId","content_done","refusal_done","logprobs_content_done","logprobs_refusal_done","done_tool_calls","current_tool_call_index","choiceSnapshot","delta","snapshot","logprobs","toolCallDelta","toolCallSnapshot","arguments_delta","assertNever","toolCallIndex","responseFormat","created","system_fingerprint","rest","choiceRest","function_call","messageRest","toolRest","fnRest","finalizeChatCompletion","_b","_c","_d","other","assertIsEmpty","pushQueue","readQueue","toReadableStream","_x","GraderModels","metrics","timers","costs","sessionStart","metricsFile","initializeMetricsStorage","metricsDir","globalStorageUri","mkdir","recursive","metadata","metric","sessionTime","logPerformance","persistMetric","timer","endTimer","recordCost","costEntry","metricName","calculateStats","allStats","count","avg","m","sum","latest","getCostSummary","summary","totalCost","byProvider","byModel","totalTokens","calls","getSystemMetrics","memUsage","memoryUsage","uptime","memory","rss","heapUsed","heapTotal","external","activeTimers","metricsCount","appendFile","exportMetrics","session","costSummary","system","clearOldMetrics","maxAge","cutoff","cleared","clear","finalMetrics","metricsSize","fileOps","indexEngine","cacheManager","configuration","loadConfiguration","initializeWorkspace","initializeCoreComponents","validateInitialization","getConfiguration","aiProvider","enableCaching","enableTelemetry","maxContextSize","caching","telemetry","configValues","defaultValue","AIClient","ContextManager","FileOps","IndexEngine","CacheManager","components","instance","component","_event","getStatus","initialized","performance","taskType","cleanupPromises","URIError","_AbstractPage_client","ConversationCursorPage","CursorPage","AbstractPage","hasNextPage","getPaginatedItems","nextPageRequestOptions","getNextPage","nextOptions","iterPages","page","has_more","maybeObj","after","last_id","cursor","fineTunedModelCheckpoint","permissionID","fine_tuned_model_checkpoint","axios","anthropic","baseUrl","defaultModel","deepseek","local","secretKey","store","config","ConfigurationTarget","Global","removeApiKey","availableProviders","getAvailableProviders","configured","newProvider","prompt","requestOptions","callAnthropicAPI","callOpenAIAPI","callDeepSeekAPI","callLocalAPI","max_tokens","input_tokens","output_tokens","calculateAnthropicCost","errorMessage","calculateOpenAICost","calculateDeepSeekCost","pricing","rates","getCurrentProviderId","getCurrentProviderModels","getProviderModels","formatErrorMessage","errorInfo","categorizeError","title","suggestion","category","helpUrl","getProviderHelpUrl","errorType","api_key","rate_limit","network","generic","viewConfiguredProviders","switchProvider","showApiKeyInputPanel","getApiKeyInputHtml","getProviderHelp","items","detail","canPickMany","maybeCoerceBoolean","maybeCoerceFloat","maybeCoerceInteger","coerceBoolean","coerceFloat","coerceInteger","ensurePresent","_k","isObj","startsWithSchemeRegexp","isInteger","__nwjs","flag","argv","position","terminatorPosition","recorderName","recoderPath","__dirname","supportedExtensions","excludePatterns","startInitialIndexing","scanWorkspace","indexFile","existing","lastModified","mtime","getTime","symbols","extractSymbols","fileData","extension","extname","updateSymbolIndex","lines","line","lineNumber","extractJavaScriptSymbols","extractPythonSymbols","extractJavaSymbols","extractGenericSymbols","functionMatch","classMatch","methodMatch","importMatch","todoMatch","symbol","getContext","maxFiles","maxLines","relevantFiles","searchFiles","relevantSymbols","searchSymbols","contextFiles","fileMatch","getRelevantLines","relevanceScore","score","s","calculateOverallRelevance","searchTime","queryLower","relevantLines","rl","isMatch","fileScore","symbolScore","totalSymbols","OutputItemsAPI","output_items_1","outputItems","formatWithOptions","colorCode","hideDate","supportsColor","level","extensions","types","preference","db","EXTRACT_TYPE_REGEXP","TEXT_TYPE_REGEXP","charsets","exts","substr","source","to","messageID","CompletionsAPI","r","storage","lastC","removeItem","documentElement","style","WebkitAppearance","firebug","exception","table","$1","chrome","localStorage","localstorage","AssistantsAPI","assistants_1","RealtimeAPI","ChatKitAPI","chatkit_1","ThreadsAPI","threads_1","chatkit","ChatKit","assistants","isPresent","spawn","recorders","Recording","sampleRate","channels","compress","threshold","thresholdStart","thresholdEnd","silence","recorder","endOnSilence","audioType","cmd","spawnOptions","cmdOptions","stdio","cp","rec","_stream","stop","kill","isPaused","record","DEFAULT_PORTS","ftp","gopher","ws","wss","stringEndsWith","getEnv","getProxyForUrl","parsedUrl","proto","NO_PROXY","every","proxy","parsedProxy","parsedProxyHostname","parsedProxyPort","shouldProxy","h","w","plural","msAbs","isPlural","long","fmtShort","_ResponseStream_instances","_ResponseStream_params","_ResponseStream_currentResponseSnapshot","_ResponseStream_finalResponse","_ResponseStream_beginRequest","_ResponseStream_addEvent","_ResponseStream_endRequest","_ResponseStream_accumulateResponse","_createOrRetrieveResponse","starting_after","response_id","maybeEmit","sequence_number","output_index","content_index","parsedResponse","maybeParseResponse","finalizeResponse","finalResponse","uploads_2","checkFileSupport","isFileLike","File","makeFile","arrayBuffer","isResponseLike","blob","pop","getBytes","getName","isBlobLike","isAsyncIterable","propsForError","implementation","isRecording","audioFile","speechClient","loadVoiceSettings","initializeVoiceEngines","savedSettings","hasGoogleKey","saveVoiceSettings","initializeOpenAI","initializeGoogleSpeech","openaiApiKey","SpeechClient","GOOGLE_APPLICATION_CREDENTIALS","GOOGLE_CLOUD_PROJECT","tempDir","tmpdir","recordingOptions","sampleRateHertz","verbose","recordProgram","fileStream","createWriteStream","existsSync","statSync","transcription","transcribeAudio","unlinkSync","cleanupError","audioFilePath","transcribeWithWhisper","transcribeWithVosk","transcribeWithGoogle","mockTranscription","createReadStream","readFileSync","languageCode","recognize","alternatives","transcript","mockResponses","randomResponse","cancelRecording","selectedEngine","getVoiceEngineStatus","available","requiresKey","hasKey","newSettings","hasProtoAccessor","callBind","gOPD","$getPrototypeOf","activeOperations","backupStorage","operationHistory","maxBackupSize","maxHistorySize","workspaceEdit","initializeBackupStorage","createFile","operationId","generateOperationId","overwrite","edit","WorkspaceEdit","insert","Position","applyEdit","completeOperation","failOperation","editFile","edits","createBackup","editItem","range","lineRange","Range","backupCreated","editsApplied","rollbackFile","rollbackError","deleteFile","copyFile","sourcePath","targetPath","sourceUri","targetUri","sourceContent","moveFile","renameFile","batchOperations","operations","filesToBackup","op","affectedFiles","createUri","editUri","deleteUri","moveSourceUri","moveTargetUri","copySourceUri","copyTargetUri","copyContent","operationCount","operationsCount","rollbackBatch","contentString","backup","openTextDocument","fullRange","positionAt","filePaths","completedOps","failedOps","totalOperations","completedOperations","failedOperations","backupsStored","averageDuration","getHistory","limit","reverse","clearOldBackups","toDelete","createVariation","getLogLevel","outputChannel","createOutputChannel","logFile","sessionId","generateSessionId","initializeLogFile","logDir","writeToFile","formatMessage","logEntry","formattedMessage","writeToOutput","outputMessage","toLocaleTimeString","appendLine","shouldLog","errorMetadata","errorStack","errorName","time","logApiCall","logUserAction","show","hasFlag","forceColor","translateLevel","hasBasic","has256","has16m","haveStream","streamIsTTY","TERM","osRelease","release","CI_NAME","TEAMCITY_VERSION","COLORTERM","TERM_PROGRAM_VERSION","TERM_PROGRAM","FORCE_COLOR","isTTY","rnds8Pool","poolPtr","rng","uuid","byteToHex","unsafeStringify","offset","_nodeId","_clockseq","_lastMSecs","_lastNSecs","node","clockseq","seedBytes","nsecs","dt","tl","tmh","v35","hashfunc","generateUUID","_namespace","unescape","stringToBytes","DNS","digest","randomUUID","rnds","stepID","output_parsed","makeParseableResponseTool","getInputToolByName","parseTextFormat","text_format","input_tools","texts","output_text","setItem","getItem","warned","ContentAPI","content_1","v4","uuidv4","auditFile","initializeAuditLog","auditDir","logEvent","eventType","auditEntry","user","USERNAME","USER","logLine","logFileChange","changeType","logAIInteraction","promptLength","responseLength","index_1","listItems","_Webhooks_instances","_Webhooks_validateSecret","_Webhooks_getRequiredHeader","unwrap","payload","secret","tolerance","verifySignature","subtle","importKey","verify","headersObj","signatureHeader","webhookId","timestampSeconds","nowSeconds","signatures","decodedSecret","signedPayload","signature","signatureBytes","runJob","SyntaxError","_maxDataSizeExceeded","_bufferedEvents","delayedStream","realEmit","_handleEmit","setEncoding","_checkIfMaxDataSizeExceeded","__streamClass","fromSSEResponse","mediaType","json","webpackEmptyContext","uploadFile","maybeMultipartFormRequestOptions","videoID","downloadContent","remix","merge","plainObjects","allowPrototypes","mergeTarget","array_to_object","targetItem","assign_single_source","strWithoutPlus","compact","refs","compacted","compact_queue","is_regexp","combine","mapped","hex_table","array","_defaultEncoder","_kind","$0","out","_Stream_client","_iterSSEMessages","shims_1","line_1","shims_2","error_2","consumed","sse","raw","lineDecoder","LineDecoder","flush","iterLines","tee","left","right","teeIterator","ctrl","product","sseDecoder","SSEDecoder","sseChunk","binaryChunk","patternIndex","newData","findDoubleNewlineIndex","iterSSEChunks","chunks","fieldname","partition","to_file_1","CallsAPI","calls_1","ClientSecretsAPI","client_secrets_1","clientSecrets","_AssistantStream_instances","_AssistantStream_events","_AssistantStream_runStepSnapshots","_AssistantStream_messageSnapshots","_AssistantStream_messageSnapshot","_AssistantStream_finalRun","_AssistantStream_currentContentIndex","_AssistantStream_currentContent","_AssistantStream_currentToolCallIndex","_AssistantStream_currentToolCall","_AssistantStream_currentEvent","_AssistantStream_currentRunSnapshot","_AssistantStream_currentRunStepSnapshot","_AssistantStream_addEvent","_AssistantStream_endRequest","_AssistantStream_handleMessage","_AssistantStream_handleRunStep","_AssistantStream_handleEvent","_AssistantStream_accumulateRunStep","_AssistantStream_accumulateMessage","_AssistantStream_accumulateContent","_AssistantStream_handleRun","_addRun","_runToolAssistantStream","_createToolAssistantStream","thread","_threadAssistantStream","_runAssistantStream","currentEvent","currentRun","currentMessageSnapshot","currentRunStepSnapshot","finalRunSteps","finalMessages","finalRun","_createThreadAssistantStream","_createAssistantStream","accumulateDelta","deltaValue","accValue","deltaEntry","accEntry","accumulatedMessage","newContent","snapshotContent","textDelta","image_file","currentContent","accumulatedRunStep","step_details","accumulated","contentElement","ItemsAPI","items_1","toStringTag","apiVersion","endpoint","deployment","azureADTokenProvider","deploymentName","_deployments_endpoints","FormData$1","proxyFromEnv","zlib","_interopDefaultLegacy","FormData__default","crypto__default","url__default","proxyFromEnv__default","http__default","https__default","util__default","followRedirects__default","zlib__default","stream__default","thisArg","kindOf","cache","thing","kindOfTest","typeOfTest","isUndefined","isFunction$1","isArrayBuffer","isNumber","isObject","isPlainObject","isDate","isBlob","isFileList","isURLSearchParams","isReadableStream","isRequest","isResponse","isHeaders","allOwnKeys","findKey","_key","_global","global","isContextDefined","isTypedArray","isHTMLForm","isRegExp","reduceDescriptors","reducer","descriptors","getOwnPropertyDescriptors","reducedDescriptors","ret","isAsyncFn","_setImmediate","setImmediateSupported","postMessageSupported","callbacks","asap","queueMicrotask","utils$1","isFormData","kind","isArrayBufferView","isBoolean","isEmptyObject","isStream","caseless","skipUndefined","assignValue","targetKey","stripBOM","superConstructor","toFlatObject","sourceObj","destObj","propFilter","merged","searchString","lastIndex","toArray","forEachEntry","_iterator","pair","matchAll","regExp","matches","hasOwnProp","freezeMethods","toObjectSet","arrayOrString","define","toCamelCase","p1","p2","toFiniteNumber","isSpecCompliantForm","toJSONObject","visit","reducedValue","isThenable","isIterable","AxiosError","toJSON","columnNumber","prototype$1","isVisitable","removeBrackets","renderKey","dots","customProps","axiosError","errCode","predicates","toFormData","formData","metaTokens","indexes","visitor","defaultVisitor","useBlob","convertValue","isFlatArray","el","exposedHelpers","encode$1","charMap","AxiosURLSearchParams","_pairs","_encode","serialize","serializeFn","serializedParams","hashmarkIndex","InterceptorManager$1","handlers","use","fulfilled","synchronous","runWhen","eject","transitionalDefaults","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","ALPHA","DIGIT","ALPHABET","ALPHA_DIGIT","platform$1","isNode","classes","generateString","alphabet","randomValues","randomFillSync","hasBrowserEnv","_navigator","hasStandardBrowserEnv","hasStandardBrowserWebWorkerEnv","WorkerGlobalScope","importScripts","origin","formDataToJSON","buildPath","isNumericKey","isLast","arrayToObject","parsePropPath","transitional","adapter","transformRequest","getContentType","hasJSONContentType","isObjectPayload","setContentType","helpers","toURLEncodedForm","formSerializer","_FormData","rawValue","stringifySafely","transformResponse","JSONRequested","responseType","strictJSONParsing","parseReviver","ERR_BAD_RESPONSE","xsrfCookieName","xsrfHeaderName","maxContentLength","validateStatus","common","defaults$1","ignoreDuplicateOf","$internals","normalizeHeader","normalizeValue","matchHeaderValue","isHeaderNameFilter","AxiosHeaders","valueOrRewrite","rewrite","_value","_header","_rewrite","lHeader","setHeaders","parseHeaders","tokensRE","parseTokens","matcher","deleted","deleteHeader","normalized","char","formatHeader","targets","asStrings","getSetCookie","computed","accessor","accessors","defineAccessor","accessorName","methodName","buildAccessors","headerValue","AxiosHeaders$1","transformData","fns","isCancel","__CANCEL__","CanceledError","ERR_CANCELED","settle","ERR_BAD_REQUEST","buildFullPath","requestedURL","allowAbsoluteUrls","isRelativeUrl","relativeURL","combineURLs","parseProtocol","DATA_URL_PATTERN","kInternals","AxiosTransformStream","Transform","readableHighWaterMark","maxRate","chunkSize","minChunkSize","timeWindow","ticksRate","samplesCount","internals","bytesSeen","isCaptured","notifiedBytesLoaded","ts","onReadCallback","_read","_transform","bytesThreshold","pushChunk","_chunk","_callback","transformChunk","bytesLeft","chunkRemainder","maxChunkSize","passed","subarray","transformNextChunk","AxiosTransformStream$1","readBlob$1","BOUNDARY_ALPHABET","textEncoder","CRLF","CRLF_BYTES","FormDataPart","escapeName","isStringValue","contentLength","ZlibHeaderTransformStream","__transform","ZlibHeaderTransformStream$1","callbackify$1","progressEventReducer","isDownloadStream","freq","bytesNotified","_speedometer","timestamps","firstSampleTS","head","tail","chunkLength","startedAt","bytesCount","speedometer","lastArgs","invoke","loaded","lengthComputable","progressBytes","rate","progress","estimated","throttle","progressEventDecorator","throttled","asyncDecorator","zlibOptions","constants","Z_SYNC_FLUSH","finishFlush","brotliOptions","BROTLI_OPERATION_FLUSH","isBrotliSupported","createBrotliDecompress","httpFollow","httpsFollow","isHttps","supportedProtocols","flushOnFinish","dispatchBeforeRedirect","beforeRedirects","setProxy","configProxy","proxyUrl","username","auth","password","base64","proxyHost","redirectOptions","isHttpAdapterSupported","buildAddressEntry","address","family","resolveFamily","httpAdapter","asyncExecutor","onDone","responseEncoding","isDone","_lookup","opt","arg0","addresses","addr","emitter","EventEmitter","onFinished","cancelToken","unsubscribe","removeEventListener","removeAllListeners","isRejected","subscribe","meta","effectiveLen","pad","idx","tailIsPct3D","estimateDataURLDecodedBytes","convertedData","statusText","asBlob","_Blob","ERR_INVALID_URL","isBase64","ERR_NOT_SUPPORT","fromDataURI","Readable","onUploadProgress","onDownloadProgress","maxUploadRate","maxDownloadRate","userBoundary","form","headersHandler","tag","boundaryBytes","footerBytes","computedHeaders","formDataToStream$1","hasContentLength","promisify","setContentLength","getContentLength","objectMode","pipeline","paramsSerializer","customErr","exists","httpAgent","httpsAgent","transport","socketPath","isHttpsRequest","insecureHTTPParser","res","destroyed","streams","transformStream","responseStream","lastRequest","decompress","createUnzip","offListeners","statusMessage","responseBuffer","totalResponseBytes","responseData","setKeepAlive","ERR_BAD_OPTION_VALUE","timeoutErrorMessage","ETIMEDOUT","ECONNABORTED","_reject","onDoneHandler","isURLSameOrigin","isMSIE","cookies","expires","secure","cookie","toGMTString","remove","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","timeoutMessage","withCredentials","withXSRFToken","configValue","resolveConfig","newConfig","allowedHeaders","xsrfValue","xhrAdapter","XMLHttpRequest","_config","requestData","onCanceled","uploadThrottled","downloadThrottled","flushUpload","flushDownload","onloadend","getAllResponseHeaders","responseText","open","onreadystatechange","readyState","responseURL","onabort","onerror","ERR_NETWORK","ontimeout","setRequestHeader","send","composeSignals$1","signals","streamChunk","trackStream","onProgress","onFinish","readStream","readBytes","_onFinish","loadedBytes","highWaterMark","globalFetchAPI","Request","Response","ReadableStream$1","TextEncoder$1","factory","envFetch","isFetchSupported","isRequestSupported","isResponseSupported","isReadableStreamSupported","encodeText","supportsRequestStream","duplexAccessed","hasContentType","supportsResponseStream","resolvers","_fetch","composedSignal","toAbortSignal","requestContentLength","_request","getBodyLength","resolveBodyLength","contentTypeHeader","isCredentialsSupported","resolvedOptions","credentials","isStreamResponse","responseContentLength","seedCache","getFetch","seeds","seed","knownAdapters","xhr","renderReason","isResolvedHandle","adapters","nameOrAdapter","rejectedReasons","reasons","throwIfCancellationRequested","throwIfRequested","dispatchRequest","validators$1","deprecatedWarnings","validator","ERR_DEPRECATED","spelling","correctSpelling","assertOptions","schema","allowUnknown","ERR_BAD_OPTION","validators","Axios","instanceConfig","interceptors","configOrUrl","dummy","boolean","withXsrfToken","contextHeaders","requestInterceptorChain","synchronousRequestInterceptors","interceptor","responseInterceptorChain","chain","onFulfilled","onRejected","getUri","generateHTTPMethod","isForm","Axios$1","CancelToken","resolvePromise","_listeners","_resolve","CancelToken$1","HttpStatusCode","Continue","SwitchingProtocols","Processing","EarlyHints","Ok","Created","Accepted","NonAuthoritativeInformation","NoContent","ResetContent","PartialContent","MultiStatus","AlreadyReported","ImUsed","MultipleChoices","MovedPermanently","Found","SeeOther","NotModified","UseProxy","Unused","TemporaryRedirect","PermanentRedirect","BadRequest","Unauthorized","PaymentRequired","Forbidden","NotFound","MethodNotAllowed","NotAcceptable","ProxyAuthenticationRequired","RequestTimeout","Conflict","Gone","LengthRequired","PreconditionFailed","PayloadTooLarge","UriTooLong","UnsupportedMediaType","RangeNotSatisfiable","ExpectationFailed","ImATeapot","MisdirectedRequest","UnprocessableEntity","Locked","FailedDependency","TooEarly","UpgradeRequired","PreconditionRequired","TooManyRequests","RequestHeaderFieldsTooLarge","UnavailableForLegalReasons","NotImplemented","BadGateway","ServiceUnavailable","GatewayTimeout","HttpVersionNotSupported","VariantAlsoNegotiates","InsufficientStorage","LoopDetected","NotExtended","NetworkAuthenticationRequired","HttpStatusCode$1","createInstance","defaultConfig","Cancel","isAxiosError","formToJSON","getAdapter","toStr","concatty","that","bound","arrLike","slicy","boundLength","boundArgs","joiny","Empty","u8","randomByte","getRandomValues","isNamedList","keyedList","ceil","ReferenceError","GetIntrinsic","hasToStringTag","overrideIfSet","force","nonConfigurable","__setModuleDefault","__createBinding","receiver","mod","__esModule","ownKeys","k2","o2","ar","createForm","fileBits","isOldNode","versions","hasUploadableValue","supportsFormDataMap","fetchObject","cached","FetchResponse","supportsFormData","addFormValue","isNamedBlob","isUploadable","_LineDecoder_buffer","_LineDecoder_carriageReturnIndex","findNewlineIndex","carriage","endIndex","preceding","startIndex","NEWLINE_CHARS","NEWLINE_REGEXP","GraderModelsAPI","grader_models_1","graderModels","$hasOwn","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","definition","__webpack_exports__"],"sourceRoot":""}